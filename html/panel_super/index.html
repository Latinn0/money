<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Money engeneering :: Panel</title>
    <link rel="shortcut icon" href="../img/favicon-credit-card.ico"/>
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
    <link href="../css/plugins/iCheck/custom.css" rel="stylesheet">
    <link href="../css/animate.css" rel="stylesheet">
    <link href="../css/style.css" rel="stylesheet">
    <link href="../css/plugins/sweetalert/sweetalert.css" rel="stylesheet">
    <link href="../css/plugins/toastr/toastr.min.css" rel="stylesheet">
    <link href="../css/datetimepicker.css" rel="stylesheet">

    <script src="https://www.gstatic.com/firebasejs/6.0.4/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-storage.js"></script>
    <script>
        if ( typeof module === "object" && typeof module.exports === "object" ) {
            window.$ = window.jQuery = require('jquery');
        }
    </script>

    <style>
        @media (max-width: 576px) {
            .profile-info{
                margin-left: 0%;
            }
            .profile-image{
                margin-left: 31%;
            }
            .modalete{
                left: -3% !important;
                width: auto !important;
            }
        }
        /*@media (max-width: 768px) {
            .profile-info{
                margin-left: 0%;
            }
            .profile-info{
                margin-left: 0%;
            }
        }*/
        /*@media (max-width: 992px) {
            .profile-info{
                margin-left: 0%;
            }
            .profile-info{
                margin-left: 0%;
            }
        }*/
        /*@media (max-width: 1200px) {
            .profile-info{
                margin-left: 0%;
            }
            .profile-info{
                margin-left: 0%;
            }
        }*/
    </style>
</head>

<body class="fixed-sidebar no-skin-config full-height-layout">

<div id="wrapper">

    <div class="modal inmodal" id="identidad_fotos" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content animated bounceInRight">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span
                            aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title">Información visual</h4>
                </div>
                <div class="modal-body" align="center">
                    <div class="col-xs-12">
                        <img id="idfoto" class="ima" src="../img/profile_small.png"
                             style="padding:4px;max-width: 100%;height: auto;display:block;"/>
                    </div>
                    <div class="col-xs-12 img-fluid">
                        <img id="caratula" class="ima" src="../img/profile_small.png"
                             style="padding:4px;max-width: 100%;height: auto;display:block;"/>
                    </div>
                    <div class="col-xs-12 img-fluid">
                        <img id="reverso" class="ima" src="../img/profile_small.png"
                             style="padding:4px;max-width: 100%;height: auto;display:block;"/>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-white" data-dismiss="modal">Cerrar</button>
                </div>
            </div> 
        </div>
    </div>

	<div class="modal inmodal" id="seccione_beta" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog">
		<div class="modal-content animated bounceInRight">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
					<i class="fa fa-times modal-icon"></i>
					<h4 class="modal-title">Seleccione tipo de beta</h4>
				</div>
				<div class="modal-body">
					<p>
						<select class="form-control" id="tipo_beta">
							<option>Seleccione</option>
							<option value="1">Cliente no quiere pagar (Clavo)</option>
							<option value="2">Cliente se fugo (Volado)</option>
							<option value="3">Cliente inventado (Ficticia)</option>
						</select>
					</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-white" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>

	<div class="modal inmodal" id="modal_base" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog">
		<div class="modal-content animated bounceInRight">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
					<i class="fa fa-credit-card modal-icon"></i>
					<h4 class="modal-title">Registro y visualizacion de base</h4>
				</div>

				<div class="modal-body" style="display: flex;">
					<div class="col-sm-9 col-md-9 col-xs-9" id="cedula_divm">
                        <form role="form">
                            <div class="form-group"><label>Monto de base</label> <input id="base_monto"
                                                                                        type="number"
                                                                                        placeholder=""
                                                                                        class="form-control">
                            </div>
                        </form>
                    </div>

					 <div class="ccol-sm-3 col-md-3 col-xs-3" style="margin-top: 6%">
                        <form role="form">
                            <button type="button" class="btn btn-primary" id="save_base" >Guardar</button>
                        </form>
                    </div>


				</div>
				<div class="modal-footer">
					<label id="base_anterior">Base anterior: $0 Guardado: cargando...</label>
					<button type="button" class="btn btn-white" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>

	<div class="modal inmodal" id="modal_comporta" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content animated fadeIn">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
					<h4 class="modal-title">Comportamiento</h4>
				</div>
				<div class="modal-body">
					<div class="row">
						 <div class="col-sm-4 col-md-4 col-xs-12">
							<table class="table">
								<thead>
								<tr>
									<th colspan="3" style="color:white;background-color:#28a745cc;">Cuotas completas</th>
								</tr>
								</thead>
								<tbody>
								<tr>
									<td>Cantidad:</td>
									<td>Porcentaje:</td>
									<td>Total:</td>
								</tr>
								<tr>
									<td id="com_canti"></td>
									<td id="com_porce"></td>
									<td id="com_valor"></td>
								</tr>
								</tbody>
							</table>
						</div>

						<div class="col-sm-4 col-md-4 col-xs-12">
							<table class="table">
								<thead>
								<tr>
									<th colspan="3" style="color:white;background-color:#fd7e14cc;">Cuotas incompletas</th>
								</tr>
								</thead>
								<tbody>
								<tr>
									<td>Cantidad:</td>
									<td>Porcentaje:</td>
									<td>Total:</td>
								</tr>
								<tr>
									<td id="mcom_canti"></td>
									<td id="mcom_porce"></td>
									<td id="mcom_valor"></td>
								</tr>
								</tbody>
							</table>
						</div>


						<div class="col-sm-4 col-md-4 col-xs-12">
							<table class="table">
								<thead>
								<tr>
									<th colspan="3" style="color:white;background-color:#dc3545cc;">Cuotas no pagadas</th>
								</tr>
								</thead>
								<tbody>
								<tr>
									<td>Cantidad:</td>
									<td>Porcentaje:</td>
									<td>Total:</td>
								</tr>
								<tr>
									<td id="incom_canti"></td>
									<td id="incom_porce"></td>
									<td id="incom_valor"></td>
								</tr>
								</tbody>
							</table>
						</div>

						<div class="col-sm-4 col-md-4 col-xs-12">
							<table class="table">
								<thead>
								<tr>
									<th colspan="3" style="color:white;background-color:#007bffcc;">Recaudo</th>
								</tr>
								</thead>
								<tbody>
								<tr>
									<td>Cantidad:</td>
									<td>Porcentaje:</td>
									<td>Total:</td>
								</tr>
								<tr>
									<td id="rcom_canti"></td>
									<td id="rcom_porce"></td>
									<td id="rcom_valor"></td>
								</tr>
								</tbody>
							</table>
						</div>

						<div class="col-sm-4 col-md-4 col-xs-12">
							<table class="table">
								<thead>
								<tr>
									<th colspan="3" style="color:white;background-color:#ffc107cc;">Estimado</th>
								</tr>
								</thead>
								<tbody>
								<tr>
									<td>Cantidad:</td>
									<td>Porcentaje:</td>
									<td>Total:</td>
								</tr>
								<tr>
									<td id="ecom_canti"></td>
									<td id="ecom_porce"></td>
									<td id="ecom_valor"></td>
								</tr>
								</tbody>
							</table>
						</div>

						<div class="col-sm-4 col-md-4 col-xs-12">
							<table class="table">
								<thead>
								<tr>
									<th colspan="3" style="color:white;background-color:#343a40cc;">Capital</th>
								</tr>
								</thead>
								<tbody>
								<tr>
									<td>Total:</td>
								</tr>
								<tr>
									<td id="todi_capi"></td>
								</tr>
								</tbody>
							</table>
						</div>

						<div class="col-sm-4 col-md-4 col-xs-12">
							<table class="table">
								<thead>
								<tr>
									<th colspan="3" style="color:white;background-color:#6f42c1;">Clavos</th>
								</tr>
								</thead>
								<tbody>
								<tr>
									<td>Total:</td>
									<td>Cantidad:</td>
								</tr>
								<tr>
									<td id="inclavos"></td>
									<td id="cinclavos"></td>
								</tr>
								</tbody>
							</table>
						</div>

						<div class="col-sm-4 col-md-4 col-xs-12">
							<table class="table">
								<thead>
								<tr>
									<th colspan="3" style="color:white;background-color:#17a2b8;">Volados</th>
								</tr>
								</thead>
								<tbody>
								<tr>
									<td>Total:</td>
									<td>Cantidad:</td>
								</tr>
								<tr>
									<td id="involados"></td>
									<td id="cinvolados"></td>
								</tr>
								</tbody>
							</table>
						</div>

						<div class="col-sm-4 col-md-4 col-xs-12">
							<table class="table">
								<thead>
								<tr>
									<th colspan="3" style="color:white;background-color:#e83e8c;">Ficticias</th>
								</tr>
								</thead>
								<tbody>
								<tr>
									<td>Total:</td>
									<td>Cantidad:</td>
								</tr>
								<tr>
									<td id="inficticios"></td>
									<td id="cinficticios"></td>
								</tr>
								</tbody>
							</table>
						</div>

						<label style="margin-top: 6px;" id="capital_pendiente"></label>
					</div>

				</div>
				<div class="modal-footer">
					 <label style="margin-top: 6px;" id="capital_neto"></label><button type="button" class="btn btn-white" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>


    <div class="modal inmodal" id="popop_new_cliente" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div  class="modal-content animated bounceInRight modalete" style="left: -24%;width: 789px;margin: 30px auto;">
                <div class="modal-header" style="text-align: inherit;padding: 1px 15px;">
                    <button type="button" class="close" data-dismiss="modal"><span
                            aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title">Creación de cliente</h4>
                </div>
                <div class="modal-body row" style="margin-left: 0px;margin-right: 0px;">

                    <div class="col-sm-6 col-md-3 col-xs-12" align="center" style="padding: 3%;">
                        <img id="foto_m4m" src="../img/default.jpg"
                             style="height: 111px;cursor:pointer;">
                    </div>

                    <div class="col-sm-6 col-md-3 col-xs-12" align="center" style="padding: 3%;">
                        <img id="foto_m1m" src="../img/foto_cedula_front.png"
                             style="height: 111px;cursor:pointer;">
                    </div>

                    <div class="col-sm-6 col-md-3 col-xs-12" align="center" style="padding: 3%;">
                        <img id="foto_m2m" src="../img/foto_cedula_back.png"
                             style="height:111px;cursor:pointer;">
                    </div>
                    <div class="col-sm-6 col-md-3 col-xs-12" align="center" style="padding: 3%;">
                        <img id="foto_m3m" src="../img/foto_resivo.png"
                             style="width:167px;height:111px;cursor:pointer;">
                    </div>

                    <div class="col-sm-6 col-md-3 col-xs-12">
                        <label>Nacionalidad</label>
                        <select class="form-control m-b" id="pais_selecionadom">
                            <option value="1">Colombia</option>
                            <option value="2">Venezuela</option>
                        </select>
                    </div>

                    <div class="col-sm-6 col-md-3 col-xs-12" id="letra_venezuelam">
                        <label>Tipo</label>
                        <select class="form-control m-b" id="tipo_letram">
                            <option>V</option>
                            <option>E</option>
                            <option>J</option>
                            <option>G</option>
                        </select>
                    </div>

                    <div class="form-group col-sm-6 col-md-6 col-xs-12" id="cedula_divm">
                        <label>Cedula/Dni</label>
                        <div class="input-group"><input placeholder="Inserte su numero de documento" id="numero_idm" type="number" class="form-control">
                            <span class="input-group-append"> <button type="button" id="consultar_registram" class="btn btn-primary"><i class="fa fa-search"></i>
                                        </button> </span></div>
                    </div>

                    <div class="col-sm-6 col-md-3 col-xs-12" >
                        <form role="form">
                            <div class="form-group"><label>Alias</label> <input
                                    id="alias_text" type="text" placeholder="" class="form-control">
                            </div>
                        </form>
                    </div>

                    <div class="col-sm-6 col-md-3 col-xs-12" id="cedula_divm">
                        <form role="form">
                            <div class="form-group"><label>Primer nombre</label> <input id="nombre_id1m"
                                                                                        type="text"
                                                                                        placeholder=""
                                                                                        class="form-control">
                            </div>
                        </form>
                    </div>

                    <div class="col-sm-6 col-md-3 col-xs-12" id="cedula_divm">
                        <form role="form">
                            <div class="form-group"><label>Segundo nombre</label> <input id="nombre_id2m"
                                                                                         type="text"
                                                                                         placeholder=""
                                                                                         class="form-control">
                            </div>
                        </form>
                    </div>

                    <div class="col-sm-6 col-md-3 col-xs-12" id="cedula_divm">
                        <form role="form">
                            <div class="form-group"><label>Primer apellido</label> <input id="apellido_id1m"
                                                                                          type="text"
                                                                                          placeholder=""
                                                                                          class="form-control">
                            </div>
                        </form>
                    </div>

                    <div class="col-sm-6 col-md-3 col-xs-12" id="cedula_divm">
                        <form role="form">
                            <div class="form-group"><label>Segundo apellido</label> <input id="apellido_id2m"
                                                                                           type="text"
                                                                                           placeholder=""
                                                                                           class="form-control">
                            </div>
                        </form>
                    </div>

                    <div class="col-sm-6 col-md-3 col-xs-12" id="cedula_divm">
                        <form role="form">
                            <div class="form-group"><label>Dirección</label> <input id="direccion_ubicam"
                                                                                    type="text"
                                                                                    placeholder="Inserte la dirección"
                                                                                    class="form-control"></div>
                        </form>
                    </div>

                    <div class="col-sm-6 col-md-3 col-xs-12">
                        <label>Departamento</label>
                        <select class="form-control m-b" id="tipo_departamentom">
                            <option value="">Seleccione</option>
                        </select>
                    </div>

                    <div class="col-sm-6 col-md-3 col-xs-12">
                        <label>Ciudad</label>
                        <select class="form-control m-b" id="tipo_ciudadesm">
                            <option value="">Seleccione</option>
                        </select>
                    </div>

                    <div class="col-sm-6 col-md-3 col-xs-12">
                        <label>Barrio</label>
                        <select class="form-control m-b" id="tipo_barriom">
                            <option value="">Seleccione</option>
                        </select>
                    </div>

                    <div class="col-sm-6 col-md-3 col-xs-12">
                        <form role="form">
                            <div class="form-group"><label>Telefono celular</label> <input id="telefono_celm"
                                                                                        type="text"
                                                                                        placeholder=""
                                                                                        class="form-control">
                            </div>
                        </form>
                    </div>

                    <div class="col-sm-6 col-md-3 col-xs-12">
                        <form role="form">
                            <div class="form-group"><label>Telefono fijo</label> <input id="telefono_fijom"
                                                                                           type="text"
                                                                                           placeholder=""
                                                                                           class="form-control">
                            </div>
                        </form>
                    </div>

                    <div class="col-sm-6 col-md-3 col-xs-12">
                        <form role="form">
                            <div class="form-group"><label>Correo electronico</label> <input
                                    id="correo_electronicom" type="email" placeholder="" class="form-control">
                            </div>
                        </form>
                    </div>

					<div class="col-sm-6 col-md-3 col-xs-12" style="margin-top: 4%;">
                        <form role="form">
                            <button class="btn btn-primary btn-sm" style="margin-left: 14px;" id="seguro_admin"
                                    type="button">Por actualizacion
                            </button>
                        </form>
                    </div>


                    <div class="col-xs-12"  style="margin-top: 1px;margin-right: 4%;">
                        <form role="form">
                            <button class="btn btn-primary btn-sm" style="margin-left: 14px;" id="registro_finalm"
                                    type="button">Registrar en sistema
                            </button>
                        </form>
                    </div>

                    <div class="col-xs-12 " style="margin-top: 1px">
                        <form role="form">
                            <button type="button" class="btn btn-white" data-dismiss="modal">Cerrar</button>
                        </form>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <nav class="navbar-default navbar-static-side" role="navigation">
        <div class="sidebar-collapse">
            <ul class="nav metismenu" id="side-menu">
                <li class="nav-header">
                    <div class="dropdown profile-element">
                        <img alt="image" src="../img/profile_small.png"
                             style="margin-top: -24px;width: 137px;height: 40px;"/>
                        <a data-toggle="dropdown" class="dropdown-toggle" href="index.html">
                            <span class="block m-t-xs font-bold" style="margin-left: 21%;">Super administrador</span>
                        </a>
                    </div>
                    <div class="logo-element">
                        ME
                    </div>
                </li>
                <li>
                    <a href="#"><i class="fa fa-users"></i> <span class="nav-label">Asesor</span><span class="fa arrow"></span></a>
                    <ul class="nav nav-second-level collapse">
                        <li><a href="javascript:asesores_panel();">Registrar</a></li>
                        <li><a href="javascript:asesores_lista();">Consultar asesores</a></li>
                        <li><a href="javascript:asesores_supervisores();">Consultar supervisores</a></li>
                        <li><a href="javascript:asesores_ayudante();">Consultar ayudante</a></li>
                    </ul>

                </li>
                <li>

                    <a href="#"><i class="fa fa-user"></i> <span class="nav-label">Clientes</span><span class="fa arrow"></span></a>
                    <ul class="nav nav-second-level collapse">
                        <li><a href="javascript:crear_infor();">Registrar</a></li>
                        <li><a href="javascript:cliente_lista();">Consultar</a></li>
                    </ul>


                </li>
                <li>
                    <a href="javascript:asignar_supervisor_asesor();"><i class="fa fa-check-square"></i> <span
                            class="nav-label">Asignar cargos</span></a>
                </li>

                <li>

                    <a href="#"><i class="fa fa-copy"></i> <span class="nav-label">Contrato</span><span class="fa arrow"></span></a>
                    <ul class="nav nav-second-level collapse">
                        <li><a href="javascript:crear_contrato();">Registrar</a></li>
                        <li><a href="javascript:vers_contratos();">Consultar</a></li>
                       <!-- <li><a href="javascript:migrar_cion();">Migrar</a></li>-->
                    </ul>

                </li>

                <li>

                    <a href="#"><i class="fa fa-hand-holding-usd"></i> <span class="nav-label">Administración</span><span class="fa arrow"></span></a>
                    <ul class="nav nav-second-level collapse">
                        <li><a href="javascript:informe_completo();">Liquidación</a></li>
                    </ul>
                    <!--<ul class="nav nav-second-level collapse">
                        <li><a href="javascript:informe_completo_finanza();">Finanza</a></li>
                    </ul>-->


                </li>


                <li>
                    <a href="javascript:asig_configuracion();"><i class="fa fa-cogs"></i> <span
                            class="nav-label">Configuración</span></a>
                </li>

                <li>
                    <a id="couta_search" href="javascript:buscar_mapa();"><i class="fa fa-map-marker"></i> <span
                            class="nav-label">Mapa de clientes</span></a>
                </li>

            </ul>

        </div>
    </nav>

    <div id="page-wrapper" style="min-height: 757px;" class="gray-bg">
        <div class="row border-bottom">
            <nav class="navbar navbar-static-top" role="navigation" style="margin-bottom: 0">

                <div class="navbar-header">
                    
<a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="#"><i class="fa fa-bars"></i>
</a>
                    <form role="search" class="navbar-form-custom">
                        <div class="form-group pull-right">
                            <img alt="image" src="../img/logos.png" style="width: 195px;margin-top: 11px;  margin-left: 700px;" />
                        </div>
                    </form>

                </div>
                <ul class="nav navbar-top-links navbar-right">
                
                    <li>
                        <a href="javascript:salida_sistema();">
                            <i class="fa fa-sign-out"></i> Salir
                        </a>
                    </li>
                </ul>

            </nav>
        </div>

        <div class="wrapper wrapper-content animated fadeInRight">


            <div class="row">


                <div class="col-lg-12" id="suplanter" style="display:none;">
                    <div class="ibox ">
                        <div class="ibox-title">
                            <h5>Suplantar asesores</h5>
                        </div>
                        <div class="ibox-content row" style="margin-right: 0px;margin-left: 0px;">
                            <div class="col-sm-6 col-md-4 col-xs-12" align="center" style="padding: 5%;">
                                <img id="su_foto_m1" src="../img/default.jpg"
                                     style="width:169px;height:164px;cursor:pointer;">
                            </div>
                            <div class="col-sm-6 col-md-4 col-xs-12" align="center" style="padding: 5%;">
                                <img id="su_foto_m2" src="../img/foto_cedula_front.png"
                                     style="width:inherit;height:134px;cursor:pointer;">
                            </div>
                            <div class="col-sm-6 col-md-4 col-xs-12" align="center" style="padding: 5%;">
                                <img id="su_foto_m3" src="../img/foto_cedula_back.png"
                                     style="width:inherit;height:134px;cursor:pointer;">
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <label>Nacionalidad</label>
                                <select class="form-control m-b" id="su_pais_selecionado">
                                    <option value="1">Colombia</option>
                                    <option value="2">Venezuela</option>
                                </select>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12" id="su_letra_venezuela">
                                <label>Tipo</label>
                                <select class="form-control m-b" id="su_tipo_letra">
                                    <option>V</option>
                                    <option>E</option>
                                    <option>J</option>
                                    <option>G</option>
                                </select>
                            </div>

                            <div class="form-group col-sm-3 col-md-3 col-xs-3" id="su_cedula_div">
                                <label>Cedula/Dni</label>
                                <div class="input-group"><input placeholder="Inserte su numero de documento" id="su_numero_id" type="number" class="form-control"> <span class="input-group-append"> <button type="button" id="su_consultar_registra" class="btn btn-primary"><i class="fa fa-search"></i>
                                        </button> </span></div>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <form role="form">
                                    <div class="form-group"><label>Contraseña de acceso</label> <input id="su_contra_sena"
                                                                                                type="text"
                                                                                                placeholder=""
                                                                                                class="form-control">
                                    </div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12" id="su_cedula_div">
                                <form role="form">
                                    <div class="form-group"><label>Primer nombre</label> <input id="su_nombre_id1"
                                                                                                type="text"
                                                                                                placeholder=""
                                                                                                class="form-control">
                                    </div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12" id="su_cedula_div">
                                <form role="form">
                                    <div class="form-group"><label>Segundo nombre</label> <input id="su_nombre_id2"
                                                                                                 type="text"
                                                                                                 placeholder=""
                                                                                                 class="form-control">
                                    </div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12" id="su_cedula_div">
                                <form role="form">
                                    <div class="form-group"><label>Primer apellido</label> <input id="su_apellido_id1"
                                                                                                  type="text"
                                                                                                  placeholder=""
                                                                                                  class="form-control">
                                    </div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12" id="su_cedula_div">
                                <form role="form">
                                    <div class="form-group"><label>Segundo apellido</label> <input id="su_apellido_id2"
                                                                                                   type="text"
                                                                                                   placeholder=""
                                                                                                   class="form-control">
                                    </div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12" id="su_cedula_div">
                                <form role="form">
                                    <div class="form-group"><label>Dirección</label> <input id="su_direccion_ubica"
                                                                                            type="text"
                                                                                            placeholder="Inserte la dirección"
                                                                                            class="form-control"></div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <label>Departamento</label>
                                <select class="form-control m-b" id="su_tipo_departamento">
                                    <option value="">Seleccione</option>
                                </select>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <label>Ciudad</label>
                                <select class="form-control m-b" id="su_tipo_ciudades">
                                    <option value="">Seleccione</option>
                                </select>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <label>Barrio</label>
                                <select class="form-control m-b" id="su_tipo_barrio">
                                    <option value="">Seleccione</option>
                                </select>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <form role="form">
                                    <div class="form-group"><label>Telefono celular</label> <input id="su_telefono_cel"
                                                                                                type="text"
                                                                                                placeholder=""
                                                                                                class="form-control">
                                    </div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <form role="form">
                                    <div class="form-group"><label>Telefono fijo</label> <input id="su_telefono_fijo"
                                                                                                   type="text"
                                                                                                   placeholder=""
                                                                                                   class="form-control">
                                    </div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <form role="form">
                                    <div class="form-group"><label>Correo electronico</label> <input
                                            id="su_correo_electronico" type="email" placeholder="" class="form-control">
                                    </div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <label>Cargo</label>
                                <select class="form-control m-b" id="su_tipo_cargo">
                                    <option value="">Seleccione</option>
                                    <option value="a">Asesor</option>
                                </select>
                            </div>

                            <div class="col-lg-12" id="su_moto_detalle" >
                                <form role="form">
                                    <div class="form-group"><label>Moto asignada</label> <input id="su_moto_detalle_list"
                                                                                                type="text"
                                                                                                placeholder="Inserte marca y numero de placa de la moto"
                                                                                                class="form-control">
                                    </div>
                                </form>
                            </div>

                            <button class="btn btn-primary btn-sm" style="margin-left: 14px;" id="su_registro_final"
                                    type="button">Suplantar o editar en sistema
                            </button>

                        </div>
                    </div>
                </div>

                <div class="col-lg-12" id="crear">
                    <div class="ibox ">
                        <div class="ibox-title">
                            <h5>Crear supervisores, asesores y ayudante</h5>
                        </div>
                        <div class="ibox-content row" style="margin-right: 0px;margin-left: 0px;">
                            <div class="col-sm-6 col-md-4 col-xs-12" align="center" style="padding: 5%;">
                                <img id="foto_m1" src="../img/default.jpg"
                                     style="width:169px;height:164px;cursor:pointer;">
                            </div>
                            <div class="col-sm-6 col-md-4 col-xs-12" align="center" style="padding: 5%;">
                                <img id="foto_m2" src="../img/foto_cedula_front.png"
                                     style="width:inherit;height:134px;cursor:pointer;">
                            </div>
                            <div class="col-sm-6 col-md-4 col-xs-12" align="center" style="padding: 5%;">
                                <img id="foto_m3" src="../img/foto_cedula_back.png"
                                     style="width:inherit;height:134px;cursor:pointer;">
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <label>Nacionalidad</label>
                                <select class="form-control m-b" id="pais_selecionado">
                                    <option value="1">Colombia</option>
                                    <option value="2">Venezuela</option>
                                </select>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12" id="letra_venezuela">
                                <label>Tipo</label>
                                <select class="form-control m-b" id="tipo_letra">
                                    <option>V</option>
                                    <option>E</option>
                                    <option>J</option>
                                    <option>G</option>
                                </select>
                            </div>

                            <div class="form-group col-sm-6 col-md-6 col-xs-6" id="cedula_div">
                                <label>Cedula/Dni</label>
                                <div class="input-group"><input placeholder="Inserte su numero de documento" id="numero_id" type="number" class="form-control"> <span class="input-group-append"> <button type="button" id="consultar_registra" class="btn btn-primary"><i class="fa fa-search"></i>
                                        </button> </span></div>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <form role="form">
                                    <div class="form-group"><label>Contraseña de acceso</label> <input id="contra_sena"
                                                                                                type="password"
                                                                                                placeholder=""
                                                                                                class="form-control">
                                    </div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12" id="cedula_div">
                                <form role="form">
                                    <div class="form-group"><label>Primer nombre</label> <input id="nombre_id1"
                                                                                                type="text"
                                                                                                placeholder=""
                                                                                                class="form-control">
                                    </div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12" id="cedula_div">
                                <form role="form">
                                    <div class="form-group"><label>Segundo nombre</label> <input id="nombre_id2"
                                                                                                 type="text"
                                                                                                 placeholder=""
                                                                                                 class="form-control">
                                    </div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12" id="cedula_div">
                                <form role="form">
                                    <div class="form-group"><label>Primer apellido</label> <input id="apellido_id1"
                                                                                                  type="text"
                                                                                                  placeholder=""
                                                                                                  class="form-control">
                                    </div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12" id="cedula_div">
                                <form role="form">
                                    <div class="form-group"><label>Segundo apellido</label> <input id="apellido_id2"
                                                                                                   type="text"
                                                                                                   placeholder=""
                                                                                                   class="form-control">
                                    </div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12" id="cedula_div">
                                <form role="form">
                                    <div class="form-group"><label>Dirección</label> <input id="direccion_ubica"
                                                                                            type="text"
                                                                                            placeholder="Inserte la dirección"
                                                                                            class="form-control"></div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <label>Departamento</label>
                                <select class="form-control m-b" id="tipo_departamento">
                                    <option value="">Seleccione</option>
                                </select>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <label>Ciudad</label>
                                <select class="form-control m-b" id="tipo_ciudades">
                                    <option value="">Seleccione</option>
                                </select>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <label>Barrio</label>
                                <select class="form-control m-b" id="tipo_barrio">
                                    <option value="">Seleccione</option>
                                </select>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <form role="form">
                                    <div class="form-group"><label>Telefono celular</label> <input id="telefono_cel"
                                                                                                type="text"
                                                                                                placeholder=""
                                                                                                class="form-control">
                                    </div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <form role="form">
                                    <div class="form-group"><label>Telefono fijo</label> <input id="telefono_fijo"
                                                                                                   type="text"
                                                                                                   placeholder=""
                                                                                                   class="form-control">
                                    </div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <form role="form">
                                    <div class="form-group"><label>Correo electronico</label> <input
                                            id="correo_electronico" type="email" placeholder="" class="form-control">
                                    </div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <label>Cargo</label>
                                <select class="form-control m-b" id="tipo_cargo">
                                    <option value="">Seleccione</option>
                                    <option value="a">Asesor</option>
                                    <option value="b">Ayudante</option>
                                    <option value="c">Supervisor</option>
                                    <option value="d">Administrador</option>
                                </select>
                            </div>

                            <div class="col-lg-12" id="moto_detalle" style="display:none;">
                                <form role="form">
                                    <div class="form-group"><label>Moto asignada</label> <input id="moto_detalle_list"
                                                                                                type="text"
                                                                                                placeholder="Inserte marca y numero de placa de la moto"
                                                                                                class="form-control">
                                    </div>
                                </form>
                            </div>

                            <button class="btn btn-primary btn-sm" style="margin-left: 14px;" id="registro_final"
                                    type="button">Registrar en sistema
                            </button>

                        </div>
                    </div>
                </div>

                <div class="col-lg-12" id="lista_ase">
                    <div class="ibox ">
                        <div class="ibox-title">
                            <h5>Lista de asesores</h5>
                        </div>
                        <div class="ibox-content">
                            <div class="table-responsive">
                                <table class="table table-striped">
                                    <thead>
                                    <tr align="center">
                                        <th>Id</th>
                                        <th>Nombre</th>
                                        <th>Cedula</th>
                                        <th>Departamento</th>
                                        <th>Ciudad</th>
                                        <th>Barrio</th>
                                        <th>Dirección</th>
                                        <th>Celular</th>
                                        <th>Telefono</th>
                                        <th>Editar o suplantar</th>
                                    </tr>
                                    </thead>
                                    <tbody align="center" id="listado_asesores">
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="col-lg-12" id="lista_sup">
                    <div class="ibox ">
                        <div class="ibox-title">
                            <h5>Lista de supervisores</h5>
                        </div>
                        <div class="ibox-content">
                            <div class="table-responsive">
                                <table class="table table-striped">
                                    <thead>
                                    <tr align="center">
                                        <th>Id</th>
                                        <th>Nombre</th>
                                        <th>Cedula</th>
                                        <th>Departamento</th>
                                        <th>Ciudad</th>
                                        <th>Barrio</th>
                                        <th>Dirección</th>
                                        <th>Celular</th>
                                        <th>Telefono</th>
                                        <th>Moto</th>
                                        <th>Imagen</th>
                                    </tr>
                                    </thead>
                                    <tbody align="center" id="listado_supervisor">
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="col-lg-12" id="lista_ayu">
                    <div class="ibox ">
                        <div class="ibox-title">
                            <h5>Lista de ayudantes</h5>
                        </div>
                        <div class="ibox-content">
                            <div class="table-responsive">
                                <table class="table table-striped">
                                    <thead>
                                    <tr align="center">
                                        <th>Id</th>
                                        <th>Nombre</th>
                                        <th>Cedula</th>
                                        <th>Departamento</th>
                                        <th>Ciudad</th>
                                        <th>Barrio</th>
                                        <th>Dirección</th>
                                        <th>Celular</th>
                                        <th>Telefono</th>
                                        <th>Moto</th>
                                        <th>Imagen</th>
                                    </tr>
                                    </thead>
                                    <tbody align="center" id="listado_ayudante">
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="col-lg-12" id="asig_supervidor">
                    <div class="ibox ">
                        <div class="ibox-title">
                            <h5>Asignación de cargos diarios</h5>
                        </div>
                        <div class="ibox-content row" style="margin-right: 0px;margin-left: 0px;">

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <label>Empleado</label>
                                <select class="form-control m-b" id="tipo_cargo_uno" disabled>
                                    <option value="">Seleccione</option>
                                </select>
                            </div>
                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <label>Cargo</label>
                                <select class="form-control m-b" id="tipo_cargo_select_ASIG">
                                    <option value="">Seleccione</option>
                                    <option value="b">Ayudante de</option>
                                    <option value="c">Supervisor de</option>
                                </select>
                            </div>
                            <div class="col-sm-6 col-md-3 col-xs-12 ">
                                <label>Asesor</label>
                                <select class="form-control m-b" id="tipo_cargo_dos" disabled>
                                    <option value="">Seleccione</option>
                                </select>
                            </div>
                            <div class="col-sm-6 col-md-3 col-xs-12" style="margin-top: 2%;">
                                <button class="btn btn-primary btn-lg btn-block"
                                        id="registro_relacion" type="button">Registrar en sistema
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-12" id="busqueda_asignaciones">
                    <div class="ibox ">
                        <div class="ibox-title">
                            <h5>Busqueda de asignaciones por fecha</h5>
                        </div>
                        <div class="ibox-content row" style="margin-right: 0px;margin-left: 0px;">

                            <div class="col-sm-6 col-md-4 col-xs-12">
                                <label>Id asesor</label>
                                <select class="form-control m-b" id="id_asesor">
                                </select>

                            </div>

                            <div class="col-sm-6 col-md-4 col-xs-12">
                                <form role="form">
                                    <div class="form-group"><label>Fecha de asignación</label> <input id="fecha_asesor"
                                                                                                      type="date"
                                                                                                      placeholder="Inserte fecha de asignación"
                                                                                                      class="form-control">
                                    </div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-4 col-xs-12" style="margin-top: 3%;">
                                <button class="btn btn-primary btn-lg btn-block btn-sm" style="margin-left: 2px;"
                                        id="busqueda_directa"
                                        type="button">Buscar
                                </button>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="col-lg-6" id="lista_asi_sup">
                    <div class="ibox ">
                        <div class="ibox-title">
                            <h5>Lista de Supervisores asignados</h5>
                        </div>
                        <div class="ibox-content row" style="margin-right: 0px;margin-left: 0px;">
                            <div class="table-responsive">
                                <table class="table table-striped">
                                    <thead>
                                    <tr align="center">
                                        <th>Nombre del supervisor</th>
                                        <th>Nombre del asesor</th>
                                    </tr>
                                    </thead>
                                    <tbody align="center" id="listado_supervisor_asignado">
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-12" id="cliente_lista_admi">
                    <div class="ibox ">
                        <div class="ibox-title">
                            <h5>Lista de clientes</h5>
                        </div>
                        <div class="ibox-content row" style="margin-right: 0px;margin-left: 0px;">
                            <div class="table-responsive">
                                <table class="table table-striped">
                                    <thead>
                                    <tr align="center">
                                        <th>Nombre</th>
                                        <th>Cedula</th>
                                        <th>Dirección</th>
                                        <th>Celular</th>
                                        <th>Opción</th>
                                    </tr>
                                    </thead>
                                    <tbody align="center" id="listado_liengenerela">
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-6" id="lista_asi_ayu">
                    <div class="ibox ">
                        <div class="ibox-title">
                            <h5>Lista de Ayudantes asignados</h5>
                        </div>
                        <div class="ibox-content row" style="margin-right: 0px;margin-left: 0px;">
                            <div class="table-responsive">
                                <table class="table table-striped">
                                    <thead>
                                    <tr align="center">
                                        <th>Nombre del ayudante</th>
                                        <th>Nombre del asesor</th>
                                    </tr>
                                    </thead>
                                    <tbody align="center" id="listado_ayudante_asignado">
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-12" id="configuracion_general">
                    <div class="ibox ">
                        <div class="ibox-title">
                            <h5>Configuración principal de credito</h5>
                        </div>
                        <div class="ibox-content row" style="margin-right: 0px;margin-left: 0px;">

                            <div class="col-sm-6 col-md-6 col-xs-12">
                                <form role="form">
                                    <div class="form-group"><label>Prestamo minimo <strong id="prestamo_principal_ini">$1.000</strong></label>
                                        <input id="prestamo_principal"
                                               type="range"
                                               class="form-control" disabled min="1000" max="50000"></div>
                                </form>
                                <form role="form">
                                    <div class="form-group"><label>Prestamo minimo </label> <input
                                            id="monto_num_prestamo"
                                            type="number" min="1000" max="50000"
                                            placeholder="" maxlength="8"
                                            class="form-control"></div>
                                </form>

                            </div>

                            <div class="col-sm-6 col-md-6 col-xs-12">
                                <form role="form">
                                    <div class="form-group"><label>Prestamo maximo <strong id="prestamo_principal_ini2">$50.000</strong></label>
                                        <input id="prestamo_principal2"
                                               type="range"
                                               class="form-control" disabled min="50000" max="99999999"></div>
                                </form>
                                <form role="form">
                                    <div class="form-group"><label>Prestamo maximo </label> <input
                                            id="monto_num_prestamo2"
                                            type="number" min="50000" max="99999999"
                                            placeholder="" maxlength="8"
                                            class="form-control"></div>
                                </form>

                            </div>

                            <div class="col-sm-6 col-md-4 col-xs-12">

                                <form role="form">
                                    <label>Interes por demora</label>
                                    <select class="form-control m-b" id="selector_demora">
                                        <option value="">Seleccione</option>
                                        <option value="1">Cobrar interes sobre la deuda</option>
                                        <option value="2">Cobrar interes sobre la monto</option>
                                        <option value="3">No cobrar interes por demora</option>
                                    </select>
                                </form>

                            </div>
                            <div class="col-sm-6 col-md-4 col-xs-12">

                                <form role="form">
                                    <label>Prestamos permitidos</label>
                                    <select class="form-control m-b" id="mora_clientes_prestamo">
                                        <option value="">Seleccione</option>
                                        <option value="1">Permitir crear prestamo a pesar que tiene otros prestamos otras empresas</option>
                                        <option value="2">Permitir crear prestamo a pesar que tiene otros prestamos en mi empresa</option>
                                        <option value="3">No creditar por tener prestamos</option>
                                    </select>
                                </form>

                            </div>

                            <div class="col-sm-6 col-md-4 col-xs-12">

                                <form role="form">
                                    <div class="form-group"><label>Cuotas permitidas para refinanciación </label> <input
                                            id="count_refinansacion"
                                            type="number" min="1" max="100"
                                            placeholder="" maxlength="2"
                                            class="form-control"></div>
                                </form>

                            </div>

                            <div class="col-sm-6 col-md-4 col-xs-12">
                                <form role="form">
                                    <div class="form-group"><label>Nombre de empresa</label> <input
                                            id="nom_empresa"
                                            type="text"  maxlength="120"
                                            class="form-control"></div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-4 col-xs-12">
                                <form role="form">
                                    <div class="form-group"><label>Dirección de empresa</label> <input
                                            id="dire_empresa"
                                            type="text"  maxlength="120"
                                            class="form-control"></div>
                                </form>
                            </div>


                            <div class="col-sm-6 col-md-4 col-xs-12">
                                <form role="form">
                                    <div class="form-group"><label>Nit de empresa</label> <input
                                            id="nit_empresa"
                                            type="text"  maxlength="120"
                                            class="form-control"></div>
                                </form>
                            </div>


                            <div class="col-sm-6 col-md-6 col-xs-12">

                                <form role="form">
                                    <label>Colores de dia</label>
                                    <select class="form-control m-b" id="dias_colores">
                                    </select>
                                </form>

                            </div>

                            <div class="col-sm-2 col-md-2 col-xs-12" style="display: none;">

                                <form role="form">
                                    <input type="color"
                                           class="form-control" id="color_click" style="margin-bottom: 11px;">
                                </form>

                            </div>

                            <div class="col-sm-6 col-md-6 col-xs-12" style="margin-top: 3%;text-align: center;">
                                <div class="form-group" style="display: inline-flex;">
                                    <div id="valor_lunes"
                                         style="padding-top: 12px;padding-left: 14px;padding-right: 14px;padding-bottom: 12px;background-color: #007bff;color: white;border-radius: 3px;">
                                        L
                                    </div>
                                    <div id="valor_martes"
                                         style="padding: 12px;background-color: #dc3545;color: white;border-radius: 3px; margin-left: 2px;">
                                        M
                                    </div>
                                    <div id="valor_miercoles"
                                         style="padding: 12px;background-color: #ffc107;color: white;border-radius: 3px; margin-left: 2px;">
                                        M
                                    </div>
                                    <div id="valor_jueves"
                                         style="padding-top: 12px;padding-left: 16px;padding-right: 15px;padding-bottom: 12px;background-color: #28a745;color: white;border-radius: 3px; margin-left: 2px;">
                                        J
                                    </div>
                                    <div id="valor_viernes"
                                         style="padding-top: 12px;padding-left: 14px;padding-right: 14px;padding-bottom: 12px;background-color: #6f42c1;color: white;border-radius: 3px; margin-left: 2px;">
                                        V
                                    </div>
                                    <div id="valor_sabado"
                                         style="padding: 12px;background-color: #e83e8c;color: white;border-radius: 3px; margin-left: 2px;">
                                        S
                                    </div>
                                    <div id="valor_domingo"
                                         style="padding: 12px;background-color: #6c757d;color: white;border-radius: 3px; margin-left: 2px;">
                                        D
                                    </div>
                                </div>
                            </div>

                            <div class="col-xs-12" style="margin-left: 2%;">
                                <button class="btn btn-primary btn-block " style="margin-left: 2px;"
                                        id="configurar_directa"
                                        type="button">Configurar
                                </button>

                            </div>


                        </div>
                    </div>
                </div>

                <div class="col-lg-12" id="crear_contrato_form">
                    <div class="ibox ">
                        <div class="ibox-title">
                            <h5>Creación de contrato</h5>
                        </div>
                        <div class="ibox-content row" style="margin-right: 0px;margin-left: 0px;">


                            <div class="col-sm-6 col-md-6 col-lg-6">
                                <div class="profile-image" style="margin-top: 12%;">
                                    <img src="../img/default.jpg" id="asesor_foto_selec" class="rounded-circle circle-border m-b-md" alt="profile">
                                </div>
                                <div class="profile-info col-xs-12">

                                    <div class="col-xs-12">
                                        <form role="form">
                                            <label>Lista de asesores a asignar</label>
                                            <select class="form-control m-b" id="selector_asesores_lista">
                                            </select>
                                        </form>
                                    </div>
                                    <div class="col-xs-12">
                                            <form role="form">
                                                <div class="form-group"><label>Cedula del asesor</label> <input
                                                        id="text_cedula_asesor"
                                                        type="text" disabled
                                                        placeholder=""
                                                        class="form-control"></div>
                                            </form>
                                        </div>

                                </div>
                            </div>


                            <div class="col-sm-6 col-md-6 col-lg-6">
                                <div class="profile-image" style="margin-top: 12%;">
                                    <img src="../img/default.jpg" id="foto_user_clien" class="rounded-circle circle-border m-b-md" alt="profile">
                                </div>
                                <div class="profile-info">

                                    <div class="form-group col-xs-6">
                                        <label>Cedula del cliente</label>
                                        <div class="input-group"><input disabled placeholder="Inserte cedula" id="text_cedula_cliente" type="text" class="form-control"> <span class="input-group-append"> <button type="button" id="buscar_cedula_cliente" disabled class="btn btn-primary"><i class="fa fa-search"></i>
                                        </button> </span></div>
                                    </div>


                                    <div class="col-xs-6">
                                        <form role="form">
                                            <div class="form-group"><label>Nombre y apellido</label> <input
                                                    id="text_nombre_cliente"
                                                    type="text" disabled
                                                    placeholder=""
                                                    class="form-control"></div>
                                        </form>
                                    </div>

                                </div>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="col-lg-12" id="configuracion_general_cuotas">
                    <div class="ibox ">
                        <div class="ibox-title">
                            <h5>Configuración cuotas</h5>
                        </div>
                        <div class="ibox-content row" style="margin-right: 0px;margin-left: 0px;">

                            <div class="col-sm-12 col-md-12 col-xs-12">
                                <table class="table table-striped">
                                    <thead>
                                    <tr align="center">
                                        <th>Descripción de cuota</th>
                                        <th>Dias de cuota</th>
                                        <th>Interes que se aplica</th>
                                        <th>Opción</th>
                                    </tr>
                                    </thead>
                                    <tbody align="center" id="listado_cuotas_lis">
                                    </tbody>
                                </table>
                            </div>


                            <div class="col-sm-6 col-md-3 col-xs-12">

                                <form role="form">
                                    <div class="form-group"><label>Descripción de cuota </label> <input
                                            id="descripcion_couta"
                                            type="text"
                                            placeholder="Nombre de cuota"
                                            class="form-control"></div>

                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">

                                <form role="form">
                                    <div class="form-group"><label>Dias de prestamo </label> <input id="dias_coutas"
                                                                                                    type="number"
                                                                                                    min="2" max="365"
                                                                                                    placeholder=""
                                                                                                    maxlength="3"
                                                                                                    class="form-control">
                                    </div>

                                </form>
                            </div>


                            <div class="col-sm-6 col-md-3 col-xs-12">

                                <form role="form">
                                    <div class="form-group"><label>Valor de interes</label> <input
                                            id="monto_num_interes"
                                            type="number" min="1" max="100"
                                            placeholder="" maxlength="3"
                                            class="form-control"></div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12" style="margin-top: 28px;">

                                <button class="btn btn-primary btn-block " style="margin-left: 2px;" id="guardar_cuota"
                                        type="button">Guardar cuota
                                </button>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="col-lg-12" id="crear_contrato_form_dos">
                    <div class="ibox ">
                        <div class="ibox-title">
                            <h5>Asignación de cuotas</h5>
                        </div>
                        <div class="ibox-content row" style="margin-right: 0px;margin-left: 0px;">

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <form role="form">
                                    <div class="form-group"><label>Total de prestamo</label> <input onkeyup="format(this)" onchange="format(this)"
                                            id="monto_prestar_ya_admin"
                                            type="text"
                                            placeholder="" maxlength="10"
                                            class="form-control"></div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <form role="form">
                                    <label>Cuota a aplicar</label>
                                    <select class="form-control m-b" id="selector_cuotas_selec">
                                    </select>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-2 col-xs-12" style="display:none;">
                                <form role="form">
                                    <div class="form-group"><label>Fecha</label> <input
                                            id="fechaActual"
                                            type="date"
                                            placeholder=""
                                            class="form-control"></div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-4 col-xs-12">
                                <form role="form">
                                    <label>Frecuencia de pago</label>
                                    <select class="form-control m-b" id="selector_frecuencia">
                                        <option value="">Seleccione</option>
                                        <option value="1">Diario</option>
                                        <option value="2">Semanal</option>
                                        <option value="3">Quicenal</option>
                                        <option value="4">Mensual</option>
                                    </select>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-2 col-xs-12">
                                <form role="form">
                                    <div class="form-group"><label>Cuotas a descontar</label> <input
                                            id="cuota_descontar_sistema"
                                            type="number"  value="0"
                                            placeholder="" maxlength="3"
                                            class="form-control"></div>
                                </form>
                            </div>

                        <div class="col-sm-12 col-md-12 col-xs-12" style="padding: 4%;margin-left: 8%;">
                            <blockquote style="background-color: #8abbe678;padding: 4%;margin-left: -9%;" class="row col-sm-12 col-md-12 col-xs-12">
                                <div class="col-sm-6 col-md-4 col-xs-12">
                                    <form role="form">
                                        <div class="form-group"><label>Utilidad del porcentaje</label> <br> <label id="utilidad_prestada">0</label>%</div>
                                    </form>
                                </div>
                                <div class="col-sm-6 col-md-4 col-xs-12">
                                    <form role="form">
                                        <div class="form-group"><label>Utilidad en peso</label> <br> $<label id="utilidad_prestada_peso">0</label></div>
                                    </form>
                                </div>
                                <div class="col-sm-6 col-md-4 col-xs-12">
                                    <form role="form">
                                        <div class="form-group"><label>Valor de la cuota</label> <br> $<label id="utilidad_cuota">0</label></div>
                                    </form>
                                </div>
                            </blockquote>
                         </div>

                            <div class="col-xs-6">

                                <button class="btn btn-primary btn-block " style="margin-left: 2px;" id="crear_contrato"
                                        type="button">Crear contrato
                                </button>
                            </div>

                            <div class="col-xs-6">

                                <button class="btn btn-primary btn-block " style="display:none;" id="limpiar_contrato"
                                        type="button">Limpiar contrato
                                </button>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="col-lg-12" id="recaduos_ink">
                    <div class="ibox-title">
                        Total recaudo: <label id="text_recolectado"></label>
						<button class="btn btn-primary pull-right" id="registro_base"
								type="button">Registro de base
						</button>
                    </div>
                </div>
                <br>

                <div class="col-lg-12" id="liquidacion_page">
                    <div class="ibox ">
                        <div class="ibox-title">
                            <h5>Liquidación</h5>
                        </div>

                        <div class="ibox-content row" style="margin-right: 0px;margin-left: 0px;">

                            <div class="col-sm-6 col-md-5 col-xs-12" style="display:none;">
                                <label>Fecha de pago</label>
                                <div id="picker-no-time"></div>
                                <input type="hidden" id="result2" value="" />
                            </div>

                            <div class="col-sm-6 col-md-4 col-xs-12">
                                <label>Asesor</label>
                                <select class="form-control m-b" id="lista_asesores_general">
                                </select>
                            </div>

                            <div class="col-sm-6 col-md-2 col-xs-6">
                                <form role="form" style="margin-top: 24px;display:grid;">
                                    <button type="button" class="btn btn-success" id="comporta">Comportamiento</button>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-1 col-xs-6" style="display:none">
                                <form role="form" style="margin-top: 24px;display:grid;">
                                    <button type="button" class="btn btn-danger" id="boton_pdf"><i class="fa fa-file-pdf"></i></button>
                                </form>
                            </div>



                            <div class="table-responsive">
                                <table class="table table-striped sortable" >
                                    <thead>
                                    <tr align="center">
                                        <th>Contrato</th>
                                        <th>Cliente</th>
                                        <th>Alias</th>
                                        <th>Valor cuota</th>
                                        <th>Dia</th>
                                        <th>Hoy</th>
                                        <th>Saldo favor</th>
                                        <th>Recaudo</th>
                                        <th>Prestamo</th>
                                        <th>Total deuda</th>
                                    </tr>
                                    </thead>
                                    <tbody align="center" id="listado_operacion_asesore">
                                    </tbody>
                                </table>
                            </div>



                        </div>

                    </div>
                </div>

                <div class="col-lg-12" id="contratos_view">
                    <div class="ibox ">
                        <div class="ibox-title">
                            <h5>Consulta de contrato</h5>
                        </div>
                        <div class="ibox-content row" style="margin-right: 0px;margin-left: 0px;">

                            <div class="col-sm-3 col-md-3 col-xs-12">
                                    <div class="form-group"> <input
                                            id="buscar_contra"
                                            type="number" placeholder="Cedula/dni"
                                            class="form-control"></div>
                            </div>

                            <div class="col-sm-3 col-md-3 col-xs-12 " >
                                <select class="form-control m-b" id="lista_asesores_general3">
                                </select>
                            </div>

                            <div class="col-sm-6 col-md-6 col-xs-12">
                                <button class="btn btn-primary" style="float: right;" onclick="javascript:crear_contrato();"
                                        type="button">Nuevo cliente
                                </button>
                            </div>


                            <div class="table-responsive">
                                <table class="table table-striped">
                                    <thead>
                                    <tr>
                                        <th>Fecha de prestamo </th>
                                        <th>A pagar</th>
                                        <th>Cedula</th>
                                        <th>Nombre cliente</th>
                                        <th>Asesor</th>
                                        <th>Prestamo</th>
                                        <th>Percentaje</th>
                                        <th>Cuotas</th>
                                        <th>Ayudante</th>
                                        <th>Supervidor</th>
                                        <th>Opciones</th>
                                    </tr>
                                    </thead>
                                    <tbody id="lista_enorme">
                                    </tbody>
                                </table>
                            </div>


                        </div>
                    </div>
                </div>

                <div class="col-lg-12" id="migrar_cion_div">
					<div class="ibox ">
                        <div class="ibox-title">
                            <h5>Migrar de cliente a nuevos contratos</h5>
                        </div>
                        <div class="ibox-content row" style="margin-right: 0px;margin-left: 0px;">

							<div class="col-sm-6 col-md-2 col-xs-12">
                                <form role="form">
                                    <div class="form-group"><label>Cedula</label> <input
                                            id="cedula_migrar"
                                            type="text"
                                            placeholder=""
                                            class="form-control"></div>
                                </form>
                            </div>

							<div class="col-sm-6 col-md-2 col-xs-12">
                                <form role="form">
                                    <div class="form-group"><label>Monto de cuota</label> <input
                                            id="monto_cuota_migrar"
                                            type="number"
                                            placeholder=""
                                            class="form-control"></div>
                                </form>
                            </div>

							<div class="col-sm-6 col-md-2 col-xs-12">
                                <form role="form">
                                    <div class="form-group"><label>N° de cuotas faltantes</label> <input
                                            id="cuantas_cuota_migrar"
                                            type="number"
                                            placeholder=""
                                            class="form-control"></div>
                                </form>
                            </div>

							<div class="col-sm-6 col-md-1 col-xs-12">
                                <form role="form">
                                    <div class="form-group"><label>Incompleta</label> <input
                                            id="cuantas_incompleta_cuota_migrar"
                                            type="number"
                                            placeholder=""
											value="0"
                                            class="form-control"></div>
                                </form>
                            </div>

							<div class="col-sm-6 col-md-2 col-xs-12">
                                <form role="form">
                                    <label>Seleccione asesor</label>
                                    <select class="form-control m-b" id="select_asesor">
                                    </select>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-2 col-xs-12">
                                <form role="form">
                                    <label>Frecuencia de pago</label>
                                    <select class="form-control m-b" id="selector_frecuenciaM">
                                        <option value="">Seleccione</option>
                                        <option value="1">Diario</option>
                                        <option value="2">Semanal</option>
                                        <option value="3">Quicenal</option>
                                        <option value="4">Mensual</option>
                                    </select>
                                </form>
                            </div>

							<div class="col-sm-6 col-md-1 col-xs-12" style="margin-top: 2%;">
								<button class="btn btn-primary btn-md" id="registro_migratodio"
										type="button">Crear migrar
								</button>
							</div>

						</div>
					</div>
				</div>

                <div class="col-lg-12" id="create_clientes_listo">
                    <div class="ibox ">
                        <div class="ibox-title">
                            <h5>Creación de cliente</h5>
                        </div>
                        <div class="ibox-content row" style="margin-right: 0px;margin-left: 0px;">

                            <div class="col-sm-6 col-md-3 col-xs-12" align="center" style="padding: 3%;">
                                <img id="foto_m4md" src="../img/default.jpg"
                                     style="height: 111px;cursor:pointer;">
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12" align="center" style="padding: 3%;">
                                <img id="foto_m1md" src="../img/foto_cedula_front.png"
                                     style="height: 111px;cursor:pointer;">
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12" align="center" style="padding: 3%;">
                                <img id="foto_m2md" src="../img/foto_cedula_back.png"
                                     style="height:111px;cursor:pointer;">
                            </div>
                            <div class="col-sm-6 col-md-3 col-xs-12" align="center" style="padding: 3%;">
                                <img id="foto_m3md" src="../img/foto_resivo.png"
                                     style="width:167px;height:111px;cursor:pointer;">
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <label>Nacionalidad</label>
                                <select class="form-control m-b" id="pais_selecionadomd">
                                    <option value="1">Colombia</option>
                                    <option value="2">Venezuela</option>
                                </select>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12" id="letra_venezuelamd">
                                <label>Tipo</label>
                                <select class="form-control m-b" id="tipo_letramd">
                                    <option>V</option>
                                    <option>E</option>
                                    <option>J</option>
                                    <option>G</option>
                                </select>
                            </div>

                            <div class="form-group col-sm-6 col-md-6 col-xs-6" id="cedula_divmd">
                                <label>Cedula/Dni</label>
                                <div class="input-group"><input placeholder="Inserte su numero de documento" id="numero_idmd" type="number" class="form-control"> <span class="input-group-append">
                                    <button type="button" id="consultar_registramd" class="btn btn-primary"><i class="fa fa-search"></i>
                                        </button> </span></div>
                            </div>


							<div class="col-sm-6 col-md-3 col-xs-12" >
                                <form role="form">
                                    <div class="form-group"><label>Alias</label> <input
                                            id="alias_textd" type="text" placeholder="" class="form-control">
                                    </div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12" id="cedula_divmd">
                                <form role="form">
                                    <div class="form-group"><label>Primer nombre</label> <input id="nombre_id1md"
                                                                                                type="text"
                                                                                                placeholder=""
                                                                                                class="form-control">
                                    </div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12" id="cedula_divmd">
                                <form role="form">
                                    <div class="form-group"><label>Segundo nombre</label> <input id="nombre_id2md"
                                                                                                 type="text"
                                                                                                 placeholder=""
                                                                                                 class="form-control">
                                    </div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12" id="cedula_divmd">
                                <form role="form">
                                    <div class="form-group"><label>Primer apellido</label> <input id="apellido_id1md"
                                                                                                  type="text"
                                                                                                  placeholder=""
                                                                                                  class="form-control">
                                    </div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12" id="cedula_divmd">
                                <form role="form">
                                    <div class="form-group"><label>Segundo apellido</label> <input id="apellido_id2md"
                                                                                                   type="text"
                                                                                                   placeholder=""
                                                                                                   class="form-control">
                                    </div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12" id="cedula_divmd">
                                <form role="form">
                                    <div class="form-group"><label>Dirección</label> <input id="direccion_ubicamd"
                                                                                            type="text"
                                                                                            placeholder="Inserte la dirección"
                                                                                            class="form-control"></div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <label>Departamento</label>
                                <select class="form-control m-b" id="tipo_departamentomd">
                                    <option value="">Seleccione</option>
                                </select>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <label>Ciudad</label>
                                <select class="form-control m-b" id="tipo_ciudadesmd">
                                    <option value="">Seleccione</option>
                                </select>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <label>Barrio</label>
                                <select class="form-control m-b" id="tipo_barriomd">
                                    <option value="">Seleccione</option>
                                </select>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <form role="form">
                                    <div class="form-group"><label>Telefono celular</label> <input id="telefono_celmd"
                                                                                                type="text"
                                                                                                placeholder=""
																								value="0"
                                                                                                class="form-control">
                                    </div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <form role="form">
                                    <div class="form-group"><label>Telefono fijo</label> <input id="telefono_fijomd"
                                                                                                   type="text"
																								   value="0"
                                                                                                   placeholder=""
                                                                                                   class="form-control">
                                    </div>
                                </form>
                            </div>

                            <div class="col-sm-6 col-md-3 col-xs-12">
                                <form role="form">
                                    <div class="form-group"><label>Correo electronico</label> <input
                                            id="correo_electronicomd" type="email" placeholder="" class="form-control">
                                    </div>
                                </form>
                            </div>

                            <div class="col-xs-12"  style="margin-top: 3%;margin-right: 4%;">
                                <form role="form">
                                    <button class="btn btn-primary btn-sm" style="margin-left: 14px;" id="registro_finalmd"
                                            type="button">Registrar en sistema
                                    </button>
                                </form>
                            </div>

                            <div class="col-xs-12 " style="margin-top: 3%;">
                                <form role="form">
                                    <button type="button" class="btn btn-white" data-dismiss="modal">Cerrar</button>
                                </form>
                            </div>

                        </div>
                    </div>
                </div>

                <div id="googleMap" style="display:none;width:100%;height:800px;">
				</div>
				<!--
				<div id="flotante3" style="display:none;border-radius: 9px;color: white;position: fixed;left: 81px;top: 98px;font-size: 20px;">
					<select class="form-control m-b" id="lista_clientes_mapa_select"></select>
				</div>
				<div id="flotante2" style="display:none;cursor:pointer;padding: 14px;background-color: #3d3d3d;border-radius: 9px;color: white;position: fixed;left: 16px;top: 86px;font-size: 20px;" onclick="javascript:lista_clientes_mapa();"><i class="fa fa-users"></i></div>
				-->
            </div>

            <input type="file" id="foto1" accept="image/*" capture="camera" style="display:none;">
            <input type="file" id="foto2" accept="image/*" capture="camera" style="display:none;">
            <input type="file" id="foto3" accept="image/*" capture="camera" style="display:none;">

            <input type="file" id="foto1m" accept="image/*" capture="camera" style="display:none;">
            <input type="file" id="foto2m" accept="image/*" capture="camera" style="display:none;">
            <input type="file" id="foto3m" accept="image/*" capture="camera" style="display:none;">
            <input type="file" id="foto4m" accept="image/*" capture="camera" style="display:none;">

            <input type="file" id="foto1md" accept="image/*" capture="camera" style="display:none;">
            <input type="file" id="foto2md" accept="image/*" capture="camera" style="display:none;">
            <input type="file" id="foto3md" accept="image/*" capture="camera" style="display:none;">
            <input type="file" id="foto4md" accept="image/*" capture="camera" style="display:none;">

        </div>
        <div class="footer" style="display:none;">
            <div class="float-right">
                Conexión:<strong id="conectado_server">false</strong>.
            </div>
            <div>
                <strong>Copyright</strong> Money engeneering &copy; 2019
            </div>
        </div>

    </div>
</div>


<!-- Mainly scripts -->
<script src="../js/jquery-3.1.1.min.js"></script>
<script src="../js/plugins/toastr/toastr.min.js" type="text/javascript"></script>
<script src="../js/popper.min.js"></script>
<script src="../js/bootstrap.js"></script>
<script src="../js/plugins/metisMenu/jquery.metisMenu.js"></script>
<script src="../js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.10.1/firebase-database.js"></script>

<script>

    var firebaseConfig = {
		apiKey: "AIzaSyB1i8Vx6jWV5szRQujd5fNW6TfFLiru-Tc",
		authDomain: "demostrativo-web.firebaseapp.com",
		databaseURL: "https://demostrativo-web.firebaseio.com",
		projectId: "demostrativo-web",
		storageBucket: "demostrativo-web.appspot.com",
		messagingSenderId: "1038105645545",
		appId: "1:1038105645545:web:9affa6ce337fb51a"
	};

	firebase.initializeApp(firebaseConfig);

</script>

<!-- Peity -->
<script src="../js/plugins/peity/jquery.peity.min.js"></script>

<!-- Custom and plugin javascript -->
<script src="../js/inspinia.js"></script>
<script src="../js/plugins/pace/pace.min.js"></script>
<script src="../js/plugins/mommet/mommet.js"></script>

<!-- iCheck -->
<script src="../js/plugins/iCheck/icheck.min.js"></script>
<script src="../js/plugins/sweetalert/sweetalert.min.js"></script>
<script src="../js/imagen_tool.js"></script>
<script src="../js/backend.js"></script>
<script src="../js/datetimepicker.js"></script>
<link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/themes/smoothness/jquery-ui.css" rel="stylesheet"/>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script>


<script>

	$("#page-wrapper").css("height","");

    var block = this;

    function salida_sistema() {
         window.sessionStorage.clear(); window.localStorage.clear();
        location.href = "../index.html";
    }

    if (window.sessionStorage.getItem("Money-vars-token") == null) {
        salida_sistema();
    }

    $(document).ready( function () {
        $('#picker').dateTimePicker();
        $('#picker-no-time').dateTimePicker({ showTime: false, dateFormat: 'DD/MM/YYYY'});
    })


    function migrar_cion(){
		$("#crear_contrato_form").css("display", "none");
        $("#crear_contrato_form_dos").css("display", "none");
        $("#crear").css("display", "none");
        $("#lista_ase").css("display", "none");
        $("#lista_sup").css("display", "none");
        $("#lista_ayu").css("display", "none");
        $("#asig_supervidor").css("display", "none");
        $("#lista_asi_ayu").css("display", "none");
        $("#lista_asi_sup").css("display", "none");
        $("#configuracion_general").css("display", "none");
        $("#busqueda_asignaciones").css("display", "none");
        $("#configuracion_general_cuotas").css("display", "none");
        $("#liquidacion_page").css("display", "none");
        $("#create_clientes_listo").css("display", "none");
        $("#contratos_view").css("display", "none");
        $("#cliente_lista_admi").css("display", "none");
        $("#googleMap").css("display","none");
        $("#flotante2").css("display","none");
        $("#flotante3").css("display","none");
        $("#recaduos_ink").css("display", "none");
        $("#migrar_cion_div").css("display", "block");
        $("#suplanter").css("display", "none");
	}

    $("#selector_cuotas_selec").change(function(){

        if ($("#monto_prestar_ya_admin").val()!=="" && $("#selector_cuotas_selec").val()!=="") {

            if(window.sessionStorage.getItem("Lista_cuota")!==null) {
                block.cuotas = JSON.parse(window.sessionStorage.getItem("Lista_cuota"));
                if ($("#monto_prestar_ya_admin").val()!=="") {

                    if($("#text_nombre_cliente").val()!==""){
                        $("#crear_contrato").prop("disabled",false);
                    }else{
                        $("#crear_contrato").prop("disabled",true);
                    }

                    for(var w =0; w < block.cuotas.length; w++){
                        if(block.cuotas[w][2]==$("#selector_cuotas_selec").val()){
                            $("#utilidad_prestada").html(block.cuotas[w][3]);
                            block.limpi = $("#monto_prestar_ya_admin").val();
                            block.comp = block.limpi.replace(".","");
                            block.wsqa = block.comp.replace(".","");
                            block.monq = parseInt(block.wsqa);
                            block.poce = parseFloat(block.cuotas[w][3]);
                            block.dias = parseInt(block.cuotas[w][2]);
                            block.resul = parseInt(block.monq * (block.poce / 100)) ;
                            block.reas = (block.monq + block.resul) / block.dias;
                            block.resul = block.resul.toString().split('').reverse().join('').replace(/(?=\d*\.?)(\d{3})/g,'$1.');
                            block.resul = block.resul.split('').reverse().join('').replace(/^[\.]/,'');
                            block.reas = parseInt(block.reas);
                            block.reas = block.reas.toString().split('').reverse().join('').replace(/(?=\d*\.?)(\d{3})/g,'$1.');
                            block.reas = block.reas.split('').reverse().join('').replace(/^[\.]/,'')
                            $("#utilidad_prestada_peso").html(block.resul);
                            $("#utilidad_cuota").html(block.reas);
                        }
                    }
                }else{
                    $("#utilidad_prestada_peso").html("0");
                    $("#utilidad_prestada").html("0");
                    $("#utilidad_cuota").html("0");
                }
            }

        }else{
            $("#utilidad_prestada_peso").html("0");
            $("#utilidad_prestada").html("0");
            $("#utilidad_cuota").html("0");
        }
    });


    function format(input) {

        var num = input.value.replace(/\./g,'');
        if(!isNaN(num)){
            num = num.toString().split('').reverse().join('').replace(/(?=\d*\.?)(\d{3})/g,'$1.');
            num = num.split('').reverse().join('').replace(/^[\.]/,'');
            input.value = num;

            if(window.sessionStorage.getItem("Lista_cuota")!==null) {
                block.cuotas = JSON.parse(window.sessionStorage.getItem("Lista_cuota"));
                if ($("#monto_prestar_ya_admin").val()!=="") {

                    for(var w =0; w < block.cuotas.length; w++){
                        if(block.cuotas[w][2]==$("#selector_cuotas_selec").val()){
                            $("#utilidad_prestada").html(block.cuotas[w][3]);
                            block.limpi = $("#monto_prestar_ya_admin").val();
                            block.comp = block.limpi.replace(".","");
                            block.wsqa = block.comp.replace(".","");
                            block.monq = parseInt(block.wsqa);
                            block.poce = parseInt(block.cuotas[w][3]);
                            block.dias = parseInt(block.cuotas[w][2]);
                            block.resul = parseInt(block.monq * (block.poce / 100));
                            block.reas = (block.monq + block.resul) / block.dias;
                            block.resul = block.resul.toString().split('').reverse().join('').replace(/(?=\d*\.?)(\d{3})/g,'$1.');
                            block.resul = block.resul.split('').reverse().join('').replace(/^[\.]/,'');
                            block.reas = parseInt(block.reas);
                            block.reas = block.reas.toString().split('').reverse().join('').replace(/(?=\d*\.?)(\d{3})/g,'$1.');
                            block.reas = block.reas.split('').reverse().join('').replace(/^[\.]/,'')
                            $("#utilidad_prestada_peso").html(block.resul);
                            $("#utilidad_cuota").html(block.reas);
                        }
                    }
                }else{
                    $("#utilidad_prestada_peso").html("0");
                    $("#utilidad_prestada").html("0");
                    $("#utilidad_cuota").html("0");
                }
            }

        }else{
            input.value = input.value.replace(/[^\d\.]*/g,'');
        }
    }

    block.filein = document.querySelector("#foto1");
    block.filein.onchange = function (e) {
        block.files = e.target.files;
        block.file = block.files[0];
        ImageTools.resize(block.file, {
            width: 259,
            height: 259
        }, function (blob, didItResize) {

            var storageRef = firebase.storage().ref();
            var uploadTask = storageRef.child('images/' + block.file.name).put(blob);
            uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,
                    function(snapshot) {
                        var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
                        console.log('Upload is ' + progress + '% done');
                        switch (snapshot.state) {
                            case firebase.storage.TaskState.PAUSED:
                                console.log('Upload is paused');
                                break;
                            case firebase.storage.TaskState.RUNNING:
                                console.log('Upload is running');
                                break;
                        }
                    }, function(error) {
                        switch (error.code) {
                            case 'storage/unauthorized':
                                break;
                            case 'storage/canceled':
                                break;
                            case 'storage/unknown':
                                break;
                        }
                    }, function() {
                        uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {
                            $("#foto_m1").attr("src", downloadURL);
                            $("#su_foto_m1").attr("src", downloadURL);
							block.blo = 2;
                            window.sessionStorage.setItem("Money-vars-foto-id", downloadURL);
                        });
                    });


        });
    };

	$("#su_consultar_registra").click(function(){

		function navegador() {
            var agente = window.navigator.userAgent;
            var navegadores = ["Chrome", "Firefox", "Safari"];
            for (var i in navegadores) {
                if (agente.indexOf(navegadores[i]) != -1) {
                    return navegadores[i].toLowerCase();
                }
            }
        }

        block.nav = navegador();

        if ($("#su_numero_id").val() !== "") {
            if (window.localStorage.getItem("Money-vars-token") !== null) {
                block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
            } else {
                block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
            }

            block.arrays = [block.tokens[1], $("#su_numero_id").val(), block.nav, $("#su_tipo_letra").val(), window.sessionStorage.getItem("Money-vars-tipo")];
            block.obj = {"r": "consultar_cedula", "d": block.arrays};
            backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
                var valor = JSON.parse(salida);
                if (!valor.e) {
                    block.todo = valor.d[1];
                    block.nombre = block.todo[0];

                    if (block.nombre == "") {
                        $("#su_nombre_id1").val("");
                        $("#su_nombre_id2").val("");
                        $("#su_apellido_id1").val("");
                        $("#su_apellido_id2").val("");
                        toastr.error('El documento a consultar no existe', 'System notification!');

                    } else {

                        block.antece = block.todo[1];
                        block.porque = block.todo[2];

                        if(block.porque=="" && block.antece=="Si"){
                            block.porque = "Esta información es muy delicada para ser mostrada";
                        }

                        if(block.antece=="Si"){
							swal({
								title: "System notification!",
								text: "Posee antecedente, "+block.porque,
								type: "warning"
							});
                        }

                        block.deatlle = block.nombre.substring(0, 1);

                        if (block.deatlle == " ") {
                            block.nombre = block.nombre.substring(1, block.nombre.length);
                        }

                        block.estimar = block.nombre.split(" ");
                        if (block.estimar.length == 6) {
                            block.primNom = block.estimar[0];
                            block.seguNom = block.estimar[1] + " " + block.estimar[2] + " " + block.estimar[3];
                            block.primApe = block.estimar[4];
                            block.seguApe = block.estimar[5];
                        }else if (block.estimar.length == 5) {
                            block.primNom = block.estimar[0];
                            block.seguNom = block.estimar[1] + " " + block.estimar[2];
                            block.primApe = block.estimar[3];
                            block.seguApe = block.estimar[4];
                        } else if (block.estimar.length == 4) {
                            block.primNom = block.estimar[0];
                            block.seguNom = block.estimar[1];
                            block.primApe = block.estimar[2];
                            block.seguApe = block.estimar[3];
                        } else if (block.estimar.length == 3) {
                            block.primNom = block.estimar[0];
                            block.seguNom = block.estimar[1];
                            block.primApe = block.estimar[2];
                            block.seguApe = "";
                        } else if (block.estimar.length == 2) {
                            block.primNom = block.estimar[0];
                            block.seguNom = "";
                            block.primApe = block.estimar[1];
                            block.seguApe = "";
                        }


                        $("#su_nombre_id1").val(block.primNom);
                        $("#su_nombre_id2").val(block.seguNom);
                        $("#su_apellido_id1").val(block.primApe);
                        $("#su_apellido_id2").val(block.seguApe);
                        $("#su_numero_id").prop("disabled", true);
                        $("#su_tipo_letra").prop("disabled", true);

                    }

                }else{

					if(valor.d[1]=="r"){
                        toastr.warning('Esta persona esta registrada en otra empresa', 'System notification!');
                        swal({
                            title: "System notification!",
                            text: "Desea asociarlo a la empresa?",
                            type: "warning",
                            showCancelButton: true,
                            confirmButtonColor: "#DD6B55",
                            confirmButtonText: "Si, asociarlo",
                            closeOnConfirm: true
                        }, function () {
                            block.infeas = JSON.parse(valor.d[2]);
                            console.log(block.infeas);
                            $("#su_nombre_id1").val(block.infeas[7]);
                            $("#su_nombre_id2").val(block.infeas[8]);
                            $("#su_apellido_id1").val(block.infeas[9]);
                            $("#su_apellido_id2").val(block.infeas[10]);
                            $("#su_direccion_ubica").val(block.infeas[11]);
                            $("#su_telefono_cel").val(block.infeas[16]);
                            $("#su_foto_m1").attr("src",block.infeas[1]);
                            $("#su_foto_m2").attr("src",block.infeas[2]);
                            $("#su_foto_m3").attr("src",block.infeas[3]);
                            eliminarRelacion(block.infeas[17]);
                        });

                    }else if(valor.d[1]=="5"){
						block.frito = JSON.parse(valor.d[2]);
						if(block.frito[1]=="1"){
							block.des = "El cliente no quiere pagar (Clavo)";
						}else if(block.frito[1]=="2"){
							block.des = "El cliente no se encuentra (Volado)";
						}else if(block.frito[1]=="3"){
							block.des = "El cliente inventado (Ficticia)";
						}
						toastr.warning(block.des, 'System notification!');
					}
                }
            });

		setTimeout(function(){
			$("#su_nombre_id1").prop("disabled",false);
			$("#su_nombre_id2").prop("disabled",false);
			$("#su_apellido_id1").prop("disabled",false);
			$("#su_apellido_id2").prop("disabled",false);
		},10000);

		} else {
            toastr.warning('Falta número de identificación', 'System notification!');
        }

	});

    block.filein = document.querySelector("#foto1m");
    block.filein.onchange = function (e) {
        block.files = e.target.files;
        block.file = block.files[0];
        ImageTools.resize(block.file, {
            width: 259,
            height: 259
        }, function (blob, didItResize) {

            var storageRef = firebase.storage().ref();
            var uploadTask = storageRef.child('images/' + block.file.name).put(blob);
            uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,
                    function(snapshot) {
                        var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
                        console.log('Upload is ' + progress + '% done');
                        switch (snapshot.state) {
                            case firebase.storage.TaskState.PAUSED:
                                console.log('Upload is paused');
                                break;
                            case firebase.storage.TaskState.RUNNING:
                                console.log('Upload is running');
                                break;
                        }
                    }, function(error) {
                        switch (error.code) {
                            case 'storage/unauthorized':
                                break;
                            case 'storage/canceled':
                                break;
                            case 'storage/unknown':
                                break;
                        }
                    }, function() {
                        uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {
                            $("#foto_m1m").attr("src", downloadURL);
							block.blo = 2;
                            window.sessionStorage.setItem("Money-vars-foto-idm", downloadURL);
                        });
                    });

        });
    };

    block.filein = document.querySelector("#foto1md");
    block.filein.onchange = function (e) {
        block.files = e.target.files;
        block.file = block.files[0];
        ImageTools.resize(block.file, {
            width: 259,
            height: 259
        }, function (blob, didItResize) {

            var storageRef = firebase.storage().ref();
            var uploadTask = storageRef.child('images/' + block.file.name).put(blob);
            uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,
                    function(snapshot) {
                        var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
                        console.log('Upload is ' + progress + '% done');
                        switch (snapshot.state) {
                            case firebase.storage.TaskState.PAUSED:
                                console.log('Upload is paused');
                                break;
                            case firebase.storage.TaskState.RUNNING:
                                console.log('Upload is running');
                                break;
                        }
                    }, function(error) {
                        switch (error.code) {
                            case 'storage/unauthorized':
                                break;
                            case 'storage/canceled':
                                break;
                            case 'storage/unknown':
                                break;
                        }
                    }, function() {
                        uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {
                            $("#foto_m1md").attr("src", downloadURL);
							block.blo = 2;
                            window.sessionStorage.setItem("Money-vars-foto-idmd", downloadURL);
                        });
                    });
        });
    };

    block.filein = document.querySelector("#foto4m");
    block.filein.onchange = function (e) {
        block.files = e.target.files;
        block.file = block.files[0];
        ImageTools.resize(block.file, {
            width: 259,
            height: 259
        }, function (blob, didItResize) {

            var storageRef = firebase.storage().ref();
            var uploadTask = storageRef.child('images/' + block.file.name).put(blob);
            uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,function(snapshot) {
				var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
				console.log('Upload is ' + progress + '% done');
				switch (snapshot.state) {
					case firebase.storage.TaskState.PAUSED:
						console.log('Upload is paused');
						break;
					case firebase.storage.TaskState.RUNNING:
						console.log('Upload is running');
						break;
				}
			}, function(error) {
				switch (error.code) {
					case 'storage/unauthorized':
						break;
					case 'storage/canceled':
						break;
					case 'storage/unknown':
						break;
				}
			}, function() {
				uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {
					$("#foto_m4m").attr("src", downloadURL);
					block.blo = 2;
					window.sessionStorage.setItem("Money-vars-foto-frontal", downloadURL);
				});
			});
        });
    };

    block.filein = document.querySelector("#foto4md");
    block.filein.onchange = function (e) {
        block.files = e.target.files;
        block.file = block.files[0];
        ImageTools.resize(block.file, {
            width: 259,
            height: 259
        }, function (blob, didItResize) {

            var storageRef = firebase.storage().ref();
            var uploadTask = storageRef.child('images/' + block.file.name).put(blob);
            uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,
                    function(snapshot) {
                        var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
                        console.log('Upload is ' + progress + '% done');
                        switch (snapshot.state) {
                            case firebase.storage.TaskState.PAUSED:
                                console.log('Upload is paused');
                                break;
                            case firebase.storage.TaskState.RUNNING:
                                console.log('Upload is running');
                                break;
                        }
                    }, function(error) {
                        switch (error.code) {
                            case 'storage/unauthorized':
                                break;
                            case 'storage/canceled':
                                break;
                            case 'storage/unknown':
                                break;
                        }
                    }, function() {
                        uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {
                            $("#foto_m4md").attr("src", downloadURL);
							block.blo = 2;
                            window.sessionStorage.setItem("Money-vars-foto-frontald",downloadURL);
                        });
                    });
        });
    };

    block.filein2 = document.querySelector("#foto2");
    block.filein2.onchange = function (e) {
        block.files = e.target.files;
        block.file = block.files[0];
        ImageTools.resize(block.file, {
            width: 300,
            height: 500
        }, function (blob, didItResize) {

            var storageRef = firebase.storage().ref();
            var uploadTask = storageRef.child('images/' + block.file.name).put(blob);
            uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,
                    function(snapshot) {
                        var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
                        console.log('Upload is ' + progress + '% done');
                        switch (snapshot.state) {
                            case firebase.storage.TaskState.PAUSED:
                                console.log('Upload is paused');
                                break;
                            case firebase.storage.TaskState.RUNNING:
                                console.log('Upload is running');
                                break;
                        }
                    }, function(error) {
                        switch (error.code) {
                            case 'storage/unauthorized':
                                break;
                            case 'storage/canceled':
                                break;
                            case 'storage/unknown':
                                break;
                        }
                    }, function() {
                        uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {
                            $("#foto_m2").attr("src", downloadURL);
                            $("#su_foto_m2").attr("src", downloadURL);
							block.blo = 2;
                            window.sessionStorage.setItem("Money-vars-foto-id-normal",downloadURL);
                        });
                    });
        });
    };

    block.filein2 = document.querySelector("#foto2m");
    block.filein2.onchange = function (e) {
        block.files = e.target.files;
        block.file = block.files[0];
        ImageTools.resize(block.file, {
            width: 300,
            height: 500
        }, function (blob, didItResize) {

            var storageRef = firebase.storage().ref();
            var uploadTask = storageRef.child('images/' + block.file.name).put(blob);
            uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,
                    function(snapshot) {
                        var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
                        console.log('Upload is ' + progress + '% done');
                        switch (snapshot.state) {
                            case firebase.storage.TaskState.PAUSED:
                                console.log('Upload is paused');
                                break;
                            case firebase.storage.TaskState.RUNNING:
                                console.log('Upload is running');
                                break;
                        }
                    }, function(error) {
                        switch (error.code) {
                            case 'storage/unauthorized':
                                break;
                            case 'storage/canceled':
                                break;
                            case 'storage/unknown':
                                break;
                        }
                    }, function() {
                        uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {
                            $("#foto_m2m").attr("src", downloadURL);
							block.blo = 2;
                            window.sessionStorage.setItem("Money-vars-foto-id-normalm", downloadURL);
                        });
                    });
        });
    };

    block.filein3 = document.querySelector("#foto3");
    block.filein3.onchange = function (e) {
        block.files = e.target.files;
        block.file = block.files[0];
        ImageTools.resize(block.file, {
            width: 300,
            height: 500
        }, function (blob, didItResize) {

            var storageRef = firebase.storage().ref();
            var uploadTask = storageRef.child('images/' + block.file.name).put(blob);
            uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,
                    function(snapshot) {
                        var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
                        console.log('Upload is ' + progress + '% done');
                        switch (snapshot.state) {
                            case firebase.storage.TaskState.PAUSED:
                                console.log('Upload is paused');
                                break;
                            case firebase.storage.TaskState.RUNNING:
                                console.log('Upload is running');
                                break;
                        }
                    }, function(error) {
                        switch (error.code) {
                            case 'storage/unauthorized':
                                break;
                            case 'storage/canceled':
                                break;
                            case 'storage/unknown':
                                break;
                        }
                    }, function() {
                        uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {
                            $("#foto_m3").attr("src", downloadURL);
                            $("#su_foto_m3").attr("src", downloadURL);
							block.blo = 2;
                            window.sessionStorage.setItem("Money-vars-foto-id-reverso", downloadURL);
                        });
                    });
        });
    };

    block.filein3 = document.querySelector("#foto3m");
    block.filein3.onchange = function (e) {
        block.files = e.target.files;
        block.file = block.files[0];
        ImageTools.resize(block.file, {
            width: 300,
            height: 500
        }, function (blob, didItResize) {

            var storageRef = firebase.storage().ref();
            var uploadTask = storageRef.child('images/' + block.file.name).put(blob);
            uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,
                    function(snapshot) {
                        var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
                        console.log('Upload is ' + progress + '% done');
                        switch (snapshot.state) {
                            case firebase.storage.TaskState.PAUSED:
                                console.log('Upload is paused');
                                break;
                            case firebase.storage.TaskState.RUNNING:
                                console.log('Upload is running');
                                break;
                        }
                    }, function(error) {
                        switch (error.code) {
                            case 'storage/unauthorized':
                                break;
                            case 'storage/canceled':
                                break;
                            case 'storage/unknown':
                                break;
                        }
                    }, function() {
                        uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {
                            $("#foto_m3m").attr("src", downloadURL);
							block.blo = 2;
                            window.sessionStorage.setItem("Money-vars-foto-id-reversom", downloadURL);
                        });
                    });
        });
    };

    block.filein3 = document.querySelector("#foto2md");
    block.filein3.onchange = function (e) {
        block.files = e.target.files;
        block.file = block.files[0];
        ImageTools.resize(block.file, {
            width: 300,
            height: 500
        }, function (blob, didItResize) {

            var storageRef = firebase.storage().ref();
            var uploadTask = storageRef.child('images/' + block.file.name).put(blob);
            uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,
                    function(snapshot) {
                        var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
                        console.log('Upload is ' + progress + '% done');
                        switch (snapshot.state) {
                            case firebase.storage.TaskState.PAUSED:
                                console.log('Upload is paused');
                                break;
                            case firebase.storage.TaskState.RUNNING:
                                console.log('Upload is running');
                                break;
                        }
                    }, function(error) {
                        switch (error.code) {
                            case 'storage/unauthorized':
                                break;
                            case 'storage/canceled':
                                break;
                            case 'storage/unknown':
                                break;
                        }
                    }, function() {
                        uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {
                            $("#foto_m2md").attr("src", downloadURL);
							block.blo = 2;
                            window.sessionStorage.setItem("Money-vars-foto-id-normalmd",downloadURL);
                        });
                    });
        });
    };

    block.filein3 = document.querySelector("#foto3md");
    block.filein3.onchange = function (e) {
        block.files = e.target.files;
        block.file = block.files[0];
        ImageTools.resize(block.file, {
            width: 300,
            height: 500
        }, function (blob, didItResize) {

            var storageRef = firebase.storage().ref();
            var uploadTask = storageRef.child('images/' + block.file.name).put(blob);
            uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,
                    function(snapshot) {
                        var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
                        console.log('Upload is ' + progress + '% done');
                        switch (snapshot.state) {
                            case firebase.storage.TaskState.PAUSED:
                                console.log('Upload is paused');
                                break;
                            case firebase.storage.TaskState.RUNNING:
                                console.log('Upload is running');
                                break;
                        }
                    }, function(error) {
                        switch (error.code) {
                            case 'storage/unauthorized':
                                break;
                            case 'storage/canceled':
                                break;
                            case 'storage/unknown':
                                break;
                        }
                    }, function() {
                        uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {
                            $("#foto_m3md").attr("src",downloadURL);
							block.blo = 2;
                            window.sessionStorage.setItem("Money-vars-foto-id-reversomd",downloadURL);
                        });
                    });
        });
    };

    $("#limpiar_contrato").click(function () {
        $("#asesor_foto_selec").attr("src", "../img/default.jpg");
        $("#foto_user_clien").attr("src", "../img/default.jpg");
        $("#selector_asesores_lista option[value='']").attr("selected", true);
        $("#selector_cuotas_selec option[value='']").attr("selected", true);
        $("#monto_prestar_ya_admin").val("");
        $("#text_cedula_cliente").val("");
        $("#text_cedula_asesor").val("");
        $("#text_nombre_cliente").val("");
        $("#utilidad_prestada").html("0");
        $("#utilidad_prestada_peso").html("0");
        $("#utilidad_cuota").html("0");
        $("#cuota_descontar_sistema").val("0");
        actualFeacha();
        $("#text_cedula_cliente").prop("disabled",true);
        $("#text_cedula_cliente").prop("disabled",true);
        window.sessionStorage.removeItem("Money-vars-registrado");
    });

	$("#tipo_beta").change(function(){

		block.valore = $("#tipo_beta").val();
		if(block.valore!==""){

			block.cedula_beta = window.sessionStorage.getItem("Money-vars-betoso");
			if (window.localStorage.getItem("Money-vars-token") !== null) {
				block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
			} else {
				block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
			}
			block.arrays = [block.tokens[1],block.valore,block.cedula_beta];
			block.obj = {"r": "guardar_clavo", "d": block.arrays};
			backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
				var valor = JSON.parse(salida);
				if (!valor.e) {
					toastr.success('Betado correctamente', 'System notification!');
					$("#seccione_beta").modal("hide");
				}
			});

		}

	});

    $("#save_base").click(function () {
		block.asesor = $("#lista_asesores_general").val();

		if($("#base_monto").val()!=="" && $("#base_monto").val()!=="0" && $("#base_monto").val()>0 && block.asesor !==""){

			block.ecto = block.asesor.split("_");
			if (window.localStorage.getItem("Money-vars-token") !== null) {
				block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
			} else {
				block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
			}

			block.arrays = [block.tokens[1],$("#base_monto").val(),block.ecto[0]];
			block.obj = {"r": "save_base_asesor", "d": block.arrays};
			backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
				var valor = JSON.parse(salida);
				if (!valor.e) {
					$("#base_monto").val("");
					$("#modal_base").modal("hide");
					toastr.success('Actualizado con exito', 'System notification!');
				}
			});

		}else{
			toastr.warning('Necesita seleccionar asesor o colocar monto correcto', 'System notification!');
		}
	});

    $("#registro_migratodio").click(function () {
		block.freucen = $("#selector_frecuenciaM").val();
		block.cuantas_coutas = $("#cuantas_cuota_migrar").val();
		block.impleta = $("#cuantas_incompleta_cuota_migrar").val();
		block.monte = $("#monto_cuota_migrar").val();
		block.cedula = $("#cedula_migrar").val();
		block.ASE = $("#select_asesor").val();

		if(block.freucen!=="" && block.cuantas_coutas!=="" && block.impleta!=="" && block.monte!="" && block.cedula!==""){

				if (window.localStorage.getItem("Money-vars-token") !== null) {
                    block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
                } else {
                    block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
                }

                block.arrays = [block.tokens[1],block.freucen,block.cuantas_coutas,block.impleta,block.monte,block.cedula,block.ASE,block.tokens[5]];
                block.obj = {"r": "migrado", "d": block.arrays};
                backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
                    var valor = JSON.parse(salida);
                    if (!valor.e) {
						toastr.success('Migrado con exito', 'System notification!');
						$("#selector_frecuenciaM").val("");
						$("#cuantas_cuota_migrar").val("");
						$("#cuantas_incompleta_cuota_migrar").val("");
						$("#monto_cuota_migrar").val("");
						$("#cedula_migrar").val("");
					}else{
						if(valor.d[1]=="4"){
							toastr.warning('El cliente no existe, debe crearlo', 'System notification!');
						}
					}
				});


		}else{
			toastr.warning('Faltan datos', 'System notification!');
		}
	});

	$("#crear_contrato").click(function () {

        if(window.sessionStorage.getItem("Money-vars-registrado")!==null &&  $("#monto_prestar_ya_admin").val()!=="" &&  $("#selector_asesores_lista").val()!==""){
            block.asesor = $("#selector_asesores_lista").val();
            block.ruta = block.asesor.split("_");
            block.rutax = block.ruta[0];
            block.monto_prestar = $("#monto_prestar_ya_admin").val();
            block.frecuencia = $("#selector_frecuencia").val();
            block.dias = $("#selector_cuotas_selec").val();
            block.fecha_prestamo = $("#fechaActual").val();
            block.descontar = $("#cuota_descontar_sistema").val();
            block.porcentaje = $("#utilidad_prestada").html();
            block.quedo_cuota = $("#utilidad_cuota").html();
            block.dias = block.dias - block.descontar;

            if(block.descontar<block.dias){

                if (window.localStorage.getItem("Money-vars-token") !== null) {
                    block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
                } else {
                    block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
                }

                block.arrays = [block.tokens[1],window.sessionStorage.getItem("Money-vars-registrado"),block.rutax,block.monto_prestar,block.dias,block.fecha_prestamo,block.descontar,block.porcentaje,block.quedo_cuota,block.tokens[4],block.frecuencia];
                block.obj = {"r": "crear_contrato", "d": block.arrays};
                backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
                    var valor = JSON.parse(salida);
                    if (!valor.e) {
						if(!valor.d[0]){
							if(valor.d[1]=="4"){
								toastr.warning('El cliente tiene '+valor.d[2]+' prestamos con mi empresa y no cumple con las condiciones del jefe', 'System notification!');
							}else if(valor.d[1]=="5"){
								toastr.warning('El cliente tiene '+valor.d[2]+' prestamos con otra empresa y no cumple con las condiciones del jefe', 'System notification!');
							}else if(valor.d[1]=="8"){
								toastr.warning('No es posible guardar', 'System notification!');
							}
						}else{
							$("#text_cedula_cliente").prop("disabled",false);
							toastr.success('Creado con éxito teniendo en cuenta '+valor.d[1]+' contratos en la esta empresa y '+valor.d[2]+' contratos en otra empresa ', 'System notification!');
							$("#limpiar_contrato").click();

							asesores_lista_ajustada();
						}
                    }else{
                        if(valor.d[1]=="4"){
                            toastr.warning('El cliente tiene '+valor.d[2]+' prestamos con mi empresa y no cumple con las condiciones del jefe', 'System notification!');
                        }else if(valor.d[1]=="8"){
							toastr.warning('No es posible guardar', 'System notification!');
						}else if(valor.d[1]=="5"){
                            toastr.warning('El cliente tiene '+valor.d[2]+' prestamos con otra empresa y no cumple con las condiciones del jefe', 'System notification!');
                        }
                    }
                });

            }else{
                toastr.warning('No puede colocar prestamo de '+block.dias+' cuotas y va a descontar '+block.descontar+' cuotas ', 'System notification!');
            }

        }else{
            toastr.warning('No esta registrado el cliente', 'System notification!');
        }
    });

    $("#foto_m1").click(function () {
        $("#foto1").click();
    });

    $("#foto_m2").click(function () {
        $("#foto2").click();
    });

    $("#foto_m3").click(function () {
        $("#foto3").click();
    });

	$("#su_foto_m1").click(function () {
        $("#foto1").click();
    });

    $("#su_foto_m2").click(function () {
        $("#foto2").click();
    });

    $("#su_foto_m3").click(function () {
        $("#foto3").click();
    });

    $("#foto_m1m").click(function () {
        $("#foto1m").click();
    });

    $("#foto_m1md").click(function () {
        $("#foto1md").click();
    });

    $("#foto_m2m").click(function () {
        $("#foto2m").click();
    });

    $("#foto_m3m").click(function () {
        $("#foto3m").click();
    });

    $("#foto_m4m").click(function () {
        $("#foto4m").click();
    });

    $("#foto_m4md").click(function () {
        $("#foto4md").click();
    });

    $("#foto_m3md").click(function () {
        $("#foto3md").click();
    });

    $("#foto_m2md").click(function () {
        $("#foto2md").click();
    });


	$("#comporta").click(function(){
		if($("#lista_asesores_general").val()!==""){

			if (window.localStorage.getItem("Money-vars-token") !== null) {
				block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
			} else {
				block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
			}

			block.ele = $("#lista_asesores_general").val();
			block.elex = block.ele.split("_");

			block.arrays = [block.tokens[1],block.elex[0]];
			block.obj = {"r": "comportamiento", "d": block.arrays};
			backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
				var valor = JSON.parse(salida);
				if (!valor.e) {
					//{"e":false,"d":[50000,110000,1,600000,1,1,8000,7350000]}
					block.penientes = parseInt(valor.d[0]);
					block.resuduoPendiente = parseInt(valor.d[1]);
					block.cuantoDieronmocho = parseInt(valor.d[2]);
					block.incompleta = parseInt(valor.d[3]);
					block.cuatoincompleta = parseInt(valor.d[4]);
					block.completa = parseInt(valor.d[6]);
					block.cuatocompleta = parseInt(valor.d[5]);
					block.sumato9 = parseInt(valor.d[7]);
					block.sumato10 = parseInt(valor.d[8]);
					block.sumato11 = parseInt(valor.d[9]);
					block.sumato12 = parseInt(valor.d[10]);
					block.sumato13 = parseInt(valor.d[11]);
					block.sumato14 = parseInt(valor.d[12]);
					block.sumato15 = parseInt(valor.d[13]);
					block.sumato16 = parseInt(valor.d[14]);
					block.sumato19 = parseInt(valor.d[15]);
					block.sumato18 = parseInt(valor.d[16]);

					block.sumato = block.cuantoDieronmocho + block.cuatoincompleta + block.cuatocompleta;
					block.porce_2 = parseInt((block.cuantoDieronmocho / block.sumato) * 100);
					block.porce_3 = parseInt((block.cuatoincompleta / block.sumato) * 100);
					block.porce_1 = parseInt((block.cuatocompleta / block.sumato) * 100);

					if(isNaN(block.porce_1)){
						block.porce_1 = 0;
					}
					if(isNaN(block.porce_2)){
						block.porce_2 = 0;
					}
					if(isNaN(block.porce_3)){
						block.porce_3 = 0;
					}

					block.penientesx = block.penientes.toString().split('').reverse().join('').replace(/(?=\d*\.?)(\d{3})/g,'$1.');
                    block.penientesx = block.penientesx.split('').reverse().join('').replace(/^[\.]/,'');
					block.incompletax = block.incompleta.toString().split('').reverse().join('').replace(/(?=\d*\.?)(\d{3})/g,'$1.');
                    block.incompletax = block.incompletax.split('').reverse().join('').replace(/^[\.]/,'');
					block.completax = block.completa.toString().split('').reverse().join('').replace(/(?=\d*\.?)(\d{3})/g,'$1.');
                    block.completax = block.completax.split('').reverse().join('').replace(/^[\.]/,'');

					block.sumato2 = block.cuantoDieronmocho + block.cuatocompleta;
					block.sumato4 = parseInt(block.penientes) + parseInt(block.completa);
					block.porce_4 = parseInt((block.sumato2 / sumato) * 100);

					if(isNaN(block.porce_4)){
						block.porce_4 = 0;
					}

					block.sumato4 = block.sumato4.toString().split('').reverse().join('').replace(/(?=\d*\.?)(\d{3})/g,'$1.');
                    block.sumato4 = block.sumato4.split('').reverse().join('').replace(/^[\.]/,'');

					block.sumato7 = block.cuatoincompleta + block.cuantoDieronmocho + block.cuatocompleta;
					block.sumato3 = block.sumato10;
					block.sumato3 = block.sumato3.toString().split('').reverse().join('').replace(/(?=\d*\.?)(\d{3})/g,'$1.');
                    block.sumato3 = block.sumato3.split('').reverse().join('').replace(/^[\.]/,'');

					$("#com_canti").text(parseInt(block.cuatocompleta));
					$("#com_valor").text("$"+block.completax);
					$("#com_porce").text(block.porce_1+"%");

					$("#incom_canti").text(parseInt(block.cuatoincompleta));
					$("#incom_valor").text("$"+block.incompletax);
					$("#incom_porce").text(block.porce_3+"%");

					$("#mcom_canti").text(parseInt(block.cuantoDieronmocho));
					$("#mcom_valor").text("$"+penientesx);
					$("#mcom_porce").text(block.porce_2+"%");

					$("#rcom_canti").text(parseInt(block.sumato2));
					$("#rcom_valor").text("$"+block.sumato4);
					$("#rcom_porce").text(block.porce_4+"%");

					$("#ecom_canti").text(parseInt(block.sumato7));
					$("#ecom_valor").text("$"+sumato3);
					$("#ecom_porce").text("100%");

					block.sumato9x = block.sumato9.toString().split('').reverse().join('').replace(/(?=\d*\.?)(\d{3})/g,'$1.');
                    block.sumato9x = block.sumato9x.split('').reverse().join('').replace(/^[\.]/,'');
					$("#todi_capi").text("$"+block.sumato9x);

					block.sumato11x = block.sumato11.toString().split('').reverse().join('').replace(/(?=\d*\.?)(\d{3})/g,'$1.');
                    block.sumato11x = block.sumato11x.split('').reverse().join('').replace(/^[\.]/,'');
					$("#inclavos").text("$"+block.sumato11x);
					$("#cinclavos").text(block.sumato12);

					block.sumato13x = block.sumato13.toString().split('').reverse().join('').replace(/(?=\d*\.?)(\d{3})/g,'$1.');
                    block.sumato13x = block.sumato13x.split('').reverse().join('').replace(/^[\.]/,'');
					$("#involados").text("$"+block.sumato13x);
					$("#cinvolados").text(block.sumato14);

					block.sumato15x = block.sumato15.toString().split('').reverse().join('').replace(/(?=\d*\.?)(\d{3})/g,'$1.');
                    block.sumato15x = block.sumato15x.split('').reverse().join('').replace(/^[\.]/,'');
					$("#inficticios").text("$"+block.sumato15x);
					$("#cinficticios").text(block.sumato16);

					block.refloes = block.sumato11+ block.sumato13 + block.sumato15;
					block.sumato17 = block.refloes.toString().split('').reverse().join('').replace(/(?=\d*\.?)(\d{3})/g,'$1.');
                    block.sumato17 = block.sumato17.split('').reverse().join('').replace(/^[\.]/,'');

					block.real = block.sumato9 - block.refloes;
					block.real = block.real.toString().split('').reverse().join('').replace(/(?=\d*\.?)(\d{3})/g,'$1.');
                    block.real = block.real.split('').reverse().join('').replace(/^[\.]/,'');

					block.uneaa = "$"+block.sumato9x + " - $" +block.sumato17 + " => Capital Neto $"+block.real;
					$("#capital_neto").text(block.uneaa);


					block.sumato18 = block.sumato18.toString().split('').reverse().join('').replace(/(?=\d*\.?)(\d{3})/g,'$1.');
                    block.sumato18 = block.sumato18.split('').reverse().join('').replace(/^[\.]/,'');
					$("#capital_pendiente").text("El asesor posee "+block.sumato19+" monto pendiente por un total de $"+block.sumato18);

					$("#modal_comporta").modal("show");
				}
			});

		}else{
			toastr.warning('Seleccione asesor', 'System notification!');
		}

	});


    function listar_cuotas() {
        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.arrays = [block.tokens[1]];
        block.obj = {"r": "listar_cuotas", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                block.lista = valor.d[1];
                block.nuevo = "";
                block.nuevo2 = "<option value=''>Seleccione</option>";
                block.lisat = [];
                for (var e = 0; e < block.lista.length; e++) {
                    block.iten = JSON.parse(block.lista[e]);
                    block.lisat.push(block.iten);
                    block.nuevo2 = block.nuevo2 + '<option value="'+block.iten[2]+'">'+block.iten[1]+'</option>';
                    block.nuevo = block.nuevo + '<tr><td>' + block.iten[1] + '</td><td>' + block.iten[2] + '</td><td>' + block.iten[3] + '%</td><td><a href="javascript:editar_couta_ya('+block.iten[2]+');">Eliminar</a></td></td>';
                }
                window.sessionStorage.setItem("Lista_cuota",JSON.stringify(block.lisat));
                $("#selector_cuotas_selec").html(block.nuevo2);
                $("#listado_cuotas_lis").html(block.nuevo);
            }else{
				$("#listado_cuotas_lis").html("");
			}
        });
    }

	function editar_couta_ya(id){
		if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

		block.arrays = [block.tokens[1],id];
        block.obj = {"r": "eliminar_cuota_config", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
				toastr.success('Eliminado correctamente', 'System notification!');
				listar_cuotas();
			}
		});

	}

    $("#nombre_id1").prop("disabled", true);
    $("#nombre_id2").prop("disabled", true);
    $("#apellido_id1").prop("disabled", true);
    $("#apellido_id2").prop("disabled", true);

    $("#nombre_id1m").prop("disabled", true);
    $("#nombre_id2m").prop("disabled", true);
    $("#apellido_id1m").prop("disabled", true);
    $("#apellido_id2m").prop("disabled", true);

    $("#nombre_id1md").prop("disabled", true);
    $("#nombre_id2md").prop("disabled", true);
    $("#apellido_id1md").prop("disabled", true);
    $("#apellido_id2md").prop("disabled", true);

    $("#guardar_cuota").click(function () {
        if ($("#descripcion_couta").val() !== "" && $("#dias_coutas").val() !== "" && $("#monto_num_interes").val() !== "") {

            if (window.localStorage.getItem("Money-vars-token") !== null) {
                block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
            } else {
                block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
            }

            block.arrays = [block.tokens[1], $("#descripcion_couta").val(), $("#dias_coutas").val(), $("#monto_num_interes").val()];
            block.obj = {"r": "crear_cuota", "d": block.arrays};
            backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
                var valor = JSON.parse(salida);
                if (!valor.e) {
                    $("#descripcion_couta").val("");
                    $("#dias_coutas").val("");
                    $("#monto_num_interes").val("");
                    listar_cuotas();
                    toastr.success('Registrado correctamente', 'System notification!');
                }
            });

        }
    });


    listar_cuotas();

    $("#numero_id").keypress(function (e) {
        if (e.which == 13) {
            $("#consultar_registra").click();
        }
    });

    function buscar_contratos(cedula){
        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.arrays = [block.tokens[1],cedula];
        $("#lista_enorme").html("");
        block.oso="";
        block.obj = {"r": "contratos_lista", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {

                function capitalize(string) {
                    return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();
                }

                block.listaGrande = valor.d[1];
                for(var w = 0; w < block.listaGrande.length; w++){
                    block.asesor="";
                    block.dat0s = block.listaGrande[w];
                    block.unox = JSON.parse(block.dat0s[0]);
                    block.dosx = JSON.parse(block.dat0s[1]);
                    block.tresx = JSON.parse(block.dat0s[2]);
                    if(block.dat0s[3].length>0){
                        block.cuatrox = JSON.parse(block.dat0s[3]);
                        block.exta = block.cuatrox[3].split("_");
                        block.exta2 = block.cuatrox[2].split("_");
                        block.superv = block.exta[3] + " " +block.exta[4];
                        block.asesor = block.exta2[3] + " " +block.exta[4];
                    }else{
                        block.superv = "No asignado";
                    }
                    if(block.dat0s[4].length>0) {
                        block.cincox = JSON.parse(block.dat0s[4]);
                        block.extav = block.cincox[3].split("_");
                        block.exta2f = block.cincox[2].split("_");
                        block.ayudan = block.extav[3] + " " +block.extav[4];
                        block.asesor = block.exta2f[3]+ " " +block.exta2f[4];
                    }else{
                        block.ayudan = "No asignado";
                    }
                    if(block.dat0s[5]!==null) {
                        if (block.dat0s[5].length > 0) {
                            block.seisx = JSON.parse(block.dat0s[5]);
                            block.asesor = block.seisx[7] + " " + block.seisx[8];
                        }
                    }

                    //block.oso = block.oso + '<tr><td>'+block.unox[5]+'</td><td>'+block.tresx[24]+'_'+block.unox[0]+'</td> <td>'+block.tresx[6]+'</td> <td>'+block.tresx[7]+' '+block.tresx[9]+'</td><td>'+block.asesor+'</td><td>$'+block.unox[3]+'</td> <td>'+block.unox[7]+'</td> <td>$'+block.unox[8]+'</td><td>'+block.ayudan+'</td><td>'+block.superv+'</td><td><div class="btn-group"><button data-toggle="dropdown" class="btn btn-default dropdown-toggle"></button> <ul class="dropdown-menu"><li><a class="dropdown-item"  href="javascript:eliminar_lis('+String.fromCharCode(39)+'contrato_'+block.unox[1]+'_'+block.unox[2]+'_'+block.unox[5]+'_'+block.unox[0]+String.fromCharCode(39)+');"><i class="fa fa-times"></i> &nbsp Eliminar</a></li><li><a class="dropdown-item"  href="javascript:eliminar_edit_ya('+String.fromCharCode(39)+'contrato_'+block.unox[1]+'_'+block.unox[2]+'_'+block.unox[5]+'_'+block.unox[0]+String.fromCharCode(39)+');"><i class="fa fa-pencil"></i> &nbsp Editar</a></li><li><a class="dropdown-item" href="javascript:refinanciar_lis('+String.fromCharCode(39)+'contrato_'+block.unox[1]+'_'+block.unox[2]+'_'+block.unox[5]+'_'+block.unox[0]+String.fromCharCode(39)+')"><i class="fa fa-retweet"></i> &nbsp Refinanciar</a></li> <li class="dropdown-divider"></li><li><a class="dropdown-item"  href="javascript:impresion_lis('+String.fromCharCode(39)+'contrato_'+block.unox[1]+'_'+block.unox[2]+'_'+block.unox[5]+'_'+block.unox[0]+String.fromCharCode(39)+');"><i class="fa fa-print"></i> &nbsp Imprimir</a></li> <li class="dropdown-divider"></li> </ul></div></td></tr>';

					//console.log(block.unox);
					block.oso = block.oso + '<tr><td>'+block.unox[5]+'</td><td>'+block.tresx[24]+'_'+block.unox[0]+'</td> <td>'+block.tresx[6]+'</td> <td>'+block.tresx[7]+' '+block.tresx[9]+'</td><td>'+block.asesor+'</td><td>$'+block.unox[3]+'</td> <td>'+block.unox[7]+'</td> <td>$'+block.unox[8]+'</td><td>'+block.ayudan+'</td><td>'+block.superv+'</td><td><div class="btn-group"><button data-toggle="dropdown" class="btn btn-default dropdown-toggle"></button> <ul class="dropdown-menu"><li><a class="dropdown-item"  href="javascript:eliminar_lis('+String.fromCharCode(39)+'registry_'+block.unox[1]+'_contrato_'+block.unox[0]+'_'+block.unox[2]+'_'+valor.d[1][0][4]+String.fromCharCode(39)+');"><i class="fa fa-times"></i> &nbsp Eliminar</a></li><li><a class="dropdown-item"  href="javascript:eliminar_edit_ya('+String.fromCharCode(39)+'contrato_'+block.unox[1]+'_'+block.unox[2]+'_'+block.unox[5]+'_'+block.unox[0]+String.fromCharCode(39)+');"><i class="fa fa-pencil"></i> &nbsp Editar</a></li></ul></div></td></tr>';

                }
                $("#lista_enorme").html(block.oso);

            }
        });
    }

	block.unico = 0;
	listado_contratos(block.unico);
	$("#lista_enorme").append("");

    function listado_contratos(mun){

        block.unico =  parseInt(mun);

        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.arrays = [block.tokens[1],block.tokens[4],block.unico,$("#lista_asesores_general3").val()];
        block.obj = {"r": "contratos_lista_all", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {

                block.oso="";
                block.dat0s =valor.d[1][0];
                block.unox = JSON.parse(block.dat0s[0]);
                block.dosx = block.dat0s[1];
                block.tresx = block.dat0s[2];
                block.cuatrosx = JSON.parse(block.dat0s[3]);

                if(block.dosx.length>0){
					block.exta2 = block.dosx[3];
					block.exta = block.exta2.split("_");
                    block.superv = block.exta[3] + " " +block.exta[4];
                }else{
                    block.superv = "No asignado";
                }
                if(block.tresx.length>0) {
                    block.exta2a = JSON.parse(block.tresx);
					block.extaa = block.exta2a[3].split("_");
                    block.ayudan = block.extaa[3] + " " +block.extaa[4];
                }else{
                    block.ayudan = "No asignado";
                }

                block.esf = $("#lista_asesores_general3")["0"].options.selectedIndex;
                block.tesq = $("#lista_asesores_general3")["0"][block.esf].label.split("ID:");

				block.calsulo = block.unox[13];
				block.sumas = 0;
				for(var u= 0; u<block.calsulo.length; u++){
					if(!block.calsulo[u].ct && block.calsulo[u].pe==0){
						block.sumas = block.sumas + parseInt(block.calsulo[u].cp);
					}else if(block.calsulo[u].pe!==0){
						block.sumas = block.sumas + parseInt(block.calsulo[u].pe);
					}
				}

				block.sumas = block.sumas.toString().split('').reverse().join('').replace(/(?=\d*\.?)(\d{3})/g,'$1.');
                block.sumas = block.sumas.split('').reverse().join('').replace(/^[\.]/,'');

				block.oso = block.oso + '<tr><td>'+block.unox[5]+'</td> <td>'+block.sumas+'</td><td>'+block.cuatrosx[7]+'</td> <td>'+block.cuatrosx[8]+' '+block.cuatrosx[10]+'</td> <td>'+block.tesq[0]+'</td><td>'+block.unox[3]+'</td><td>'+block.unox[7]+'%</td><td>'+block.unox[8]+'</td><td>'+block.ayudan+'</td><td>'+block.superv+'</td><td><div class="btn-group"><button data-toggle="dropdown" class="btn btn-default dropdown-toggle"></button> <ul class="dropdown-menu"><li><a class="dropdown-item"  href="javascript:eliminar_lis('+String.fromCharCode(39)+'registry_'+block.unox[1]+'_contrato_'+block.unox[0]+'_'+block.unox[2]+'_'+valor.d[1][0][4]+String.fromCharCode(39)+');"><i class="fa fa-times"></i> &nbsp Eliminar</a></li> </ul></div></td></tr>';

                block.unico++;
                listado_contratos(block.unico);
                $("#lista_enorme").append(block.oso);

            }else if(valor.d[2]!==0 && valor.d[2]>block.unico){

				block.unico++;
				listado_contratos(block.unico);
			}

        });
    }

	function eliminar_lis(id){

		if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.arrays = [block.tokens[1],id];
        block.obj = {"r": "eliminar_contrato", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
				toastr.success('Eliminado con exito', 'System notification!');
				$("#lista_enorme").html("");
				listado_contratos("0");
			}
		});

	}

    $("#lista_asesores_general3").change(function(){
        if($("#lista_asesores_general3").val()!==""){
            block.ase = $("#lista_asesores_general3").val();
            $("#lista_enorme").html("");
            listado_contratos("0");
        }
    });

    $("#buscar_contra").keypress(function (e) {
        if (e.which == 13 && $("#buscar_contra").val()!=="") {
            buscar_contratos($("#buscar_contra").val());
        }
    });

    $("#text_cedula_cliente").keypress(function (e) {
        if (e.which == 13) {
            $("#buscar_cedula_cliente").click();
        }
    });

    $("#numero_idm").keypress(function (e) {
        if (e.which == 13) {
            $("#consultar_registram").click();
        }
    });

    $("#numero_idmd").keypress(function (e) {
        if (e.which == 13) {
            $("#consultar_registramd").click();
        }
    });

    function eliminarRelacion(emailAsesor){

        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.arrays = [block.tokens[1],emailAsesor];
        block.obj = {"r": "eliminar_asociar", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                console.log(valor.d);
            }
        });

    }

	function clientes_mapa_zoon(idAsesor){

		if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.lista = '';
        block.arrays = [block.tokens[1],idAsesor];
        block.obj = {"r": "clientes_asesor_mapa", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
				console.log(valor.d[1]);

				//moveToLocation(10.9833827,-74.836216);

				/*$("#flotante3").css("display","block");
                block.todo = valor.d[1];
                for (var t = 0; t < block.todo.length; t++) {
                    block.item = JSON.parse(block.todo[t]);
                    block.lista = block.lista + '<option onclick="javascript:clientes_mapa_zoon('+String.fromCharCode(39)+block.item[22]+String.fromCharCode(39)+');"> Asesor ' + block.item[7] + '  ' + block.item[9] + ' </option>';
                }
                $("#lista_clientes_mapa_select").html('<option>Seleccione asesor</option>'+block.lista);//falta*/
            }
        });

	}

    function lista_clientes_mapa(){


		if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.lista = '';
        block.arrays = [block.tokens[1]];
        block.obj = {"r": "listar_asesores", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
				$("#flotante3").css("display","block");
                block.todo = valor.d[1];
                for (var t = 0; t < block.todo.length; t++) {
                    block.item = JSON.parse(block.todo[t]);
                    block.lista = block.lista + '<option onclick="javascript:clientes_mapa_zoon('+String.fromCharCode(39)+block.item[22]+String.fromCharCode(39)+');"> Asesor ' + block.item[7] + '  ' + block.item[9] + ' </option>';
                }
                $("#lista_clientes_mapa_select").html('<option>Seleccione asesor</option>'+block.lista);//falta
            }
        });

	}

    $("#consultar_registra").click(function(){

        function navegador() {
            var agente = window.navigator.userAgent;
            var navegadores = ["Chrome", "Firefox", "Safari"];
            for (var i in navegadores) {
                if (agente.indexOf(navegadores[i]) != -1) {
                    return navegadores[i].toLowerCase();
                }
            }
        }

        block.nav = navegador();

        if ($("#numero_id").val() !== "") {
            if (window.localStorage.getItem("Money-vars-token") !== null) {
                block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
            } else {
                block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
            }

            block.arrays = [block.tokens[1], $("#numero_id").val(), block.nav, $("#tipo_letra").val(), window.sessionStorage.getItem("Money-vars-tipo")];
            block.obj = {"r": "consultar_cedula", "d": block.arrays};
            backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
                var valor = JSON.parse(salida);
                if (!valor.e) {
                    block.todo = valor.d[1];
                    block.nombre = block.todo[0];

                    if (block.nombre == "") {
                        $("#nombre_id1").val("");
                        $("#nombre_id2").val("");
                        $("#apellido_id1").val("");
                        $("#apellido_id2").val("");
                        toastr.error('El documento a consultar no existe', 'System notification!');

                    } else {

                        block.antece = block.todo[1];
                        block.porque = block.todo[2];

                        if(block.porque=="" && block.antece=="Si"){
                            block.porque = "Esta información es muy delicada para ser mostrada";
                        }

                        if(block.antece=="Si"){
							swal({
								title: "System notification!",
								text: "Posee antecedente, "+block.porque,
								type: "warning"
							});
                        }

                        block.deatlle = block.nombre.substring(0, 1);

                        if (block.deatlle == " ") {
                            block.nombre = block.nombre.substring(1, block.nombre.length);
                        }

                        block.estimar = block.nombre.split(" ");
                        if (block.estimar.length == 6) {
                            block.primNom = block.estimar[0];
                            block.seguNom = block.estimar[1] + " " + block.estimar[2] + " " + block.estimar[3];
                            block.primApe = block.estimar[4];
                            block.seguApe = block.estimar[5];
                        }else if (block.estimar.length == 5) {
                            block.primNom = block.estimar[0];
                            block.seguNom = block.estimar[1] + " " + block.estimar[2];
                            block.primApe = block.estimar[3];
                            block.seguApe = block.estimar[4];
                        } else if (block.estimar.length == 4) {
                            block.primNom = block.estimar[0];
                            block.seguNom = block.estimar[1];
                            block.primApe = block.estimar[2];
                            block.seguApe = block.estimar[3];
                        } else if (block.estimar.length == 3) {
                            block.primNom = block.estimar[0];
                            block.seguNom = block.estimar[1];
                            block.primApe = block.estimar[2];
                            block.seguApe = "";
                        } else if (block.estimar.length == 2) {
                            block.primNom = block.estimar[0];
                            block.seguNom = "";
                            block.primApe = block.estimar[1];
                            block.seguApe = "";
                        }


                        $("#nombre_id1").val(block.primNom);
                        $("#nombre_id2").val(block.seguNom);
                        $("#apellido_id1").val(block.primApe);
                        $("#apellido_id2").val(block.seguApe);
                        $("#numero_id").prop("disabled", true);
                        $("#tipo_letra").prop("disabled", true);

                    }
                }else{
                    if(valor.d[1]=="r"){
                        toastr.warning('Esta persona esta registrada en otra empresa', 'System notification!');

                        swal({
                            title: "System notification!",
                            text: "Desea asociarlo a la empresa?",
                            type: "warning",
                            showCancelButton: true,
                            confirmButtonColor: "#DD6B55",
                            confirmButtonText: "Si, asociarlo",
                            closeOnConfirm: true
                        }, function () {
                            block.infeas = JSON.parse(valor.d[2]);
                            console.log(block.infeas);
                            $("#nombre_id1").val(block.infeas[7]);
                            $("#nombre_id2").val(block.infeas[8]);
                            $("#apellido_id1").val(block.infeas[9]);
                            $("#apellido_id2").val(block.infeas[10]);
                            $("#direccion_ubica").val(block.infeas[11]);
                            $("#telefono_cel").val(block.infeas[16]);
                            $("#foto_m1").attr("src",block.infeas[1]);
                            $("#foto_m2").attr("src",block.infeas[2]);
                            $("#foto_m3").attr("src",block.infeas[3]);
                            eliminarRelacion(block.infeas[17]);
                        });

                    }else if(valor.d[1]=="5"){
						block.frito = JSON.parse(valor.d[2]);
						if(block.frito[1]=="1"){
							block.des = "El cliente no quiere pagar (Clavo)";
						}else if(block.frito[1]=="2"){
							block.des = "El cliente no se encuentra (Volado)";
						}else if(block.frito[1]=="3"){
							block.des = "El cliente inventado (Ficticia)";
						}
						toastr.warning(block.des, 'System notification!');
					}
                }
            });

			setTimeout(function(){
				$("#nombre_id1").prop("disabled",false);
				$("#nombre_id2").prop("disabled",false);
				$("#apellido_id1").prop("disabled",false);
				$("#apellido_id2").prop("disabled",false);
			},10000);

		} else {
            toastr.warning('Falta número de identificación', 'System notification!');
        }

    });

    function extraes(){

        if($("#lista_asesores_general").val()!=="" && $("#result2").val()!==""){

            $("#listado_operacion_asesore").html("");

            block.asesoe = $("#lista_asesores_general").val();
            block.dividio = block.asesoe.split("_");
            block.ides =  block.dividio[0];
            block.cedula =  block.dividio[1];
            block.foto =  block.dividio[2];
            block.fecha = $("#result2").val();

            if (window.localStorage.getItem("Money-vars-token") !== null) {
                block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
            } else {
                block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
            }

            $("#listado_operacion_asesore")["0"].dataset.asesor = block.ides;

            if(window.sessionStorage.getItem("asesore_list_liquida_"+block.ides)!==null){


                var valor = JSON.parse(window.sessionStorage.getItem("asesore_list_liquida_"+block.ides));
                if (!valor.e) {

					$("#listado_operacion_asesore").html("");
					block.unids = '';
                    block.liCoutas = valor.d[1];

					for(var bc=0; bc< block.liCoutas.length; bc++){
						block.clienes = JSON.parse(block.liCoutas[bc][1]);
						block.contra = block.liCoutas[bc][0];
						block.ince = block.liCoutas[bc][2];

						block.pages = 0;
						block.deuda = false;
						block.favolr = 0;
						block.cobarar = 0;
						block.sale2 = 0;
						var hoy = moment().format('YYYY-MM-DD');

						for(var k = 0; k<block.contra[13].length; k++){

							block.sale2 = block.sale2 + parseInt(block.contra[13][k].cp);
							if (block.contra[13][k].ct) {
								block.sale2 = block.sale2 - parseInt(block.contra[13][k].cp);
							}else if(block.contra[13][k].pe!==0){
								block.sale2 = block.sale2 - parseInt(block.contra[13][k].pe);
							}

							if(!block.deuda){
								if (block.contra[13][k].ct || block.contra[13][k].pe !== 0) {
									block.favolr++;
								}else{
									block.cobarar++;
								}
								if(block.contra[13][k].fe == hoy){
									block.deuda = true;
								}
							}else{
								if (block.contra[13][k].ct || block.contra[13][k].pe !== 0) {
									block.favolr++;
								}
							}
                       }


						if(block.cobarar<block.favolr){
							block.cobfavol ='<i class="fa fa-arrow-up" style="color:#28a745"></i> '+(block.favolr - block.cobarar);
						}else if(block.cobarar>block.favolr){
							block.cobfavol ='<i class="fa fa-arrow-down" style="color:#dc3545"></i> '+block.cobarar;
						}else if(block.cobarar==block.favolr){
							block.cobfavol ='<i class="fa fa-check" style="color:blue;"></i> 0';
						}

						block.evals = block.contra[3].replace(".","");
						block.evals2 = block.evals.replace(".","");
						block.sale2 = block.sale2.toString().split('').reverse().join('').replace(/(?=\d*\.?)(\d{3})/g,'$1.');
                        block.totaldu = block.sale2.split('').reverse().join('').replace(/^[\.]/,'');

						block.unids = block.unids + '<tr class="item" id="iten'+bc+'" data-ubic="'+bc+'"><td>'+bc+'</td><td>'+block.clienes[8]+" "+block.clienes[10]+'</td><td>'+block.clienes[19]+'</td><td>$'+block.contra[8]+'</td><td></td><td></td><td id="musc_'+block.clienes[7]+'_'+block.ince+'">'+block.cobfavol+'</td><td><input type="text" class="form-control" style="width: 50%;"  id="descontarte_'+block.clienes[7]+'_'+block.ince+'" onkeypress="descontar(event);" onkeyup="descontarws(event);"></td><td>$'+block.contra[3]+'</td><td id="montos_'+block.clienes[7]+'_'+block.ince+'">$'+block.totaldu+'</td></tr>';

					}

					$("#listado_operacion_asesore").html(block.unids);


                }

            }else{

                toastr.warning('Espere se esta sincronizando la información del asesor', 'System notification!');

                block.unids ="";
                block.arrays = [block.tokens[1],block.fecha,block.ides,block.cedula];
                block.obj = {"r": "liquida_parte_1", "d": block.arrays};
                backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
                    var valor = JSON.parse(salida);
						if (!valor.e) {

						$("#listado_operacion_asesore").html("");

						block.liCoutas = valor.d[1];

						for(var bc=0; bc< block.liCoutas.length; bc++){
							block.clienes = JSON.parse(block.liCoutas[bc][1]);
							block.contra = block.liCoutas[bc][0];
							block.ince = block.liCoutas[bc][2];

							block.pages = 0;
							block.deuda = false;
							block.favolr = 0;
							block.cobarar = 0;
							var hoy = moment().format('YYYY-MM-DD');

							for(var k = 0; k<block.contra[13].length; k++){
								if(!block.deuda){
									if (block.contra[13][k].ct || block.contra[13][k].pe !== 0) {
										block.favolr++;
									}else{
										block.cobarar++;
									}
									if(block.contra[13][k].fe == hoy){
										block.deuda = true;
									}
								}else{
									if (block.contra[13][k].ct || block.contra[13][k].pe !== 0) {
										block.favolr++;
									}
								}
						   }


							if(block.cobarar<block.favolr){
								block.cobfavol ='<i class="fa fa-arrow-up" style="color:#28a745"></i> '+(block.favolr - block.cobarar);
							}else if(block.cobarar>block.favolr){
								block.cobfavol ='<i class="fa fa-arrow-down" style="color:#dc3545"></i> '+block.cobarar;
							}else if(block.cobarar==block.favolr){
								block.cobfavol ='<i class="fa fa-check" style="color:blue;"></i> 0';
							}

							block.evals = block.contra[3].replace(".","");
							block.evals2 = block.evals.replace(".","");
							block.totaldu = parseInt(block.evals2) * ( parseInt(block.contra[7]) / 100) + parseInt(block.evals2);
							block.totaldu = block.totaldu.toString().split('').reverse().join('').replace(/(?=\d*\.?)(\d{3})/g,'$1.');
							block.totaldu = block.totaldu.split('').reverse().join('').replace(/^[\.]/,'');

							block.unids = block.unids + '<tr class="item" id="iten'+bc+'" data-ubic="'+bc+'"><td>'+bc+'</td><td>'+block.clienes[8]+" "+block.clienes[10]+'</td><td>'+block.clienes[19]+'</td><td>$'+block.contra[8]+'</td><td></td><td></td><td id="musc_'+block.clienes[7]+'_'+block.ince+'">'+block.cobfavol+'</td><td><input type="text" class="form-control" style="width: 50%;"  id="descontarte_'+block.clienes[7]+'_'+block.ince+'" onkeypress="descontar(event);" onkeyup="descontarws(event);"></td><td>$'+block.contra[3]+'</td><td id="montos_'+block.clienes[7]+'_'+block.ince+'">$'+block.totaldu+'</td></tr>';

						}

						$("#listado_operacion_asesore").html(block.unids);


					}

				});

            }
        }

        function organizar(){
            block.suma =[];
            block.asesor = $("#listado_operacion_asesore")["0"].dataset.asesor;
            block.unisao = $("#listado_operacion_asesore")["0"].childNodes;
            for(var q = 0; q <block.unisao.length; q++){
                block.ites =block.unisao[q].dataset.ubic;
                block.suma.push(block.ites);
            }

            if (window.localStorage.getItem("Money-vars-token") !== null) {
                block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
            } else {
                block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
            }
            block.arrays = [block.tokens[1], block.suma,block.asesor];
            block.obj = {"r": "ordenar_contrato", "d": block.arrays};
            backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
                var valor = JSON.parse(salida);
                if (!valor.e) {
                    toastr.success('Se guardo el orden', 'System notification!');
                }
            });

        }

        $('table.sortable').sortable({
            items: ".item",
            axis: "y",
            stop: function(event, ui) {
                ui.item.effect('highlight');
            },
            update: function(event, ui) {
                organizar();
            }
        });
    }


    function sumatoria(){

        block.unew = $("#lista_asesores_general").val();
        block.resq = block.unew.split("_");
        block.asesoreId=block.resq[0];

        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.arrays = [block.tokens[1],block.asesoreId];
        block.obj = {"r": "sumatoria_diario", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                valor.d[1] = valor.d[1].toString().split('').reverse().join('').replace(/(?=\d*\.?)(\d{3})/g,'$1.');
                valor.d[1] = valor.d[1].split('').reverse().join('').replace(/^[\.]/,'');

				if(valor.d[2]!=="0"){
					valor.d[2] = valor.d[2].toString().split('').reverse().join('').replace(/(?=\d*\.?)(\d{3})/g,'$1.');
					valor.d[2] = valor.d[2].split('').reverse().join('').replace(/^[\.]/,'');
				}else{
					valor.d[2] = 0;
					valor.d[3] = "";
				}
                $("#base_anterior").text("Base anterior: $"+valor.d[2]+ " Guardado: "+ valor.d[3]);
                $("#text_recolectado").text("$"+valor.d[1]);
                window.sessionStorage.setItem("sumatoria_"+block.asesoreId,valor.d[1]);
                window.sessionStorage.setItem("liquidacion_accion",block.asesoreId);
            }
        });

    }


    $("#lista_asesores_general").change(function () {
		block.esf = $("#lista_asesores_general")["0"].options.selectedIndex;
        block.tesq = $("#lista_asesores_general")["0"][block.esf].innerHTML.split("ID: ");
		window.sessionStorage.setItem("asesore_lis_limp",block.tesq[1]);
		sumatoria();
		$("#listado_operacion_asesore").html("");
        extraes();
    });

    //$('input').on('keydown',function(e){
    //    $('input')[$('input').index(this)+1].focus();
    //});

    function descontar(e){
        block.tecla = (document.all) ? e.keyCode : e.which;
        if (block.tecla==13) {

            block.unews = $("#lista_asesores_general").val();
            block.inew = block.unews.split("_");
            block.asesorId = block.inew[0];

            var cedula2 = e.srcElement.id,
				cedula3 = cedula2.split("_"),
				cedula = cedula3[1],
				idconsecutivo = cedula3[2];

            if (window.localStorage.getItem("Money-vars-token") !== null) {
                block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
            } else {
                block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
            }
            block.monto_pago = $("#descontarte_"+ cedula+"_"+idconsecutivo).val();

			if(block.monto_pago!=="" && block.monto_pago!=="0" && block.monto_pago!==null){

				block.arrays = [block.tokens[1], block.asesorId, block.monto_pago, idconsecutivo, cedula];
				block.obj = {"r": "descontar_cuota", "d": block.arrays};
				backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
					var valor = JSON.parse(salida);
					if (!valor.e) {
						toastr.success('Procesado con éxito', 'System notification!');
						sumatoria();
						block.subi = $("#musc_"+cedula+"_"+idconsecutivo)["0"].innerHTML;
						block.subimon = parseInt($("#musc_"+cedula+"_"+idconsecutivo).text());
						if( block.subi.indexOf("down")>-1 ){
							if(block.subimon==1){
								$("#musc_"+cedula+"_"+idconsecutivo)["0"].innerHTML = '<i class="fa fa-arrow-up" style="color:#28a745"></i> 1';
							}else{
								block.real = block.subimon -1;
								$("#musc_"+cedula+"_"+idconsecutivo)["0"].innerHTML = '<i class="fa fa-arrow-up" style="color:#28a745"></i> '+block.real;
							}
						}else{
							block.real = block.subimon+1;
							$("#musc_"+cedula+"_"+idconsecutivo)["0"].innerHTML = '<i class="fa fa-arrow-up" style="color:#28a745"></i> '+block.real;
						}

					}
				});

			}
        }

    }

    $.fn.setCursorPosition = function(pos) {
        this.each(function(index, elem) {
            if (elem.setSelectionRange) {
                elem.setSelectionRange(pos, pos);
            } else if (elem.createTextRange) {
                var range = elem.createTextRange();
                range.collapse(true);
                range.moveEnd('character', pos);
                range.moveStart('character', pos);
                range.select();
            }
        });
        return this;
    };

    function descontarws(e){
        var cedula2 = e.srcElement.id,cedula3 = cedula2.split("_"),cedula = cedula3[1],fechao = cedula3[2];
        block.monto_pago = $("#descontarte_" + cedula+"_"+fechao).val();

		if(block.monto_pago!=="" && block.monto_pago!=="0" && block.monto_pago!==undefined){

			if(block.monto_pago.length==1 && block.monto_pago!=="0"){
				block.nume = block.monto_pago * 1000;
				$("#descontarte_" + cedula+"_"+fechao).val(block.nume);
				$("#descontarte_" + cedula+"_"+fechao).focus().setCursorPosition(1);
			}else if($("#descontarte_" + cedula).val()=="000"){
				$("#descontarte_" + cedula+"_"+fechao).val(0);
				$("#descontarte_" + cedula+"_"+fechao).val("");
			}
			if(block.monto_pago!=="") {
				block.unews = window.sessionStorage.getItem("asesore_lis_limp");
				block.recoem = window.sessionStorage.getItem("sumatoria_"+block.unews);
				if(block.recoem!==null){
					if(block.recoem.indexOf(".")!==-1){
						block.recoem = block.recoem.replace(".","");
					}
					if(block.recoem.indexOf(".")!==-1){
						block.recoem = block.recoem.replace(".","");
					}
					if(block.recoem.indexOf(".")!==-1){
						block.recoem = block.recoem.replace(".","");
					}

					block.recoem = parseInt(block.recoem) + parseInt(block.monto_pago);
					block.recoem = block.recoem.toString().split('').reverse().join('').replace(/(?=\d*\.?)(\d{3})/g, '$1.');
					block.recoem = block.recoem.split('').reverse().join('').replace(/^[\.]/, '');
					$("#text_recolectado").text("$"+block.recoem);
				}
			}

		}
    }

	function buscar_error(){
		console.log("El error eres tu");
	}

	$("#registro_base").click(function(){
		$("#modal_base").modal("show");
	});

	$("#seguro_admin").click(function(){

		toastr.success('Esta habilitado para crear el usuario y editarlo a futuro', 'System notification!');
		 $("#nombre_id1m").prop("disabled", false);
		 $("#nombre_id2m").prop("disabled", false);
		 $("#apellido_id1m").prop("disabled", false);
		 $("#apellido_id2m").prop("disabled", false);
		 $("#numero_idm").prop("disabled", true);
		 $("#tipo_letram").prop("disabled", true);
		 $("#correo_electronicom").val("Actualizar_datos_cliente@mail.com");

	});

    $("#consultar_registram").click(function () {

        function navegador() {
            var agente = window.navigator.userAgent;
            var navegadores = ["Chrome", "Firefox", "Safari"];
            for (var i in navegadores) {
                if (agente.indexOf(navegadores[i]) != -1) {
                    return navegadores[i].toLowerCase();
                }
            }
        }

        block.nav = navegador();

        if ($("#numero_idm").val() !== "") {
            if (window.localStorage.getItem("Money-vars-token") !== null) {
                block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
            } else {
                block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
            }

            block.arrays = [block.tokens[1], $("#numero_idm").val(), block.nav, $("#tipo_letram").val(), window.sessionStorage.getItem("Money-vars-tipo")];

            block.obj = {"r": "consultar_cedula", "d": block.arrays};
            backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
                var valor = JSON.parse(salida);
                if (!valor.e) {
                    block.todo = valor.d[1];
                    block.nombre = block.todo[0];

                    if (block.nombre == "") {
                        $("#nombre_id1m").val("");
                        $("#nombre_id2m").val("");
                        $("#apellido_id1m").val("");
                        $("#apellido_id2m").val("");
                        toastr.error('El documento a consultar no existe', 'System notification!');

						toastr.success('Esta habilitado para crear el usuario y editarlo a futuro', 'System notification!');
						 $("#nombre_id1m").prop("disabled", false);
						 $("#nombre_id2m").prop("disabled", false);
						 $("#apellido_id1m").prop("disabled", false);
						 $("#apellido_id2m").prop("disabled", false);
						 $("#numero_idm").prop("disabled", true);
						 $("#tipo_letram").prop("disabled", true);
						 $("#correo_electronicom").val("Actualizar_datos_cliente@mail.com");


                    } else {

                        block.antece = block.todo[1];
                        block.porque = block.todo[2];

                        if(block.porque=="" && block.antece=="Si"){
                            block.porque = "Esta información es muy delicada para ser mostrada";
                        }

                        if(block.antece=="Si"){
                            swal({
								title: "System notification!",
								text: "Posee antecedente, "+block.porque,
								type: "warning"
							});
                        }

                        block.deatlle = block.nombre.substring(0, 1);

                        if (block.deatlle == " ") {
                            block.nombre = block.nombre.substring(1, block.nombre.length);
                        }

                        block.estimar = block.nombre.split(" ");

                        if (block.estimar.length == 6) {
                            block.primNom = block.estimar[0];
                            block.seguNom = block.estimar[1] + " " + block.estimar[2] + " " + block.estimar[3];
                            block.primApe = block.estimar[4];
                            block.seguApe = block.estimar[5];
                        }else if (block.estimar.length == 5) {
                            block.primNom = block.estimar[0];
                            block.seguNom = block.estimar[1] + " " + block.estimar[2];
                            block.primApe = block.estimar[3];
                            block.seguApe = block.estimar[4];
                        } else if (block.estimar.length == 4) {
                            block.primNom = block.estimar[0];
                            block.seguNom = block.estimar[1];
                            block.primApe = block.estimar[2];
                            block.seguApe = block.estimar[3];
                        } else if (block.estimar.length == 3) {
                            block.primNom = block.estimar[0];
                            block.seguNom = block.estimar[1];
                            block.primApe = block.estimar[2];
                            block.seguApe = "";
                        } else if (block.estimar.length == 2) {
                            block.primNom = block.estimar[0];
                            block.seguNom = "";
                            block.primApe = block.estimar[1];
                            block.seguApe = "";
                        }


                        $("#nombre_id1m").val(block.primNom);
                        $("#nombre_id2m").val(block.seguNom);
                        $("#apellido_id1m").val(block.primApe);
                        $("#apellido_id2m").val(block.seguApe);
                        $("#numero_idm").prop("disabled", true);
                        $("#tipo_letram").prop("disabled", true);

                    }
                }else{
					if(valor.d[1]=="5"){
						block.frito = JSON.parse(valor.d[2]);
						if(block.frito[1]=="1"){
							block.des = "El cliente no quiere pagar (Clavo)";
						}else if(block.frito[1]=="2"){
							block.des = "El cliente no se encuentra (Volado)";
						}else if(block.frito[1]=="3"){
							block.des = "El cliente inventado (Ficticia)";
						}
						toastr.warning(block.des, 'System notification!');
					}
				}
            });


			setTimeout(function(){
				$("#nombre_id1m").prop("disabled",false);
				$("#nombre_id2m").prop("disabled",false);
				$("#apellido_id1m").prop("disabled",false);
				$("#apellido_id2m").prop("disabled",false);
			},10000);

        } else {
            toastr.warning('Falta número de identificación', 'System notification!');
        }

    });

    $("#consultar_registramd").click(function () {

        function navegador() {
            var agente = window.navigator.userAgent;
            var navegadores = ["Chrome", "Firefox", "Safari"];
            for (var i in navegadores) {
                if (agente.indexOf(navegadores[i]) != -1) {
                    return navegadores[i].toLowerCase();
                }
            }
        }

        block.nav = navegador();

        if ($("#numero_idmd").val() !== "") {
            if (window.localStorage.getItem("Money-vars-token") !== null) {
                block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
            } else {
                block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
            }

            block.arrays = [block.tokens[1], $("#numero_idmd").val(), block.nav, $("#tipo_letramd").val(), window.sessionStorage.getItem("Money-vars-tipo")];

            block.obj = {"r": "consultar_cedula", "d": block.arrays};
            backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
                var valor = JSON.parse(salida);
                if (!valor.e) {
                    block.todo = valor.d[1];
                    block.nombre = block.todo[0];

                    if (block.nombre == "") {
                        $("#nombre_id1md").val("");
                        $("#nombre_id2md").val("");
                        $("#apellido_id1md").val("");
                        $("#apellido_id2md").val("");
                        toastr.error('El documento a consultar no existe', 'System notification!');

						 toastr.success('Esta habilitado para crear el usuario y editarlo a futuro', 'System notification!');
						 $("#nombre_id1md").prop("disabled", false);
						 $("#nombre_id2md").prop("disabled", false);
						 $("#apellido_id1md").prop("disabled", false);
						 $("#apellido_id2md").prop("disabled", false);
						 $("#numero_idmd").prop("disabled", true);
						 $("#tipo_letram").prop("disabled", true);
						 $("#correo_electronicom").val("Actualizar_datos_cliente@mail.com");


                    } else {

                        block.antece = block.todo[1];
                        block.porque = block.todo[2];

                        if(block.porque=="" && block.antece=="Si"){
                            block.porque = "Esta información es muy delicada para ser mostrada";
                        }

                        if(block.antece=="Si"){
                            swal({
								title: "System notification!",
								text: "Posee antecedente, "+block.porque,
								type: "warning"
							});
                        }

                        block.deatlle = block.nombre.substring(0, 1);

                        if (block.deatlle == " ") {
                            block.nombre = block.nombre.substring(1, block.nombre.length);
                        }

                        block.estimar = block.nombre.split(" ");

                        if (block.estimar.length == 6) {
                            block.primNom = block.estimar[0];
                            block.seguNom = block.estimar[1] + " " + block.estimar[2] + " " + block.estimar[3];
                            block.primApe = block.estimar[4];
                            block.seguApe = block.estimar[5];
                        }else if (block.estimar.length == 5) {
                            block.primNom = block.estimar[0];
                            block.seguNom = block.estimar[1] + " " + block.estimar[2];
                            block.primApe = block.estimar[3];
                            block.seguApe = block.estimar[4];
                        } else if (block.estimar.length == 4) {
                            block.primNom = block.estimar[0];
                            block.seguNom = block.estimar[1];
                            block.primApe = block.estimar[2];
                            block.seguApe = block.estimar[3];
                        } else if (block.estimar.length == 3) {
                            block.primNom = block.estimar[0];
                            block.seguNom = block.estimar[1];
                            block.primApe = block.estimar[2];
                            block.seguApe = "";
                        } else if (block.estimar.length == 2) {
                            block.primNom = block.estimar[0];
                            block.seguNom = "";
                            block.primApe = block.estimar[1];
                            block.seguApe = "";
                        }


                        $("#nombre_id1md").val(block.primNom);
                        $("#nombre_id2md").val(block.seguNom);
                        $("#apellido_id1md").val(block.primApe);
                        $("#apellido_id2md").val(block.seguApe);
                        $("#numero_idmd").prop("disabled", true);
                        $("#tipo_letramd").prop("disabled", true);

                    }
                }else{
					if(valor.d[1]=="5"){
						block.frito = JSON.parse(valor.d[2]);
						if(block.frito[1]=="1"){
							block.des = "El cliente no quiere pagar (Clavo)";
						}else if(block.frito[1]=="2"){
							block.des = "El cliente no se encuentra (Volado)";
						}else if(block.frito[1]=="3"){
							block.des = "El cliente inventado (Ficticia)";
						}
						toastr.warning(block.des, 'System notification!');
					}
				}
            });


			setTimeout(function(){
				$("#nombre_id1md").prop("disabled",false);
				$("#nombre_id2md").prop("disabled",false);
				$("#apellido_id1md").prop("disabled",false);
				$("#apellido_id2md").prop("disabled",false);
			},10000);

        } else {
            toastr.warning('Falta número de identificación', 'System notification!');
        }

    });

	$("#migrar_cion_div").css("display", "none");
    $("#recaduos_ink").css("display", "none");
	$("#suplanter").css("display", "none");
    $("#letra_venezuela").css("display", "none");
    $("#letra_venezuelam").css("display", "none");
    $("#letra_venezuelamd").css("display", "none");

    window.sessionStorage.setItem("Money-vars-tipo", "1");

    $("#tipo_cargo").change(function () {
        if ($("#tipo_cargo").val() == "a" || $("#tipo_cargo").val() == "c") {
            $("#moto_detalle").css("display", "initial");
        } else {
            $("#moto_detalle").css("display", "none");
        }
    });

    $("#pais_selecionado").change(function () {
        $("#numero_id").prop("disabled", false);
        $("#tipo_letra").prop("disabled", false);
        $("#nombre_id1").val("");
        $("#nombre_id2").val("");
        $("#apellido_id1").val("");
        $("#apellido_id2").val("");

        if ($("#pais_selecionado").val() == "1") {
            window.sessionStorage.setItem("Money-vars-tipo", "1");
            $("#numero_id").val("");
            $("#letra_venezuela").css("display", "none");
            $("#cedula_div").removeClass("col-sm-6").removeClass("col-md-3").removeClass("col-xs-12").addClass("col-xs-6").addClass("col-sm-6").addClass("col-md-6");
        } else {
            window.sessionStorage.setItem("Money-vars-tipo", "2");
            $("#numero_id").val("");
            $("#letra_venezuela").css("display", "initial");
            $("#cedula_div").addClass("col-sm-6").addClass("col-md-3").addClass("col-xs-12").removeClass("col-xs-6").removeClass("col-sm-6").removeClass("col-md-6");
        }
    });

	$("#su_pais_selecionado").change(function () {
        $("#su_numero_id").prop("disabled", false);
        $("#su_tipo_letra").prop("disabled", false);
        $("#su_nombre_id1").val("");
        $("#su_nombre_id2").val("");
        $("#su_apellido_id1").val("");
        $("#su_apellido_id2").val("");

        if ($("#su_pais_selecionado").val() == "1") {
            window.sessionStorage.setItem("Money-vars-tipo", "1");
            $("#su_numero_id").val("");
            $("#su_letra_venezuela").css("display", "none");
            $("#su_cedula_div").removeClass("col-sm-6").removeClass("col-md-3").removeClass("col-xs-12").addClass("col-xs-6").addClass("col-sm-6").addClass("col-md-6");
        } else {
            window.sessionStorage.setItem("Money-vars-tipo", "2");
            $("#su_numero_id").val("");
            $("#su_letra_venezuela").css("display", "initial");
            $("#su_cedula_div").addClass("col-sm-6").addClass("col-md-3").addClass("col-xs-12").removeClass("col-xs-6").removeClass("col-sm-6").removeClass("col-md-6");
        }
    });

    $("#pais_selecionadom").change(function () {

        $("#numero_idm").prop("disabled", false);
        $("#tipo_letram").prop("disabled", false);
        $("#nombre_id1m").val("");
        $("#nombre_id2m").val("");
        $("#apellido_id1m").val("");
        $("#apellido_id2m").val("");

        if ($("#pais_selecionadom").val() == "1") {
            window.sessionStorage.setItem("Money-vars-tipo", "1");
            $("#letra_venezuelam").css("display", "none");
            $("#cedula_divm").removeClass("col-sm-6").removeClass("col-md-3").removeClass("col-xs-12")
                    .addClass("col-xs-12").addClass("col-sm-6").addClass("col-md-6");
        } else {
            window.sessionStorage.setItem("Money-vars-tipo", "2");
            $("#letra_venezuelam").css("display", "initial");
            $("#cedula_divm").addClass("col-sm-6").addClass("col-md-3").addClass("col-xs-12")
                    .removeClass("col-xs-12").removeClass("col-sm-6").removeClass("col-md-6");
        }


    });


    $("#pais_selecionadomd").change(function () {

        $("#numero_idmd").prop("disabled", false);
        $("#tipo_letramd").prop("disabled", false);
        $("#nombre_id1md").val("");
        $("#nombre_id2md").val("");
        $("#apellido_id1md").val("");
        $("#apellido_id2md").val("");

        if ($("#pais_selecionadomd").val() == "1") {
            window.sessionStorage.setItem("Money-vars-tipo", "1");
            $("#numero_idmd").val("");
            $("#letra_venezuelamd").css("display", "none");
            $("#cedula_divmd").removeClass("col-sm-6").removeClass("col-md-3").removeClass("col-xs-12").addClass("col-xs-6").addClass("col-sm-6").addClass("col-md-6");
        } else {
            window.sessionStorage.setItem("Money-vars-tipo", "2");
            $("#numero_idmd").val("");
            $("#letra_venezuelamd").css("display", "initial");
            $("#cedula_divmd").addClass("col-sm-6").addClass("col-md-3").addClass("col-xs-12").removeClass("col-xs-6").removeClass("col-sm-6").removeClass("col-md-6");
        }


    });

    if (window.localStorage.getItem("Money-vars-token") !== null) {
        block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
    } else {
        block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
    }

    function actualFeacha(){
        var fecha = new Date();
        var mes = fecha.getMonth()+1;
        var dia = fecha.getDate();
        var ano = fecha.getFullYear();
        if(dia<10)
            dia='0'+dia;
        if(mes<10)
            mes='0'+mes;
        document.getElementById('fechaActual').value=ano+"-"+mes+"-"+dia;
    }

    window.onload = function(){
        actualFeacha();
    };

    function extraer_ciudades() {
        block.depart = $("#tipo_departamento").val();
        $("#tipo_ciudades").html('<option value=""></option>');

        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.arrays = [block.tokens[1], block.depart];
        block.obj = {"r": "extraer_ciudades", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                block.lista = valor.d[1];
                block.nuevo = "";
                for (var e = 0; e < block.lista.length; e++) {
                    block.nuevo = block.nuevo + '<option value="' + block.lista[e] + '">' + block.lista[e] + '</option>';
                }
                $("#tipo_ciudades").html($("#tipo_ciudades").html() + block.nuevo);
            }
        });
    }


	function extraer_ciudades_suplan() {
        block.depart = $("#su_tipo_departamento").val();
        $("#su_tipo_ciudades").html('<option value=""></option>');

        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.arrays = [block.tokens[1], block.depart];
        block.obj = {"r": "extraer_ciudades", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                block.lista = valor.d[1];
                block.nuevo = "";
                for (var e = 0; e < block.lista.length; e++) {
                    block.nuevo = block.nuevo + '<option value="' + block.lista[e] + '">' + block.lista[e] + '</option>';
                }
                $("#su_tipo_ciudades").html($("#su_tipo_ciudades").html() + block.nuevo);
            }
        });
    }

    function extraer_ciudadesm() {
        block.depart = $("#tipo_departamentom").val();
        $("#tipo_ciudadesm").html('<option value=""></option>');

        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.arrays = [block.tokens[1], block.depart];
        block.obj = {"r": "extraer_ciudades", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                block.lista = valor.d[1];
                block.nuevo = "";
                for (var e = 0; e < block.lista.length; e++) {
                    block.nuevo = block.nuevo + '<option value="' + block.lista[e] + '">' + block.lista[e] + '</option>';
                }
                $("#tipo_ciudadesm").html($("#tipo_ciudadesm").html() + block.nuevo);
            }
        });
    }

    function extraer_ciudadesmd() {
        block.depart = $("#tipo_departamentomd").val();
        $("#tipo_ciudadesmd").html('<option value=""></option>');

        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.arrays = [block.tokens[1], block.depart];
        block.obj = {"r": "extraer_ciudades", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                block.lista = valor.d[1];
                block.nuevo = "";
                for (var e = 0; e < block.lista.length; e++) {
                    block.nuevo = block.nuevo + '<option value="' + block.lista[e] + '">' + block.lista[e] + '</option>';
                }
                $("#tipo_ciudadesmd").html($("#tipo_ciudadesmd").html() + block.nuevo);
            }
        });
    }

    function extraer_ciudadesmd() {
        block.depart = $("#tipo_departamentomd").val();
        $("#tipo_ciudadesmd").html('<option value=""></option>');

        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.arrays = [block.tokens[1], block.depart];
        block.obj = {"r": "extraer_ciudades", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                block.lista = valor.d[1];
                block.nuevo = "";
                for (var e = 0; e < block.lista.length; e++) {
                    block.nuevo = block.nuevo + '<option value="' + block.lista[e] + '">' + block.lista[e] + '</option>';
                }
                $("#tipo_ciudadesmd").html($("#tipo_ciudadesmd").html() + block.nuevo);
            }
        });
    }

    block.arrays = [block.tokens[1]];
    block.obj = {"r": "extraer_departamentos", "d": block.arrays};
    backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
        var valor = JSON.parse(salida);
        if (!valor.e) {
            block.lista = valor.d[1];
            block.nuevo = "";
            for (var e = 0; e < block.lista.length; e++) {
                block.nuevo = block.nuevo + '<option value="' + block.lista[e] + '">' + block.lista[e] + '</option>';
            }
            $("#tipo_departamento").html($("#tipo_departamento").html() + block.nuevo);
            $("#su_tipo_departamento").html($("#su_tipo_departamento").html() + block.nuevo);
            $("#tipo_departamentom").html($("#tipo_departamentom").html() + block.nuevo);
            $("#tipo_departamentomd").html($("#tipo_departamentomd").html() + block.nuevo);
        }
    });

    function extraer_barrios() {
        block.depart = $("#tipo_departamento").val();
        block.cuidad = $("#tipo_ciudades").val();
        $("#tipo_barrio").html('<option value=""></option>');

        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.arrays = [block.tokens[1], block.depart, block.cuidad];
        block.obj = {"r": "extraer_barrios", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                block.lista = valor.d[1];
                block.nuevo = "";
                for (var e = 0; e < block.lista.length; e++) {
                    block.nuevo = block.nuevo + '<option value="' + block.lista[e] + '">' + block.lista[e] + '</option>';
                }
                $("#tipo_barrio").html($("#tipo_barrio").html() + block.nuevo);
            }
        });
    }


    function extraer_barrios_supla() {
        block.depart = $("#su_tipo_departamento").val();
        block.cuidad = $("#su_tipo_ciudades").val();
        $("#su_tipo_barrio").html('<option value=""></option>');

        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.arrays = [block.tokens[1], block.depart, block.cuidad];
        block.obj = {"r": "extraer_barrios", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                block.lista = valor.d[1];
                block.nuevo = "";
                for (var e = 0; e < block.lista.length; e++) {
                    block.nuevo = block.nuevo + '<option value="' + block.lista[e] + '">' + block.lista[e] + '</option>';
                }
                $("#su_tipo_barrio").html($("#su_tipo_barrio").html() + block.nuevo);
            }
        });
    }

    function extraer_barriosm() {
        block.depart = $("#tipo_departamentom").val();
        block.cuidad = $("#tipo_ciudadesm").val();
        $("#tipo_barriom").html('<option value=""></option>');

        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.arrays = [block.tokens[1], block.depart, block.cuidad];
        block.obj = {"r": "extraer_barrios", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                block.lista = valor.d[1];
                block.nuevo = "";
                for (var e = 0; e < block.lista.length; e++) {
                    block.nuevo = block.nuevo + '<option value="' + block.lista[e] + '">' + block.lista[e] + '</option>';
                }
                $("#tipo_barriom").html($("#tipo_barriom").html() + block.nuevo);
            }
        });
    }

    function extraer_barriosmd() {
        block.depart = $("#tipo_departamentomd").val();
        block.cuidad = $("#tipo_ciudadesmd").val();
        $("#tipo_barriomd").html('<option value=""></option>');

        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.arrays = [block.tokens[1], block.depart, block.cuidad];
        block.obj = {"r": "extraer_barrios", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                block.lista = valor.d[1];
                block.nuevo = "";
                for (var e = 0; e < block.lista.length; e++) {
                    block.nuevo = block.nuevo + '<option value="' + block.lista[e] + '">' + block.lista[e] + '</option>';
                }
                $("#tipo_barriomd").html($("#tipo_barriomd").html() + block.nuevo);
                $("#su_tipo_barrio").html($("#tipo_barrio").html() + block.nuevo);
            }
        });
    }

    $("#tipo_ciudades").change(function () {
        if ($("#tipo_ciudades").val() !== "") {
            extraer_barrios();
        }
    });

	$("#su_tipo_ciudades").change(function () {
        if ($("#su_tipo_ciudades").val() !== "") {
            extraer_barrios_supla();
        }
    });

    $("#tipo_departamento").change(function () {
        if ($("#tipo_departamento").val() !== "") {
            extraer_ciudades();
        }
    });

	$("#su_tipo_departamento").change(function () {
        if ($("#su_tipo_departamento").val() !== "") {
            extraer_ciudades_suplan();
        }
    });

    $("#tipo_ciudadesm").change(function () {
        if ($("#tipo_ciudadesm").val() !== "") {
            extraer_barriosm();
        }
    });

    $("#tipo_ciudadesmd").change(function () {
        if ($("#tipo_ciudadesmd").val() !== "") {
            extraer_barriosmd();
        }
    });

    $("#tipo_departamentom").change(function () {
        if ($("#tipo_departamentom").val() !== "") {
            extraer_ciudadesm();
        }
    });

    $("#tipo_departamentomd").change(function () {
        if ($("#tipo_departamentomd").val() !== "") {
            extraer_ciudadesmd();
        }
    });

    function no_exite_cliente() {
        $("#popop_new_cliente").modal("show");
		block.infe = $("#text_cedula_cliente").val();
		$("#numero_idm").val(block.infe);
    }

    $("#buscar_cedula_cliente").click(function () {
        if ($("#text_cedula_cliente").val() !== "") {

            if (window.localStorage.getItem("Money-vars-token") !== null) {
                block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
            } else {
                block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
            }

            block.arrays = [block.tokens[1],$("#text_cedula_cliente").val()];

            block.obj = {"r": "buscar_cliente", "d": block.arrays};
            backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
                var valor = JSON.parse(salida);
                if (!valor.e) {
                    block.partes = JSON.parse(valor.d[1]);
                    block.nomre = block.partes[8] +" "+block.partes[9] +" "+block.partes[10] +" "+block.partes[11];

                    block.estraa = $("#selector_asesores_lista").val();
                    block.estraaq = block.estraa.split("_");
                    block.estra = block.estraaq[0];
                    block.cedulasesor = block.estraaq[1];
                    block.fotoas = block.estraaq[2];
                    $("#text_cedula_asesor").val(block.cedulasesor);
                    $("#text_nombre_cliente").val(block.nomre);
                    $("#asesor_foto_selec").attr("src",block.fotoas);
                    window.sessionStorage.setItem("Money-vars-registrado",block.partes[7]);
                    $("#foto_user_clien").attr("src",block.partes[1]);
                }else{
					if(valor.d[1]=="6"){
						 block.frito = JSON.parse(valor.d[2]);
						if(block.frito[1]=="1"){
							block.des = "El cliente no quiere pagar en esta empresa(Clavo)";
						}else if(block.frito[1]=="2"){
							block.des = "El cliente no se encuentra en esta empresa(Volado)";
						}else if(block.frito[1]=="3"){
							block.des = "El cliente inventado en esta empresa(Ficticia)";
						}
						toastr.warning(block.des, 'System notification!');

					}else if(valor.d[1]=="8"){

						block.frito = JSON.parse(valor.d[2]);
						if(block.frito[1]=="1"){
							block.des = "El cliente no quiere pagar en otra empresa(Clavo)";
						}else if(block.frito[1]=="2"){
							block.des = "El cliente no se encuentra en otra empresa(Volado)";
						}else if(block.frito[1]=="3"){
							block.des = "El cliente inventado en otra empresa(Ficticia)";
						}
						toastr.warning(block.des, 'System notification!');

						block.partes = JSON.parse(valor.d[3][0]);
						block.nomre = block.partes[8] +" "+block.partes[9] +" "+block.partes[10] +" "+block.partes[11];
						block.estraa = $("#selector_asesores_lista").val();
						block.estraaq = block.estraa.split("_");
						block.estra = block.estraaq[0];
						block.cedulasesor = block.estraaq[1];
						block.fotoas = block.estraaq[2];
						$("#text_cedula_asesor").val(block.cedulasesor);
						$("#text_nombre_cliente").val(block.nomre);
						$("#asesor_foto_selec").attr("src",block.fotoas);
						window.sessionStorage.setItem("Money-vars-registrado",block.partes[7]);
						$("#foto_user_clien").attr("src",block.partes[1]);

					}else{
						no_exite_cliente();
					}
                }
            });

        } else {
            toastr.warning('Falta cedula del cliente', 'System notification!');
        }
    });


    $("#registro_final").click(function () {
        block.pais = $("#pais_selecionado").val();
        block.reverso = window.sessionStorage.getItem("Money-vars-foto-id-reverso");
        block.normal = window.sessionStorage.getItem("Money-vars-foto-id-normal");
        block.perfil = window.sessionStorage.getItem("Money-vars-foto-id");
        if ($("#pais_selecionado").val() == "1") {
            block.tipo = "C";
        } else {
            block.tipo = $("#tipo_letra").val();
        }
        block.contras = $("#contra_sena").val();
        block.numero = $("#numero_id").val();
        block.nom1 = $("#nombre_id1").val();
        block.nom2 = $("#nombre_id2").val();
        block.ape1 = $("#apellido_id1").val();
        block.ape2 = $("#apellido_id2").val();
        block.direction = $("#direccion_ubica").val();
        block.departamento = $("#tipo_departamento").val();
        block.ciudad = $("#tipo_ciudades").val();
        block.barrio = $("#tipo_barrio").val();
        block.telefofijo = $("#telefono_fijo").val();
        block.telefomovil = $("#telefono_cel").val();
        block.correo = $("#correo_electronico").val();
        block.asesorSuperAsis = $("#tipo_cargo").val();
        if ($("#tipo_cargo").val() == "a" || $("#tipo_cargo").val() == "c") {
            block.monto = $("#moto_detalle_list").val();
        } else {
            block.monto = "No asignada";
        }

        if ($("#telefono_fijo").val() == "") {
            block.telefofijo = "0";
        }

        if (block.numero == "") {
            toastr.warning('Falta insertar numero de cedula', 'System notification!');
        } else if (block.nom1 == "") {
            toastr.warning('Falta insertar primer nombre', 'System notification!');
        } else if (block.ape1 == "") {
            toastr.warning('Falta insertar primer apellido', 'System notification!');
        } else if (block.direction == "") {
            toastr.warning('Falta insertar dirección del usuario', 'System notification!');
        } else if (block.departamento == "") {
            toastr.warning('Falta insertar departamento del usuario', 'System notification!');
        } else if (block.cuidad == "") {
            toastr.warning('Falta insertar ciudad del usuario', 'System notification!');
        } else if (block.barrio == "") {
            toastr.warning('Falta insertar barrio del usuario', 'System notification!');
        } else if (block.telefomovil == "") {
            toastr.warning('Falta telefono celular del cliente', 'System notification!');
        } else if (block.asesorSuperAsis == "") {
            toastr.warning('Falta seleccion de tipo del usuario', 'System notification!');
        } else if (block.contras == "") {
            toastr.warning('Falta contraseña del perfil', 'System notification!');
        } else {

            if (window.localStorage.getItem("Money-vars-token") !== null) {
                block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
            } else {
                block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
            }

            block.arrays = [block.tokens[1], block.perfil, block.normal, block.reverso, block.pais, block.tipo, block.numero, block.nom1, block.nom2, block.ape1, block.ape2, block.direction, block.departamento, block.ciudad, block.barrio, block.telefofijo, block.telefomovil, block.correo, block.asesorSuperAsis, block.monto,block.contras];
            block.obj = {"r": "crear_usuario", "d": block.arrays};
            backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
                var valor = JSON.parse(salida);
                if (!valor.e) {
                    
                    $("#telefono_fijo").val("");
                    $("#telefono_cel").val("");
                    $("#contra_sena").val("");
                    $("#correo_electronico").val("");
                    $("#tipo_cargo option[value=a]").attr("selected", true);
                    $("#pais_selecionado option[value='1']").attr("selected", true);
                    $("#tipo_departamento option[value='']").attr("selected", true);
                    $("#tipo_ciudades option[value='']").attr("selected", true);
                    $("#tipo_barrio option[value='']").attr("selected", true);
                    $("#moto_detalle").css("display", "none");
                    $("#numero_id").val("");
                    $("#nombre_id1").val("");
                    $("#nombre_id2").val("");
                    $("#apellido_id1").val("");
                    $("#apellido_id2").val("");
                    $("#direccion_ubica").val("");
                    $("#moto_detalle_list").val("");
                    $("#numero_id").prop("disabled", false);
                    $("#letra_venezuela").css("display", "none");
                    $("#foto_m1").attr("src", "../img/default.jpg");
                    $("#foto_m2").attr("src", "../img/foto_cedula_front.png");
                    $("#foto_m3").attr("src", "../img/foto_cedula_back.png");
                    $("#cedula_div").removeClass("col-sm-6").removeClass("col-md-3").removeClass("col-xs-12").addClass("col-xs-6").addClass("col-sm-6").addClass("col-md-6");
                    toastr.success('Registrado correctamente', 'System notification!');
                }
            });

        }
    });

	function suplantare_asesor(datas){
		block.daata = JSON.parse(window.sessionStorage.getItem("Money-vars-temp-asesor-"+datas));
		window.sessionStorage.setItem("Money-vars-user-edit",datas);
		$("#crear_contrato_form").css("display", "none");
        $("#crear_contrato_form_dos").css("display", "none");
        $("#crear").css("display", "none");
        $("#lista_ase").css("display", "none");
        $("#lista_sup").css("display", "none");
        $("#lista_ayu").css("display", "none");
        $("#asig_supervidor").css("display", "none");
        $("#lista_asi_ayu").css("display", "none");
        $("#lista_asi_sup").css("display", "none");
        $("#configuracion_general").css("display", "none");
        $("#busqueda_asignaciones").css("display", "none");
        $("#configuracion_general_cuotas").css("display", "none");
        $("#liquidacion_page").css("display", "none");
        $("#create_clientes_listo").css("display", "none");
        $("#contratos_view").css("display", "none");
        $("#cliente_lista_admi").css("display", "none");
        $("#googleMap").css("display","none");
        $("#flotante2").css("display","none");
        $("#flotante3").css("display","none");
        $("#recaduos_ink").css("display", "none");
        $("#migrar_cion_div").css("display", "none");
        $("#suplanter").css("display", "block");


		window.sessionStorage.setItem("Money-vars-foto-id-reverso",block.daata[3]);
		window.sessionStorage.setItem("Money-vars-foto-id-normal",block.daata[2]);
		window.sessionStorage.setItem("Money-vars-foto-id",block.daata[1]);


		$("#su_telefono_fijo").val(block.daata[15]);
		$("#su_telefono_cel").val(block.daata[16]);
		$("#su_contra_sena").val(block.daata[20]);
		$("#su_correo_electronico").val(block.daata[17]);
		$("#su_tipo_cargo option[value='a']").attr("selected", true);
		$("#su_pais_selecionado option[value='"+block.daata[4]+"']").attr("selected", true);
		$("#su_tipo_departamento option[value='"+block.daata[12]+"']").attr("selected", true);


        $("#su_tipo_ciudades").html('<option value=""></option>');

        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.arrays = [block.tokens[1], block.daata[12]];
        block.obj = {"r": "extraer_ciudades", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                block.lista = valor.d[1];
                block.nuevo = "";
                for (var e = 0; e < block.lista.length; e++) {
                    block.nuevo = block.nuevo + '<option value="' + block.lista[e] + '">' + block.lista[e] + '</option>';
                }
                $("#su_tipo_ciudades").html($("#su_tipo_ciudades").html() + block.nuevo);
				$("#su_tipo_ciudades option[value='"+block.daata[13]+"']").attr("selected", true);
            }
        });


		$("#su_tipo_barrio").html('<option value=""></option>');
        block.arrays = [block.tokens[1], block.daata[12], block.daata[13]];
        block.obj = {"r": "extraer_barrios", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                block.lista = valor.d[1];
                block.nuevo = "";
                for (var e = 0; e < block.lista.length; e++) {
                    block.nuevo = block.nuevo + '<option value="' + block.lista[e] + '">' + block.lista[e] + '</option>';
                }
                $("#su_tipo_barrio").html($("#su_tipo_barrio").html() + block.nuevo);
				$("#su_tipo_barrio option[value='"+block.daata[14]+"']").attr("selected", true);
            }
        });

		$("#su_numero_id").val(block.daata[6]);
		$("#su_nombre_id1").val(block.daata[7]);
		$("#su_nombre_id2").val(block.daata[8]);
		$("#su_apellido_id1").val(block.daata[9]);
		$("#su_apellido_id2").val(block.daata[10]);
		$("#su_direccion_ubica").val(block.daata[11]);
		$("#su_moto_detalle_list").val(block.daata[19]);
		$("#su_foto_m1").attr("src", block.daata[1]);
		$("#su_foto_m2").attr("src", block.daata[2]);
		$("#su_foto_m3").attr("src", block.daata[3]);

	}

    $("#registro_finalm").click(function () {

        block.pais = $("#pais_selecionadom").val();
        block.reverso = window.sessionStorage.getItem("Money-vars-foto-id-reversom");
        block.normal = window.sessionStorage.getItem("Money-vars-foto-id-normalm");
        block.perfil = window.sessionStorage.getItem("Money-vars-foto-idm");
        block.fronatls = window.sessionStorage.getItem("Money-vars-foto-frontal");
        if ($("#pais_selecionadom").val() == "1") {
            block.tipo = "C";
        } else {
            block.tipo = $("#tipo_letram").val();
        }


		if (window.localStorage.getItem("Money-vars-token") !== null) {
			block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
		} else {
			block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
		}

        block.alias = $("#alias_text").val();
        block.numero = $("#numero_idm").val();
        block.nom1 = $("#nombre_id1m").val();
        block.nom2 = $("#nombre_id2m").val();
        block.ape1 = $("#apellido_id1m").val();
        block.ape2 = $("#apellido_id2m").val();
        block.direction = $("#direccion_ubicam").val();
        block.departamento = $("#tipo_departamentom").val();
        block.ciudad = $("#tipo_ciudadesm").val();
        block.barrio = $("#tipo_barriom").val();
        block.telefofijo = $("#telefono_fijom").val();
        block.telefomovil = $("#telefono_celm").val();
        block.correo = $("#correo_electronicom").val();

        if ($("#telefono_fijom").val() == "") {
            block.telefofijo = "0";
        }

        if (block.perfil == null) {
			block.perfil = "p.png";
		}
		if (block.normal == null) {
			block.normal = "n.png";
		}
		if (block.reverso == null) {
			block.reverso = "r.png";
        }
		if(block.fronatls==null){
            block.fronatls="f.png";
        }

		if(block.blo==1){
			toastr.warning('Falta datos', 'System notification!');
		} else if (block.numero == "") {
            toastr.warning('Falta insertar numero de cedula', 'System notification!');
        } else if (block.nom1 == "") {
            toastr.warning('Falta insertar primer nombre', 'System notification!');
        } else if (block.ape1 == "") {
            toastr.warning('Falta insertar primer apellido', 'System notification!');
        } else if (block.direction == "") {
            toastr.warning('Falta insertar dirección del usuario', 'System notification!');
        } else if (block.departamento == "") {
            toastr.warning('Falta insertar departamento del usuario', 'System notification!');
        } else if (block.cuidad == "") {
            toastr.warning('Falta insertar ciudad del usuario', 'System notification!');
        } else if (block.barrio == "") {
            toastr.warning('Falta insertar barrio del usuario', 'System notification!');
        } else if (block.telefomovil == "") {
            toastr.warning('Falta telefono celular del cliente', 'System notification!');
        }else{

            if (block.alias == "") {
                block.alias = "No asignado";
            }

            if (block.correo == "") {
                block.correo = "No asignado";
            }

            if (window.localStorage.getItem("Money-vars-token") !== null) {
                block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
            } else {
                block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
            }


            $("#asesor_foto_selec").attr("src", block.fotoas);
            $("#text_cedula_asesor").val(block.cedulasesor);
            block.arrays = [block.tokens[1], block.perfil, block.normal, block.reverso, block.fronatls,block.pais, block.tipo, block.numero, block.nom1, block.nom2, block.ape1, block.ape2, block.direction, block.departamento, block.ciudad, block.barrio, block.telefofijo, block.telefomovil, block.correo, block.alias];

            block.obj = {"r": "crear_cliente_admin", "d": block.arrays};
            backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
                var valor = JSON.parse(salida);
                if (!valor.e) {

                    block.escrito = block.nom1 + " " + block.nom2 + " " + block.ape1 + " " + block.ape2;
                    $("#text_nombre_cliente").val(block.escrito);
                    $("#text_cedula_cliente").val(block.numero);
                    $("#text_alias_cliente").prop("disabled", false);
                    window.sessionStorage.setItem("Money-vars-registrado", block.numero);
                    window.sessionStorage.removeItem("Money-vars-foto-id-reversom");
                    window.sessionStorage.removeItem("Money-vars-foto-id-normalm");
                    $("#foto_user_clien").attr("src", window.sessionStorage.getItem("Money-vars-foto-idm"));
                    window.sessionStorage.removeItem("Money-vars-foto-idm");
                    window.sessionStorage.removeItem("Money-vars-foto-frontal");
                    $("#telefono_fijom").val("");
                    $("#telefono_celm").val("");
                    $("#correo_electronicom").val("");
                    $("#tipo_cargom option[value=a]").attr("selected", true);
                    $("#pais_selecionadom option[value='1']").attr("selected", true);
                    $("#tipo_departamentom option[value='']").attr("selected", true);
                    $("#tipo_ciudadesm option[value='']").attr("selected", true);
                    $("#tipo_barriom option[value='']").attr("selected", true);
                    $("#numero_idm").val("");
                    $("#nombre_id1m").val("");
                    $("#nombre_id2m").val("");
                    $("#apellido_id1m").val("");
                    $("#apellido_id2m").val("");
                    $("#direccion_ubicam").val("");
                    $("#numero_idm").prop("disabled", false);
                    $("#buscar_cedula_cliente").prop("disabled", true);
                    $("#Inserte cedula").prop("disabled", true);
                    $("#letra_venezuelam").css("display", "none");
                    $("#foto_m1m").attr("src", "../img/default.jpg");
                    $("#foto_m2m").attr("src", "../img/foto_cedula_front.png");
                    $("#foto_m3m").attr("src", "../img/foto_cedula_back.png");
                    $("#cedula_divm").removeClass("col-sm-6").removeClass("col-md-3").removeClass("col-xs-12").addClass("col-xs-6").addClass("col-sm-6").addClass("col-md-6");
                    $("#popop_new_cliente").modal("hide");
                    toastr.success('Registrado correctamente', 'System notification!');
                }
            });
        }
    });

    $("#registro_finalmd").click(function () {
        block.pais = $("#pais_selecionadomd").val();
        block.reverso = window.sessionStorage.getItem("Money-vars-foto-id-reversomd");
        block.normal = window.sessionStorage.getItem("Money-vars-foto-id-normalmd");
        block.perfil = window.sessionStorage.getItem("Money-vars-foto-idmd");
        block.fronatls = window.sessionStorage.getItem("Money-vars-foto-frontald");
        if ($("#pais_selecionadomd").val() == "1") {
            block.tipo = "C";
        } else {
            block.tipo = $("#tipo_letramd").val();
        }

		if (window.localStorage.getItem("Money-vars-token") !== null) {
			block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
		} else {
			block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
		}

        if(block.fronatls==null){
            block.fronatls="f.png";
			block.blo = 2;
        }
        block.alias = $("#alias_textd").val();
        block.numero = $("#numero_idmd").val();
        block.nom1 = $("#nombre_id1md").val();
        block.nom2 = $("#nombre_id2md").val();
        block.ape1 = $("#apellido_id1md").val();
        block.ape2 = $("#apellido_id2md").val();
        block.direction = $("#direccion_ubicamd").val();
        block.departamento = $("#tipo_departamentomd").val();
        block.ciudad = $("#tipo_ciudadesmd").val();
        block.barrio = $("#tipo_barriomd").val();
        block.telefofijo = $("#telefono_fijomd").val();
        block.telefomovil = $("#telefono_celmd").val();
        block.correo = $("#correo_electronicomd").val();
        block.asesorSuperAsis = "d";

        if ($("#telefono_fijomd").val() == "") {
            block.telefofijo = "0";
        }

        if (block.perfil == null) {
			toastr.warning('Falta adjuntar foto frontal del usuario', 'System notification!');
			block.blo = 1;
        }

		if (block.normal == null) {
			toastr.warning('Falta adjuntar foto frontal de la cedula de identidad del usuario', 'System notification!');
			block.blo = 1;
		}
		if (block.reverso == null) {
			toastr.warning('Falta adjuntar foto reverso de la cedula de identidad del usuario', 'System notification!');
			block.blo = 1;
        }

		if(block.blo==1){
			toastr.warning('Falta datos', 'System notification!');
		}else if (block.numero == "") {
            toastr.warning('Falta insertar numero de cedula', 'System notification!');
        } else if (block.nom1 == "") {
            toastr.warning('Falta insertar primer nombre', 'System notification!');
        } else if (block.ape1 == "") {
            toastr.warning('Falta insertar primer apellido', 'System notification!');
        } else if (block.direction == "") {
            toastr.warning('Falta insertar dirección del usuario', 'System notification!');
        } else if (block.departamento == "") {
            toastr.warning('Falta insertar departamento del usuario', 'System notification!');
        } else if (block.cuidad == "") {
            toastr.warning('Falta insertar ciudad del usuario', 'System notification!');
        } else if (block.barrio == "") {
            toastr.warning('Falta insertar barrio del usuario', 'System notification!');
        } else if (block.telefomovil == "") {
            toastr.warning('Falta telefono celular del cliente', 'System notification!');
        } else if (block.asesorSuperAsis == "") {
            toastr.warning('Falta seleccion de tipo del usuario', 'System notification!');
        }else{

            if (block.alias == "") {
                block.alias = "No asignado";
            }

            block.arrays = [block.tokens[1], block.perfil, block.normal, block.reverso, block.fronatls, block.pais, block.tipo, block.numero, block.nom1, block.nom2, block.ape1, block.ape2, block.direction, block.departamento, block.ciudad, block.barrio, block.telefofijo, block.telefomovil, block.correo, block.alias];

            block.obj = {"r": "crear_cliente_admin", "d": block.arrays};
            backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
                var valor = JSON.parse(salida);
                if (!valor.e) {
                    block.escrito = block.nom1 + " " + block.nom2 + " " + block.ape1 + " " + block.ape2;
                    window.sessionStorage.setItem("Money-vars-registrado", block.numero);
                    window.sessionStorage.removeItem("Money-vars-foto-id-reversomd");
                    window.sessionStorage.removeItem("Money-vars-foto-id-normalmd");
                    $("#foto_user_clien").attr("src", window.sessionStorage.getItem("Money-vars-foto-idmd"));
                    window.sessionStorage.removeItem("Money-vars-foto-idmd");
                    window.sessionStorage.removeItem("Money-vars-foto-frontald");
                    $("#telefono_fijomd").val("");
                    $("#telefono_celmd").val("");
                    $("#correo_electronicomd").val("");
                    $("#tipo_cargomd option[value=a]").attr("selected", true);
                    $("#pais_selecionadomd option[value='1']").attr("selected", true);
                    $("#tipo_departamentomd option[value='']").attr("selected", true);
                    $("#tipo_ciudadesmd option[value='']").attr("selected", true);
                    $("#tipo_barriomd option[value='']").attr("selected", true);
                    $("#numero_idmd").val("");
                    $("#alias_textd").val("");
                    $("#nombre_id1md").val("");
                    $("#nombre_id2md").val("");
                    $("#apellido_id1md").val("");
                    $("#apellido_id2md").val("");
                    $("#direccion_ubicamd").val("");
                    $("#numero_idmd").prop("disabled", false);
                    $("#letra_venezuelamd").css("display", "none");
                    $("#foto_m1md").attr("src", "../img/foto_cedula_front.png");
                    $("#foto_m4md").attr("src", "../img/default.jpg");
                    $("#foto_m2md").attr("src", "../img/foto_cedula_back.png");
                    $("#foto_m3md").attr("src", "../img/foto_resivo.png");
                    $("#cedula_divmd").removeClass("col-sm-6").removeClass("col-md-3").removeClass("col-xs-12").addClass("col-xs-6").addClass("col-sm-6").addClass("col-md-6");
                    toastr.success('Registrado correctamente', 'System notification!');
                }
            });
        }

    });

	$("#su_registro_final").click(function () {
        block.pais = $("#su_pais_selecionado").val();
        block.reverso = window.sessionStorage.getItem("Money-vars-foto-id-reverso");
        block.normal = window.sessionStorage.getItem("Money-vars-foto-id-normal");
        block.perfil = window.sessionStorage.getItem("Money-vars-foto-id");
        if ($("#su_pais_selecionado").val() == "1") {
            block.tipo = "C";
        } else {
            block.tipo = $("#su_tipo_letra").val();
        }
        block.contras = $("#su_contra_sena").val();
        block.numero = $("#su_numero_id").val();
        block.nom1 = $("#su_nombre_id1").val();
        block.nom2 = $("#su_nombre_id2").val();
        block.ape1 = $("#su_apellido_id1").val();
        block.ape2 = $("#su_apellido_id2").val();
        block.direction = $("#su_direccion_ubica").val();
        block.departamento = $("#su_tipo_departamento").val();
        block.ciudad = $("#su_tipo_ciudades").val();
        block.barrio = $("#su_tipo_barrio").val();
        block.telefofijo = $("#su_telefono_fijo").val();
        block.telefomovil = $("#su_telefono_cel").val();
        block.correo = $("#su_correo_electronico").val();
        block.asesorSuperAsis = "a";
        block.monto = $("#su_moto_detalle_list").val();


        if ($("#su_telefono_fijo").val() == "") {
            block.telefofijo = "0";
        }

        if (block.perfil == null) {
            toastr.warning('Falta adjuntar foto frontal del usuario', 'System notification!');
        } else if (block.normal == null) {
            toastr.warning('Falta adjuntar foto frontal de la cedula de identidad del usuario', 'System notification!');
        } else if (block.reverso == null) {
            toastr.warning('Falta adjuntar foto reverso de la cedula de identidad del usuario', 'System notification!');
        } else if (block.numero == "") {
            toastr.warning('Falta insertar numero de cedula', 'System notification!');
        } else if (block.nom1 == "") {
            toastr.warning('Falta insertar primer nombre', 'System notification!');
        } else if (block.ape1 == "") {
            toastr.warning('Falta insertar primer apellido', 'System notification!');
        } else if (block.direction == "") {
            toastr.warning('Falta insertar dirección del usuario', 'System notification!');
        } else if (block.departamento == "") {
            toastr.warning('Falta insertar departamento del usuario', 'System notification!');
        } else if (block.cuidad == "") {
            toastr.warning('Falta insertar ciudad del usuario', 'System notification!');
        } else if (block.barrio == "") {
            toastr.warning('Falta insertar barrio del usuario', 'System notification!');
        } else if (block.telefomovil == "") {
            toastr.warning('Falta telefono celular del cliente', 'System notification!');
        } else if (block.asesorSuperAsis == "") {
            toastr.warning('Falta seleccion de tipo del usuario', 'System notification!');
        } else if (block.contras == "") {
            toastr.warning('Falta contraseña del perfil', 'System notification!');
        } else {

            if (window.localStorage.getItem("Money-vars-token") !== null) {
                block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
            } else {
                block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
            }

			var datas = window.sessionStorage.getItem("Money-vars-user-edit");
			block.daata = JSON.parse(window.sessionStorage.getItem("Money-vars-temp-asesor-"+datas));

            block.arrays = [block.tokens[1], block.perfil, block.normal, block.reverso, block.pais, block.tipo, block.numero, block.nom1, block.nom2, block.ape1, block.ape2, block.direction, block.departamento, block.ciudad, block.barrio, block.telefofijo, block.telefomovil, block.correo, block.asesorSuperAsis, block.monto,block.contras,block.daata[17],datas,block.daata[6]];
            block.obj = {"r": "crear_usuario_suplantao", "d": block.arrays};
            backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
                var valor = JSON.parse(salida);
                if (!valor.e) {
                    window.sessionStorage.removeItem("Money-vars-foto-id-reverso");
                    window.sessionStorage.removeItem("Money-vars-foto-id-normal");
                    window.sessionStorage.removeItem("Money-vars-foto-id");
                    $("#su_telefono_fijo").val("");
                    $("#su_telefono_cel").val("");
                    $("#su_contra_sena").val("");
                    $("#su_correo_electronico").val("");
                    $("#su_tipo_cargo option[value=a]").attr("selected", true);
                    $("#su_pais_selecionado option[value='1']").attr("selected", true);
                    $("#su_tipo_departamento option[value='']").attr("selected", true);
                    $("#su_tipo_ciudades option[value='']").attr("selected", true);
                    $("#su_tipo_barrio option[value='']").attr("selected", true);
                    $("#su_moto_detalle").css("display", "none");
                    $("#su_numero_id").val("");
                    $("#su_nombre_id1").val("");
                    $("#su_nombre_id2").val("");
                    $("#su_apellido_id1").val("");
                    $("#su_apellido_id2").val("");
                    $("#su_direccion_ubica").val("");
                    $("#su_moto_detalle_list").val("");
                    $("#su_numero_id").prop("disabled", false);
                    $("#su_letra_venezuela").css("display", "none");
                    $("#su_foto_m1").attr("src", "../img/default.jpg");
                    $("#su_foto_m2").attr("src", "../img/foto_cedula_front.png");
                    $("#su_foto_m3").attr("src", "../img/foto_cedula_back.png");
                    $("#su_cedula_div").removeClass("col-sm-6").removeClass("col-md-3").removeClass("col-xs-12").addClass("col-xs-6").addClass("col-sm-6").addClass("col-md-6");
                    toastr.success('Editado correctamente', 'System notification!');
                }
            });

        }
    });



    $("#crear_contrato_form_dos").css("display", "none");
    $("#crear_contrato_form").css("display", "none");
    $("#lista_ase").css("display", "none");
    $("#lista_sup").css("display", "none");
    $("#lista_ayu").css("display", "none");
    $("#busqueda_asignaciones").css("display", "none");
    $("#configuracion_general").css("display", "none");
    $("#lista_asi_ayu").css("display", "none");
    $("#lista_asi_sup").css("display", "none");
    $("#configuracion_general_cuotas").css("display", "none");
    $("#asig_supervidor").css("display", "none");
    $("#liquidacion_page").css("display", "none");
    $("#create_clientes_listo").css("display", "none");
    $("#contratos_view").css("display", "none");
    $("#cliente_lista_admi").css("display", "none");


    function asesores_panel() {
        $("#crear_contrato_form").css("display", "none");
        $("#crear_contrato_form_dos").css("display", "none");
        $("#crear").css("display", "initial");
        $("#lista_ase").css("display", "none");
        $("#lista_sup").css("display", "none");
        $("#lista_ayu").css("display", "none");
        $("#asig_supervidor").css("display", "none");
        $("#lista_asi_ayu").css("display", "none");
        $("#lista_asi_sup").css("display", "none");
        $("#configuracion_general").css("display", "none");
        $("#busqueda_asignaciones").css("display", "none");
        $("#configuracion_general_cuotas").css("display", "none");
        $("#liquidacion_page").css("display", "none");
        $("#create_clientes_listo").css("display", "none");
        $("#contratos_view").css("display", "none");
        $("#cliente_lista_admi").css("display", "none");
        $("#googleMap").css("display","none");
        $("#flotante2").css("display","none");
        $("#flotante3").css("display","none");
        $("#recaduos_ink").css("display", "none");
		$("#migrar_cion_div").css("display", "none");
		  $("#suplanter").css("display", "none");
    }

    function informe_completo_finanza() {
        $("#crear_contrato_form").css("display", "none");
        $("#crear_contrato_form_dos").css("display", "none");
        $("#crear").css("display", "none");
        $("#lista_ase").css("display", "none");
        $("#lista_sup").css("display", "none");
        $("#lista_ayu").css("display", "none");
        $("#asig_supervidor").css("display", "none");
        $("#lista_asi_ayu").css("display", "none");
        $("#lista_asi_sup").css("display", "none");
        $("#configuracion_general").css("display", "none");
        $("#busqueda_asignaciones").css("display", "none");
        $("#configuracion_general_cuotas").css("display", "none");
        $("#liquidacion_page").css("display", "none");
        $("#create_clientes_listo").css("display", "none");
        $("#contratos_view").css("display", "none");
        $("#cliente_lista_admi").css("display", "none");
        $("#googleMap").css("display","none");
		$("#flotante2").css("display","none");
		$("#flotante3").css("display","none");
        $("#recaduos_ink").css("display", "none");
		$("#migrar_cion_div").css("display", "none");
		  $("#suplanter").css("display", "none");
    }

    function crear_contrato() {
        $("#crear").css("display", "none");
        $("#lista_ase").css("display", "none");
        $("#lista_sup").css("display", "none");
        $("#lista_ayu").css("display", "none");
        $("#asig_supervidor").css("display", "none");
        $("#lista_asi_ayu").css("display", "none");
        $("#lista_asi_sup").css("display", "none");
        $("#configuracion_general").css("display", "none");
        $("#busqueda_asignaciones").css("display", "none");
        $("#configuracion_general_cuotas").css("display", "none");
        $("#crear_contrato_form").css("display", "initial");
        $("#crear_contrato_form_dos").css("display", "initial");
        $("#liquidacion_page").css("display", "none");
        $("#create_clientes_listo").css("display", "none");
        $("#contratos_view").css("display", "none");
        $("#cliente_lista_admi").css("display", "none");
        $("#googleMap").css("display","none");
		$("#flotante2").css("display","none");
		$("#flotante3").css("display","none");
        $("#recaduos_ink").css("display", "none");
		$("#migrar_cion_div").css("display", "none");
		  $("#suplanter").css("display", "none");

        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.listax2 = '<option value="">Seleccione</option>';
        block.lista = '';
        block.arrays = [block.tokens[1]];
        block.obj = {"r": "listar_asesores", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                block.todo = valor.d[1];
                for (var t = 0; t < block.todo.length; t++) {
                    block.item = JSON.parse(block.todo[t]);
                    block.listax2 = block.listax2 + '<option value="' + block.item[22] + '_'+ block.item[6] +'_'+ block.item[1] +'">' + block.item[7] + ' ' + block.item[9] + ' ID: ' + block.item[22] + '</option>';
                }
                $("#selector_asesores_lista").html(block.listax2);
            }
        });
    }

	function moveToLocation(lat, lng){

		var center = new google.maps.LatLng(lat, lng);
		map.panTo(center);
		setTimeout(function(){
			map.setZoom(10);
			setTimeout(function(){
				map.setZoom(14);
				setTimeout(function(){
					map.setZoom(18);
				},1000);
			},2000);
		},3000);

	}

    $("#selector_asesores_lista").change(function () {
        if ($("#selector_asesores_lista").val() !== "") {
            $("#text_cedula_cliente").prop("disabled", false);
            $("#buscar_cedula_cliente").prop("disabled", false);
            $("#crear_contrato").prop("disabled",true);
        }
    });

    function asesores_supervisores() {
        $("#crear_contrato_form").css("display", "none");
        $("#crear_contrato_form_dos").css("display", "none");
        $("#crear").css("display", "none");
        $("#lista_ase").css("display", "none");
        $("#lista_sup").css("display", "initial");
        $("#lista_ayu").css("display", "none");
        $("#asig_supervidor").css("display", "none");
        $("#lista_asi_ayu").css("display", "none");
        $("#lista_asi_sup").css("display", "none");
        $("#configuracion_general").css("display", "none");
        $("#busqueda_asignaciones").css("display", "none");
        $("#configuracion_general_cuotas").css("display", "none");
        $("#liquidacion_page").css("display", "none");
        $("#create_clientes_listo").css("display", "none");
        $("#contratos_view").css("display", "none");
        $("#cliente_lista_admi").css("display", "none");
        $("#googleMap").css("display","none");
		$("#flotante2").css("display","none");
		$("#flotante3").css("display","none");
        $("#recaduos_ink").css("display", "none");
		$("#migrar_cion_div").css("display", "none");
		  $("#suplanter").css("display", "none");

        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.lista = '';
        block.arrays = [block.tokens[1]];
        block.obj = {"r": "listar_supervisores", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                block.todo = valor.d[1];
                for (var t = 0; t < block.todo.length; t++) {
                    block.item = JSON.parse(block.todo[t]);

                    if (block.item[4] == "2") {
                        block.cedula = block.item[5] + block.item[6];
                    } else {
                        block.cedula = block.item[6];
                    }

                    block.lista = block.lista + '<tr><td>' + block.item[22] + '</td><td>' + block.item[7] + ' ' + block.item[8] + ' ' + block.item[9] + ' ' + block.item[10] + '</td><td> ' + block.cedula + '</td><td>' + block.item[12] + '</td><td>' + block.item[13] + '</td><td>' + block.item[14] + '</td><td>' + block.item[11] + '</td><td>' + block.item[15] + '</td><td>' + block.item[16] + '</td><td>' + block.item[19] + '</td><td><a href="javascript:ver_imagen(' + String.fromCharCode(39) + block.item[1] + String.fromCharCode(39) + ',' + String.fromCharCode(39) + block.item[2] + String.fromCharCode(39) + ',' + String.fromCharCode(39) + block.item[3] + String.fromCharCode(39) + ');"><i class="fa fa-eye fa-2x" style="color:#01afef"></i></a></td></tr>';
                }
                $("#listado_supervisor").html(block.lista);
            }
        });
    }

    function asesores_ayudante() {
        $("#crear_contrato_form").css("display", "none");
        $("#crear_contrato_form_dos").css("display", "none");
        $("#crear").css("display", "none");
        $("#lista_ase").css("display", "none");
        $("#lista_sup").css("display", "none");
        $("#lista_ayu").css("display", "initial");
        $("#asig_supervidor").css("display", "none");
        $("#lista_asi_ayu").css("display", "none");
        $("#lista_asi_sup").css("display", "none");
        $("#configuracion_general").css("display", "none");
        $("#busqueda_asignaciones").css("display", "none");
        $("#configuracion_general_cuotas").css("display", "none");
        $("#liquidacion_page").css("display", "none");
        $("#create_clientes_listo").css("display", "none");
        $("#contratos_view").css("display", "none");
        $("#cliente_lista_admi").css("display", "none");
        $("#googleMap").css("display","none");
		$("#flotante2").css("display","none");
		$("#flotante3").css("display","none");
        $("#recaduos_ink").css("display", "none");
		$("#migrar_cion_div").css("display", "none");
		  $("#suplanter").css("display", "none");

        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.lista = '';
        block.arrays = [block.tokens[1]];
        block.obj = {"r": "listar_ayudante", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                block.todo = valor.d[1];
                for (var t = 0; t < block.todo.length; t++) {
                    block.item = JSON.parse(block.todo[t]);

                    if (block.item[4] == "2") {
                        block.cedula = block.item[5] + block.item[6];
                    } else {
                        block.cedula = block.item[6];
                    }

                    block.lista = block.lista + '<tr><td>' + block.item[22] + '</td><td>' + block.item[7] + ' ' + block.item[8] + ' ' + block.item[9] + ' ' + block.item[10] + '</td><td> ' + block.cedula + '</td><td>' + block.item[12] + '</td><td>' + block.item[13] + '</td><td>' + block.item[14] + '</td><td>' + block.item[11] + '</td><td>' + block.item[15] + '</td><td>' + block.item[16] + '</td><td>' + block.item[19] + '</td><td><a href="javascript:ver_imagen(' + String.fromCharCode(39) + block.item[1] + String.fromCharCode(39) + ',' + String.fromCharCode(39) + block.item[2] + String.fromCharCode(39) + ',' + String.fromCharCode(39) + block.item[3] + String.fromCharCode(39) + ');"><i class="fa fa-eye fa-2x" style="color:#01afef"></i></a></td></tr>';
                }
                $("#listado_ayudante").html(block.lista);
            }
        });
    }

    function asesores_lista() {
        $("#crear_contrato_form").css("display", "none");
        $("#crear_contrato_form_dos").css("display", "none");
        $("#lista_ayu").css("display", "none");
        $("#lista_sup").css("display", "none");
        $("#lista_ase").css("display", "initial");
        $("#crear").css("display", "none");
        $("#asig_supervidor").css("display", "none");
        $("#lista_asi_ayu").css("display", "none");
        $("#lista_asi_sup").css("display", "none");
        $("#configuracion_general").css("display", "none");
        $("#busqueda_asignaciones").css("display", "none");
        $("#configuracion_general_cuotas").css("display", "none");
        $("#liquidacion_page").css("display", "none");
        $("#create_clientes_listo").css("display", "none");
        $("#contratos_view").css("display", "none");
        $("#cliente_lista_admi").css("display", "none");
        $("#googleMap").css("display","none");
		$("#flotante2").css("display","none");
		$("#flotante3").css("display","none");
        $("#recaduos_ink").css("display", "none");
		$("#migrar_cion_div").css("display", "none");
		  $("#suplanter").css("display", "none");

        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.lista = '';
		block.tes = '';
        block.arrays = [block.tokens[1]];
        block.obj = {"r": "listar_asesores", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                block.todo = valor.d[1];
                for (var t = 0; t < block.todo.length; t++) {
                    block.item = JSON.parse(block.todo[t]);

                    if (block.item[4] == "2") {
                        block.cedula = block.item[5] + block.item[6];
                    } else {
                        block.cedula = block.item[6];
                    }
					window.sessionStorage.setItem("Money-vars-temp-asesor-"+block.item[22],JSON.stringify(block.item));
					block.tes = block.tes + '<option value="'+block.item[22]+'">' + block.item[7] + ' ' + block.item[9] + '</option>';
                    block.lista = block.lista + '<tr><td>' + block.item[22] + '</td><td>' + block.item[7] + ' ' + block.item[8] + ' ' + block.item[9] + ' ' + block.item[10] + '</td><td> ' + block.cedula + '</td><td>' + block.item[12] + '</td><td>' + block.item[13] + '</td><td>' + block.item[14] + '</td><td>' + block.item[11] + '</td><td>' + block.item[15] + '</td><td>' + block.item[16] + '</td><td>' + block.item[19] + '</td><td><a href="javascript:suplantare_asesor(' + String.fromCharCode(39) + block.item[22] + String.fromCharCode(39) + ');"><i class="fa fa-edit fa-2x" style="color:#01afef"></i></a></td></tr>';
                }
                $("#select_asesor").html(block.tes);
                $("#listado_asesores").html(block.lista);
            }
        });
    }

	asesores_lista();

    function liquidar_sincro(arrws){

        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        if(arrws.length>0){
            toastr.warning('Espere mientras sincroniza liquidación de asesores', 'System notification!');

            function liqui(ind,arrws){
                if(ind==arrws.length){
                    toastr.success('Ha sincronizado todo los datos para liquidar', 'System notification!');
                }else{

                    block.unids ="";
                    block.arrays = [block.tokens[1],"nada",arrws[ind][0],arrws[ind][1]];
                    block.obj = {"r": "liquida_parte_1", "d": block.arrays};
                    backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
                        var valor = JSON.parse(salida);
                        window.sessionStorage.setItem("asesore_list_liquida_" + arrws[ind][0], salida);
                        ind++;
                        liqui(ind,arrws);
                    });

                }
            }

            liqui(0,arrws);
        }
    }


    function asesores_lista_ajustada() {

        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.listax2 = '<option value="">Seleccione</option>';
        block.listax3 = '<option value="">Seleccione asesor</option>';
        block.lista = '';
        block.arrays = [block.tokens[1]];
        block.obj = {"r": "listar_asesores", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                block.todo = valor.d[1];
                block.aline =[];
                for (var t = 0; t < block.todo.length; t++) {
                    block.item = JSON.parse(block.todo[t]);
                    block.aline.push([block.item[22],block.item[6]]);
                    block.listax2 = block.listax2 + '<option value="' + block.item[22] + '_'+ block.item[6] +'_'+ block.item[1] +'">' + block.item[7] + ' ' + block.item[9] + ' ID: ' + block.item[22] + '</option>';
                    block.listax3 = block.listax3 + '<option value="' + block.item[22] + '">' + block.item[7] + ' ' + block.item[9] + ' ID: ' + block.item[22] + '</option>';
                }
                $("#lista_asesores_general").html(block.listax2);
                $("#lista_asesores_general3").html(block.listax3);

                liquidar_sincro(block.aline);
            }
        });
    }

    asesores_lista_ajustada();

    function ver_imagen(uno, dos, tres) {
        $("#idfoto").attr("src", uno);
        $("#caratula").attr("src", dos);
        $("#reverso").attr("src", tres);
        $("#identidad_fotos").modal("show");
    }

    function cargarListas_asigandos() {
        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        var hoy = moment().format('DD_MM_YYYY');
        block.lista = '';
        block.arrays = [block.tokens[1], hoy, block.tokens[4]];
        block.obj = {"r": "lista_asigandos_fecha", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                block.tods = valor.d[1];
                block.lista1 = "";
                block.lista2 = "";
                for (var f = 0; f < block.tods.length; f++) {
                    block.itme = JSON.parse(block.tods[f]);
                    if (block.itme[1] == "b") {
                        block.unosa = block.itme[2].split("_");
                        block.unosb = block.itme[3].split("_");
                        block.nombreAsesor = block.unosa[3] + " " + block.unosa[4] + " ID:" + block.unosa[2];
                        block.nombreAyudante = block.unosb[3] + " " + block.unosb[4] + " ID:" + block.unosb[2];
                        block.lista1 = block.lista1 + '<tr><td>' + block.nombreAyudante + '</td><td>' + block.nombreAsesor + '</td></tr>';
                    } else {
                        block.unosa = block.itme[2].split("_");
                        block.unosb = block.itme[3].split("_");
                        block.nombreAsesor = block.unosa[3] + " " + block.unosa[4] + " ID:" + block.unosa[2];
                        block.nombreSupervisor = block.unosb[3] + " " + block.unosb[4] + " ID:" + block.unosb[2];
                        block.lista2 = block.lista2 + '<tr><td>' + block.nombreSupervisor + '</td><td>' + block.nombreAsesor + '</td></tr>';
                    }
                }
                $("#listado_ayudante_asignado").html(block.lista1);
                $("#listado_supervisor_asignado").html(block.lista2);
            }
        });


        block.listax = '<option value="">Seleccione</option>';
        block.listax2 = '<option value="">Seleccione</option>';
        block.arrays = [block.tokens[1]];
        block.obj = {"r": "listar_asesores", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                block.todo = valor.d[1];
                for (var t = 0; t < block.todo.length; t++) {
                    block.item = JSON.parse(block.todo[t]);
                    if (block.item[4] == "2") {
                        block.cedula = block.item[5] + block.item[6];
                    } else {
                        block.cedula = block.item[6];
                    }
                    block.nom = block.item[7] + ' ' + block.item[9] + ' - ' + block.cedula;
                    block.listax = block.listax + '<option value="' + block.item[22] + '_asesor_' + block.item[23] + '_' + block.item[7] + '_' + block.item[9] + '">' + block.nom + '</option>';
                    block.listax2 = block.listax2 + '<option value="' + block.item[22] + '">' + block.item[7] + ' ' + block.item[9] + ' ID:' + block.item[22] + '</option>';
                }
                $("#tipo_cargo_dos").html(block.listax);
                $("#id_asesor").html(block.listax2);
            }
        });
    }

    function asignar_supervisor_asesor() {
        $("#crear_contrato_form").css("display", "none");
        $("#crear_contrato_form_dos").css("display", "none");
        $("#asig_supervidor").css("display", "initial");
        $("#lista_ayu").css("display", "none");
        $("#lista_sup").css("display", "none");
        $("#lista_ase").css("display", "none");
        $("#crear").css("display", "none");
        $("#busqueda_asignaciones").css("display", "initial");
        $("#lista_asi_ayu").css("display", "initial");
        $("#lista_asi_sup").css("display", "initial");
        $("#configuracion_general").css("display", "none");
        $("#configuracion_general_cuotas").css("display", "none");
        $("#liquidacion_page").css("display", "none");
        $("#create_clientes_listo").css("display", "none");
        $("#contratos_view").css("display", "none");
        $("#cliente_lista_admi").css("display", "none");
        $("#googleMap").css("display","none");
		$("#flotante2").css("display","none");
		$("#flotante3").css("display","none");
        $("#recaduos_ink").css("display", "none");
		$("#migrar_cion_div").css("display", "none");
		  $("#suplanter").css("display", "none");

        cargarListas_asigandos();
    }

    $("#registro_relacion").click(function () {
        if ($("#tipo_cargo_select_ASIG").val() !== "" && $("#tipo_cargo_dos").val() !== "" && $("#tipo_cargo_uno").val() !== "") {

            if (window.localStorage.getItem("Money-vars-token") !== null) {
                block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
            } else {
                block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
            }

            block.lista = '';
            block.arrays = [block.tokens[1], $("#tipo_cargo_select_ASIG").val(), $("#tipo_cargo_dos").val(), $("#tipo_cargo_uno").val()];
            block.obj = {"r": "crear_relacion", "d": block.arrays};
            backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
                var valor = JSON.parse(salida);
                if (!valor.e) {
                    $("#tipo_cargo_select_ASIG option[value='']").attr("selected", true);
                    $("#tipo_cargo_dos option[value='']").attr("selected", true);
                    $("#tipo_cargo_uno option[value='']").attr("selected", true);
                    toastr.success('Asignado correctamente', 'System notification!');
                } else {
                    if (valor.d[1] == "5") {
                        toastr.warning('Ya esta asignado', 'System notification!');
                    } else if (valor.d[1] == "6") {
                        block.vas = $("#tipo_cargo_select_ASIG").val();
                        block.perfil = "ayudante";
                        if (block.vas == "c") {
                            block.perfil = "supervisor";
                        }
                        toastr.warning('Ya se le asigno perfil ' + block.perfil + ' a este asesor', 'System notification!');
                    }
                }
            });

        }
    });

    $("#tipo_cargo_select_ASIG").change(function () {
        if ($("#tipo_cargo_select_ASIG").val() == "") {
            $("#tipo_cargo_dos").prop("disabled", true);
            $("#tipo_cargo_uno").prop("disabled", true);
            $("#tipo_cargo_uno option[value='']").attr("selected", true);
            $("#tipo_cargo_dos option[value='']").attr("selected", true);
            $("#tipo_cargo_uno").html('<option value="">Seleccione</option>');
            $("#tipo_cargo_dos").html('<option value="">Seleccione</option>');
        } else {

            if (window.localStorage.getItem("Money-vars-token") !== null) {
                block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
            } else {
                block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
            }

            $("#tipo_cargo_dos").prop("disabled", false);
            $("#tipo_cargo_uno").prop("disabled", false);
            $("#tipo_cargo_dos option[value='']").attr("selected", true);

            if ($("#tipo_cargo_select_ASIG").val() == "b") {

                block.lista = '<option value="">Seleccione</option>';
                block.arrays = [block.tokens[1]];
                block.obj = {"r": "listar_ayudante", "d": block.arrays};
                backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
                    var valor = JSON.parse(salida);
                    if (!valor.e) {
                        block.todo = valor.d[1];
                        block.nom = "";
                        for (var t = 0; t < block.todo.length; t++) {
                            block.item = JSON.parse(block.todo[t]);

                            if (block.item[4] == "2") {
                                block.cedula = block.item[5] + block.item[6];
                            } else {
                                block.cedula = block.item[6];
                            }
                            block.nom = block.item[7] + ' ' + block.item[9] + ' - ' + block.cedula;
                            block.lista = block.lista + '<option value="' + block.item[22] + '_ayudante_' + block.item[23] + '_' + block.item[7] + '_' + block.item[9] + '">' + block.nom + '</option>';
                        }
                        $("#tipo_cargo_uno").html(block.lista);
                    }
                });

            } else {

                block.lista = '<option value="">Seleccione</option>';
                block.arrays = [block.tokens[1]];
                block.obj = {"r": "listar_supervisores", "d": block.arrays};
                backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
                    var valor = JSON.parse(salida);
                    if (!valor.e) {
                        block.todo = valor.d[1];
                        block.nom = "";
                        for (var t = 0; t < block.todo.length; t++) {
                            block.item = JSON.parse(block.todo[t]);
                            if (block.item[4] == "2") {
                                block.cedula = block.item[5] + block.item[6];
                            } else {
                                block.cedula = block.item[6];
                            }
                            block.nom = block.item[7] + ' ' + block.item[9] + ' - ' + block.cedula;
                            block.lista = block.lista + '<option value="' + block.item[22] + '_supervisor_' + block.item[23] + '_' + block.item[7] + '_' + block.item[9] + '">' + block.nom + '</option>';
                        }
                        $("#tipo_cargo_uno").html(block.lista);
                    }
                });
            }
        }
    });

    $("#busqueda_directa").click(function () {
        if ($("#id_asesor").val() !== "" && $("#fecha_asesor").val() !== "") {

            if (window.localStorage.getItem("Money-vars-token") !== null) {
                block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
            } else {
                block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
            }

            block.uni = $("#fecha_asesor").val();
            block.dos = block.uni.replace("-", "_");
            block.tres = block.dos.replace("-", "_");
            block.nuve = block.tres.split("_");
            block.list = block.nuve[2] + "_" + block.nuve[1] + "_" + block.nuve[0];

            block.lista = '';
            block.arrays = [block.tokens[1], block.list, block.tokens[4], $("#id_asesor").val()];
            block.obj = {"r": "lista_asigandos_fecha2", "d": block.arrays};
            backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
                var valor = JSON.parse(salida);
                if (!valor.e) {
                    block.tods = valor.d[1];
                    block.lista1 = "";
                    block.lista2 = "";
                    for (var f = 0; f < block.tods.length; f++) {
                        block.itme = JSON.parse(block.tods[f]);
                        if (block.itme[1] == "b") {
                            block.unosa = block.itme[2].split("_");
                            block.unosb = block.itme[3].split("_");
                            block.nombreAsesor = block.unosa[3] + " " + block.unosa[4] + " ID:" + block.unosb[2];
                            block.nombreAyudante = block.unosb[3] + " " + block.unosb[4] + " ID:" + block.unosb[2];
                            block.lista1 = block.lista1 + '<tr><td>' + block.nombreAyudante + '</td><td>' + block.nombreAsesor + '</td></tr>';
                        } else {
                            block.unosa = block.itme[2].split("_");
                            block.unosb = block.itme[3].split("_");
                            block.nombreAsesor = block.unosa[3] + " " + block.unosa[4] + " ID:" + block.unosb[2];
                            block.nombreSupervisor = block.unosb[3] + " " + block.unosb[4] + " ID:" + block.unosb[2];
                            block.lista2 = block.lista2 + '<tr><td>' + block.nombreSupervisor + '</td><td>' + block.nombreAsesor + '</td></tr>';
                        }
                    }
                    $("#listado_ayudante_asignado").html(block.lista1);
                    $("#listado_supervisor_asignado").html(block.lista2);
                }
            });
        }
    });

    function asig_configuracion() {
        $("#crear_contrato_form").css("display", "none");
        $("#crear_contrato_form_dos").css("display", "none");
        $("#configuracion_general").css("display", "initial");
        $("#asig_supervidor").css("display", "none");
        $("#lista_ayu").css("display", "none");
        $("#lista_sup").css("display", "none");
        $("#busqueda_asignaciones").css("display", "none");
        $("#lista_ase").css("display", "none");
        $("#crear").css("display", "none");
        $("#lista_asi_ayu").css("display", "none");
        $("#lista_asi_sup").css("display", "none");
        $("#configuracion_general_cuotas").css("display", "initial");
        $("#liquidacion_page").css("display", "none");
        $("#create_clientes_listo").css("display", "none");
        $("#contratos_view").css("display", "none");
        $("#cliente_lista_admi").css("display", "none");
        $("#googleMap").css("display","none");
		$("#flotante2").css("display","none");
		$("#flotante3").css("display","none");
        $("#recaduos_ink").css("display", "none");
		$("#migrar_cion_div").css("display", "none");
		  $("#suplanter").css("display", "none");

        block.dis = new Date();
        block.dia = block.dis.getDay();

        if (block.dia == 0) {
            block.listaDias = '<option value="">Seleccione</option><option value="lunes">Lunes</option><option value="martes">Martes</option><option value="miercoles">Miercoles</option><option value="jueves">Jueves</option><option value="viernes">Viernes</option><option value="sabado">Sabado</option>';
        } else if (block.dia == 1) {
            block.listaDias = '<option value="">Seleccione</option><option value="martes">Martes</option><option value="miercoles">Miercoles</option><option value="jueves">Jueves</option><option value="viernes">Viernes</option><option value="sabado">Sabado</option><option value="domingo">Domingo</option>';
        } else if (block.dia == 2) {
            block.listaDias = '<option value="">Seleccione</option><option value="lunes">Lunes</option><option value="miercoles">Miercoles</option><option value="jueves">Jueves</option><option value="viernes">Viernes</option><option value="sabado">Sabado</option><option value="domingo">Domingo</option>';
        } else if (block.dia == 3) {
            block.listaDias = '<option value="">Seleccione</option><option value="lunes">Lunes</option><option value="martes">Martes</option><option value="jueves">Jueves</option><option value="viernes">Viernes</option><option value="sabado">Sabado</option><option value="domingo>Domingo</option>';
        } else if (block.dia == 4) {
            block.listaDias = '<option value="">Seleccione</option><option value="lunes">Lunes</option><option value="martes">Martes</option><option value="miercoles">Miercoles</option><option value="viernes">Viernes</option><option value="sabado">Sabado</option><option value="domingo">Domingo</option>';
        } else if (block.dia == 5) {
            block.listaDias = '<option value="">Seleccione</option><option value="lunes">Lunes</option><option value="martes">Martes</option><option value="miercoles">Miercoles</option><option value="jueves">Jueves</option><option value="sabado">Sabado</option><option value="domingo">Domingo</option>';
        } else if (block.dia == 6) {
            block.listaDias = '<option value="">Seleccione</option><option value="lunes">Lunes</option><option value="martes">Martes</option><option value="miercoles">Miercoles</option><option value="jueves">Jueves</option><option value="viernes">Viernes</option><option value="domingo">Domingo</option>';
        }

        $("#dias_colores").html(block.listaDias);
    }

    function ValorToMonto(valor, callback) {
        block.valorNum = valor.toString();
        block.valorNumExpa = block.valorNum.split("");
        block.valorNumMou = block.valorNumExpa.length / 3;
        block.valorNumpes = parseInt(block.valorNumMou);
        block.cons = 0;
        block.salidaya = "";
        for (var u = block.valorNumExpa.length - 1; u > -1; u--) {
            if (block.cons == 3) {
                block.cons = 1;
                block.salidaya = "." + block.salidaya;
            } else {
                block.cons++;
            }
            block.salidaya = block.valorNumExpa[u] + block.salidaya;
        }
        return callback(block.salidaya);
    }

    $("#prestamo_principal").val(10000);
    $("#prestamo_principal2").val(100000);


    $("#monto_num_interes").keyup(function () {
        block.numero = $("#monto_num_interes").val();
        if (block.numero > 499) {
            block.numero = 500;
            $("#monto_num_interes").val(500);
        }
    });

    $("#monto_num_interes").change(function () {
        block.numero = $("#monto_num_interes").val();
        if (block.numero > 499) {
            block.numero = 500;
            $("#monto_num_interes").val(500);
        }
    });

    $("#monto_num_prestamo").keyup(function () {
        block.numero = $("#monto_num_prestamo").val();
        if (block.numero > 50000) {
            block.numero = 50000;
            $("#monto_num_prestamo").val(block.numero);
            $("#prestamo_principal").val(block.numero);
            ValorToMonto(block.numero, function (salidax) {
                $("#prestamo_principal_ini").html("$" + salidax);
            });
        } else {
            $("#prestamo_principal").val(block.numero);
            ValorToMonto(block.numero, function (salidax) {
                $("#prestamo_principal_ini").html("$" + salidax);
            });
        }
    });

    $("#boton_pdf").click(function () {


		if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

		if($("#lista_asesores_general").val()!==""){
			block.unes = $("#lista_asesores_general").val();
			block.ybes = block.unes.split("_");

			block.arrays = [block.tokens[1],block.ybes[0],block.tokens[4]];
			block.obj = {"r": "excel_generado", "d": block.arrays};
			backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
				var valor = JSON.parse(salida);
				if (!valor.e) {
					window.localStorage.setItem("Money-vars-excel",JSON.stringify(valor.d));
					setTimeout(function(){
						window.open("liquidar.html", "_blank", "toolbar=yes");
					},2000);
					//{"e":false,"d":[true,"moneydemo","1254648","JAIR PAUL FONSECA CAMARGO","1045671765","jairmoneydemo@mail.com",4076562,[["[4076562,\"2458654\",5305551,\"800.000\",30,\"2019-06-28\",\"\",\"20\",\"32.000\",4076562,\"1\",0,8635544]","[\"\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=1c8839fb-dc01-403d-9921-46a0e8bcb5e7\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=ab636a88-9c9e-4ba7-81de-53881730e690\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images?alt=media&token=9c47fc8c-886e-481f-b52d-cd0b54a66526\",\"1\",\"C\",\"2458654\",\"JOSE\",\"GONZAGA\",\"QUINTERO\",\"ALZATE\",\"cale\",\"Atlantico\",\"Barranquilla\",\"Boston\",\"0\",\"3\",\"\",\"d\",\"No asignada\",5305551,\"No asignado\",\"f.png\",\"2019-06-28 15:25:10\",7266320]",["liquido_2458654_2019-06-30_32000_32000"]],["[4076562,\"1045671789\",5305551,\"200.000\",24,\"2019-06-28\",\"\",\"20\",\"10.000\",4076562,\"1\",0,6566794]","[\"\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=b3bd9b63-0e90-4160-9b38-18f1dbdda915\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=d1d50248-41bc-4fb6-85a7-d9e1680309c0\",null,\"1\",\"C\",\"1045671789\",\"JOICE\",\"ANDREA\",\"MEJIA\",\"FIGUEROA\",\"calle \",\"Atlantico\",\"Barranquilla\",\"Bernando hoyos\",\"0\",\"3\",\"\",\"d\",\"No asignada\",5305551,\"No asignado\",\"f.png\",\"2019-06-28 15:04:38\",4271604]",["liquido_1045671789_2019-06-30_10000_10000"]],["[4076562,\"19210524\",\"5305551\",\"4.000.000\",31,\"2019-06-30\",\"-1\",\"20\",\"160.000\",4076562,\"1\",0,8216963]","[\"\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=1a8a9d2d-8861-4b5a-8b09-9d8b182fb626\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=55fcf973-91b4-4263-911b-3da0c650ab11\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=25671483-217f-4676-b44a-0659c374853f\",\"1\",\"C\",\"19210524\",\"KELIS\",\"DEL CARMEN\",\"PEREZ\",\"RIVERO\",\"por tu casa\",\"Cundinamarca\",\"Barrios unidos\",\"Los alcázares\",\"0\",\"0\",\"net@mai.com\",\"d\",\"No asignada\",\"5305551\",\"la veneca\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=754263c7-9ed8-4aa2-b6d8-de2724e3802a\",\"2019-06-30 11:02:45\",1964857]",["liquido_19210524_2019-06-30_160000_160000"]],["[4076562,\"1045671783\",5305551,\"500.000\",45,\"2019-06-28\",\"\",\"35\",\"15.000\",4076562,\"1\",0,7509732]","[\"\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=35ce2818-2528-4c22-92e5-12b40996745e\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=2f161bcc-bef8-4046-8814-96762339e02c\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images?alt=media&token=d2d44c91-40fb-4d08-b956-4acd68cf6ddd\",\"1\",\"C\",\"1045671783\",\"ANDRIS\",\"PAOLA\",\"VILLARREAL\",\"POLO\",\"calle\",\"Atlantico\",\"Soledad\",\"Ciudadela metropolitana\",\"0\",\"3\",\"\",\"d\",\"No asignada\",5305551,\"No asignado\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=a8876741-eb98-4852-bc1e-8786bb10ad38\",\"2019-06-28 15:14:55\",3409019]",["liquido_1045671783_2019-06-30_15000_15000"]],["[4076562,\"2458624\",5305551,\"500.000\",30,\"2019-06-28\",\"\",\"20\",\"20.000\",4076562,\"1\",0,9224763]","[\"\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=64fd767f-b94a-4405-b578-3acb433ef79f\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=2d1883d1-b27a-4ffa-bacd-ed4185a45be8\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images?alt=media&token=a119fe1e-e219-4627-a075-e7ed2237757a\",\"1\",\"C\",\"2458624\",\"JOSE\",\"ROLDAN\",\"FORERO\",\"IDARRAGA\",\"ca\",\"Atlantico\",\"Barranquilla\",\"Bellavista\",\"0\",\"0\",\"\",\"d\",\"No asignada\",5305551,\"No asignado\",\"f.png\",\"2019-06-28 15:27:02\",2993670]",["liquido_2458624_2019-06-30_20000_20000"]],["[4076562,\"1045671768\",5305551,\"1.000.000\",30,\"2019-06-28\",\"\",\"20\",\"40.000\",4076562,\"1\",0,9366346]","[\"\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=b1fd86b9-175a-4897-8c1f-88d6ae106ffc\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=5145c729-69ff-4c60-b36c-68c99acbb696\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images?alt=media&token=91f95f72-52dc-41dc-9ba4-a09aedf02b84\",\"1\",\"C\",\"1045671768\",\"JOSE\",\"DAVID\",\"MARTINEZ\",\"CARPINTERO\",\"c\",\"Atlantico\",\"Barranquilla\",\"Bernando hoyos\",\"0\",\"3\",\"\",\"d\",\"No asignada\",5305551,\"No asignado\",\"f.png\",\"2019-06-28 16:13:14\",8614561]",["liquido_1045671768_2019-06-30_40000_40000"]],["[4076562,\"1045671782\",5305551,\"300.000\",30,\"2019-06-28\",\"\",\"20\",\"12.000\",4076562,\"1\",0,9848523]","[\"\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=813791d1-38bb-4550-93db-e72ea8ade2d4\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=ffe3a19d-712e-4a74-b4d9-de5c771d5835\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images?alt=media&token=00354d88-3c05-4a30-8ccc-7c86b9e16df7\",\"1\",\"C\",\"1045671782\",\"ELIANA\",\"CAROLINA\",\"SANCHEZ\",\"CAICEDO\",\"calle\",\"Atlantico\",\"Barranquilla\",\"Betania\",\"0\",\"3\",\"\",\"d\",\"No asignada\",5305551,\"No asignado\",\"f.png\",\"2019-06-28 15:11:09\",6834475]",["liquido_1045671782_2019-06-30_12000_12000"]],["[4076562,\"5682457\",5305551,\"300.000\",45,\"2019-06-28\",\"\",\"35\",\"9.000\",4076562,\"1\",0,4750518]","[\"\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=d35e142b-79cc-42aa-b553-93ba2cb609a8\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=d42fd230-1379-49dd-b687-4533e9b2eb77\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images?alt=media&token=418792d9-89a7-4d80-923c-255abf7c3e9a\",\"1\",\"C\",\"5682457\",\"OCTAVIO\",\"\",\"LOZANO\",\"ORTIZ\",\"ca\",\"Atlantico\",\"Soledad\",\"Cruz de mayo\",\"0\",\"3\",\"\",\"d\",\"No asignada\",5305551,\"No asignado\",\"f.png\",\"2019-06-28 15:29:17\",8690216]",["liquido_5682457_2019-06-30_9000_9000"]],["[4076562,\"2458795\",5305551,\"100.000\",30,\"2019-06-28\",\"\",\"20\",\"4.000\",4076562,\"1\",0,6573171]","[\"\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=1a8800f8-0614-4d29-b55a-d4347e9d6bda\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=b45f56b7-4448-4492-bb41-ffd22289e84d\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images?alt=media&token=ed02078d-7874-40a0-81d0-35807b3947c4\",\"1\",\"C\",\"2458795\",\"ZOILO\",\"MARIA\",\"CANDIA\",\"\",\"c\",\"Cundinamarca\",\"Suba\",\"La alhambra\",\"0\",\"3\",\"\",\"d\",\"No asignada\",5305551,\"No asignado\",\"f.png\",\"2019-06-28 15:34:12\",2887179]",["liquido_2458795_2019-06-30_4000_4000"]],["[4076562,\"1045671786\",5305551,\"900.000\",30,\"2019-06-28\",\"\",\"20\",\"36.000\",4076562,\"1\",0,9769203]","[\"\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=c56918d9-9def-4506-9587-8b2db6101bf6\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=b98de48e-e1c9-4b72-a78e-9631fcf22b94\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images?alt=media&token=1bbbf043-b100-4635-8d7c-a81d8115f0ac\",\"1\",\"C\",\"1045671786\",\"VERONICA\",\"MARIA\",\"FRITZ\",\"BLANCO\",\"c\",\"Amazonas\",\"Leticia\",\"Afasinte \",\"0\",\"3\",\"\",\"d\",\"No asignada\",5305551,\"No asignado\",\"f.png\",\"2019-06-28 16:04:01\",4021388]",["liquido_1045671786_2019-06-30_36000_36000"]],["[4076562,\"985468\",5305551,\"600.000\",30,\"2019-06-28\",\"\",\"20\",\"24.000\",4076562,\"1\",0,6625419]","[\"\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=89f6b571-5050-473b-99fd-91545488c230\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=42800a11-6781-4fe2-84f2-030dbc949b3f\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images?alt=media&token=99b983be-de15-49ab-8b1e-b4eeabecaa9a\",\"1\",\"C\",\"985468\",\"EDUARDO\",\"RAFAEL\",\"HERAZO\",\"CHAVES\",\"ca\",\"Amazonas\",\"Leticia\",\"Afasinte \",\"0\",\"3\",\"\",\"d\",\"No asignada\",5305551,\"No asignado\",\"f.png\",\"2019-06-28 15:31:08\",2558419]",["liquido_985468_2019-06-30_24000_24000"]]],[["2019-06-30","Gasolina","40000",5305551]],[["[4076562,\"19210524\",\"5305551\",\"4.000.000\",31,\"2019-06-30\",\"-1\",\"20\",\"160.000\",4076562,\"1\",0,8216963]","[\"\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=1a8a9d2d-8861-4b5a-8b09-9d8b182fb626\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=55fcf973-91b4-4263-911b-3da0c650ab11\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=25671483-217f-4676-b44a-0659c374853f\",\"1\",\"C\",\"19210524\",\"KELIS\",\"DEL CARMEN\",\"PEREZ\",\"RIVERO\",\"por tu casa\",\"Cundinamarca\",\"Barrios unidos\",\"Los alcázares\",\"0\",\"0\",\"net@mai.com\",\"d\",\"No asignada\",\"5305551\",\"la veneca\",\"https://firebasestorage.googleapis.com/v0/b/credit-menco.appspot.com/o/images%2Fundefined?alt=media&token=754263c7-9ed8-4aa2-b6d8-de2724e3802a\",\"2019-06-30 11:02:45\",1964857]"]]]}
				}
			});
		}

    });

    $("#monto_num_prestamo2").keyup(function () {
        block.numero = $("#monto_num_prestamo2").val();
        if (block.numero > 99999998) {
            block.numero = 99999999;
            $("#monto_num_prestamo2").val(block.numero);
            $("#prestamo_principal2").val(block.numero);
            ValorToMonto(block.numero, function (salidax) {
                $("#prestamo_principal_ini2").html("$" + salidax);
            });
        } else {
            $("#prestamo_principal2").val(block.numero);
            ValorToMonto(block.numero, function (salidax) {
                $("#prestamo_principal_ini2").html("$" + salidax);
            });
        }
    });

    $("#monto_num_prestamo2").change(function () {
        block.numero = $("#monto_num_prestamo2").val();
        if (block.numero > 99999998) {
            block.numero = 99999999;
            $("#monto_num_prestamo2").val(block.numero);
            $("#prestamo_principal2").val(block.numero);
            ValorToMonto(block.numero, function (salidax) {
                $("#prestamo_principal_ini2").html("$" + salidax);
            });
        } else {
            $("#prestamo_principal2").val(block.numero);
            ValorToMonto(block.numero, function (salidax) {
                $("#prestamo_principal_ini2").html("$" + salidax);
            });
        }
    });

    $("#dias_colores").change(function () {
        if ($("#dias_colores").val() !== "") {
            $("#color_click").click();
        }
    });

	function fallo_usuario(cedula){
		window.sessionStorage.setItem("Money-vars-betoso",cedula);
		$("#seccione_beta").modal("show");
	}

	$("#listado_liengenerela").html("");
	window.sessionStorage.setItem("numero_lista","0");

    function consulta_x(){
        block.num = window.sessionStorage.getItem("numero_lista");

        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }
        block.listadi ="";
        block.arrays = [block.tokens[1],block.num];
        block.obj = {"r": "lista_cliente_basic", "d": block.arrays};//falta
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                if(valor.d[1]!==null) {
                    block.item = JSON.parse(valor.d[1]);
                    window.localStorage.setItem("Money-vars-cliente-"+block.item[7],valor.d[1]);
					block.cedula = block.item[6];
                    block.nomre = block.item[7];
                    block.nomre2 = block.item[8];
                    block.apellido = block.item[9];
                    block.apellido2 = block.item[10];
                    block.direcion = block.item[11];
                    block.telefono = block.item[16];
                    block.listadi = block.listadi + '<tr><td> ' + block.nomre2 + ' ' + block.apellido + ' ' + block.apellido2 + '</td><td>' + block.cedula + block.nomre + '</td><td>' + block.direcion + '</td><td>' + block.telefono + '</td><td><button class="btn btn-primary" onclick="javascript:editar_cliente(' + String.fromCharCode(39) + block.nomre + String.fromCharCode(39) + ');">Editar</button> &nbsp &nbsp <button class="btn btn-danger" onclick="javascript:fallo_usuario(' + String.fromCharCode(39) + block.cedula + String.fromCharCode(39) + ');">Betar</button></td></tr>';
                    $("#listado_liengenerela").append(block.listadi);
                    block.nexr = parseInt(block.num) + 1;
                    window.sessionStorage.setItem("numero_lista", block.nexr);
                    consulta_x();
                }
            }else if(valor.d[1]=="4" && parseInt(block.num)<parseInt(valor.d[2]) ){
				block.nexr = parseInt(block.num) + 1;
				window.sessionStorage.setItem("numero_lista", block.nexr);
				consulta_x();
            }
        });
    }

    function editar_cliente(cedula){
        block.unicos = JSON.parse(window.localStorage.getItem("Money-vars-cliente-"+cedula));

		crear_infor();

		window.sessionStorage.setItem("Money-vars-foto-id-reversomd",block.unicos[1]);
		window.sessionStorage.setItem("Money-vars-foto-id-normalmd",block.unicos[2]);
		window.sessionStorage.setItem("Money-vars-foto-idmd",block.unicos[3]);
		window.sessionStorage.setItem("Money-vars-foto-frontald",block.unicos[4]);

		$("#telefono_fijomd").val(block.unicos[16]);
		$("#telefono_celmd").val(block.unicos[17]);
		$("#correo_electronicomd").val(block.unicos[18]);
		block.ele = "2";
		if(block.unicos[6]=="C"){
			block.ele = "1";
		}
		$("#pais_selecionadomd option[value='"+block.ele+"']").attr("selected", true);

		$("#alias_textd").val(block.unicos[19]);
		$("#numero_idmd").val(block.unicos[7]);
		$("#nombre_id1md").val(block.unicos[8]);
		$("#nombre_id2md").val(block.unicos[9]);
		$("#apellido_id1md").val(block.unicos[10]);
		$("#apellido_id2md").val(block.unicos[11]);
		$("#direccion_ubicamd").val(block.unicos[12]);
		$("#numero_idmd").prop("disabled", true);
		$("#foto_m1md").attr("src", block.unicos[1]);
		$("#foto_m4md").attr("src", block.unicos[2]);
		$("#foto_m2md").attr("src", block.unicos[3]);
		$("#foto_m3md").attr("src", block.unicos[4]);

		$("#tipo_departamentomd option[value='"+block.unicos[13]+"']").attr("selected", true);

		block.depart = $("#tipo_departamentomd").val();
        $("#tipo_ciudadesmd").html('<option value=""></option>');

        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.arrays = [block.tokens[1], block.unicos[13]];
        block.obj = {"r": "extraer_ciudades", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                block.lista = valor.d[1];
                block.nuevo = "";
                for (var e = 0; e < block.lista.length; e++) {
                    block.nuevo = block.nuevo + '<option value="' + block.lista[e] + '">' + block.lista[e] + '</option>';
                }
                $("#tipo_ciudadesmd").html($("#tipo_ciudadesmd").html() + block.nuevo);
				$("#tipo_ciudadesmd option[value='"+block.unicos[14]+"']").attr("selected", true);
            }
        });


        $("#tipo_barriomd").html('<option value=""></option>');

        block.arrays = [block.tokens[1], block.unicos[13], block.unicos[14]];
        block.obj = {"r": "extraer_barrios", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                block.lista = valor.d[1];
                block.nuevo = "";
                for (var e = 0; e < block.lista.length; e++) {
                    block.nuevo = block.nuevo + '<option value="' + block.lista[e] + '">' + block.lista[e] + '</option>';
                }
                $("#tipo_barriomd").html($("#tipo_barriomd").html() + block.nuevo);
                $("#tipo_barriomd option[value='"+block.unicos[15]+"']").attr("selected", true);
            }
        });

    }

    function cliente_lista() {

        $("#crear_contrato_form").css("display", "none");
        $("#crear_contrato_form_dos").css("display", "none");
        $("#lista_ayu").css("display", "none");
        $("#lista_sup").css("display", "none");
        $("#lista_ase").css("display", "none");
        $("#crear").css("display", "none");
        $("#asig_supervidor").css("display", "none");
        $("#lista_asi_ayu").css("display", "none");
        $("#lista_asi_sup").css("display", "none");
        $("#configuracion_general").css("display", "none");
        $("#busqueda_asignaciones").css("display", "none");
        $("#configuracion_general_cuotas").css("display", "none");
        $("#liquidacion_page").css("display", "none");
        $("#create_clientes_listo").css("display", "none");
        $("#contratos_view").css("display", "none");
        $("#cliente_lista_admi").css("display", "initial");
        $("#listado_liengenerela").html("");
        $("#googleMap").css("display","none");
		$("#flotante2").css("display","none");
		$("#flotante3").css("display","none");
        $("#recaduos_ink").css("display", "none");
		$("#migrar_cion_div").css("display", "none");
		$("#suplanter").css("display", "none");

		window.sessionStorage.setItem("numero_lista","0");
        consulta_x();
    }

    $("#configurar_directa").click(function () {
        block.refinanciacioinCoun = $("#count_refinansacion").val();
        if(block.refinanciacioinCoun==""){ block.refinanciacioinCoun = 3;}
        block.nombremp = $("#nom_empresa").val();
        block.direcccion = $("#dire_empresa").val();
        block.nit_empresa = $("#nit_empresa").val();
        block.min = $("#monto_num_prestamo").val();
        block.max = $("#monto_num_prestamo2").val();
        block.sobrePrestamo = $("#mora_clientes_prestamo").val();
        block.demora = $("#selector_demora").val();
        block.is_color_lunes = $("#valor_lunes").css('background-color');
        block.is_color_martes = $("#valor_martes").css('background-color');
        block.is_color_miercoles = $("#valor_miercoles").css('background-color');
        block.is_color_jueves = $("#valor_jueves").css('background-color');
        block.is_color_viernes = $("#valor_viernes").css('background-color');
        block.is_color_sabado = $("#valor_sabado").css('background-color');
        block.is_color_domingo = $("#valor_domingo").css('background-color');

        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.arrays = [block.tokens[1], block.min, block.max, block.demora, block.is_color_lunes, block.is_color_martes, block.is_color_miercoles, block.is_color_jueves, block.is_color_viernes, block.is_color_sabado, block.is_color_domingo,block.sobrePrestamo,block.refinanciacioinCoun,block.nombremp,block.direcccion,block.nit_empresa];
        block.obj = {"r": "load_configuracion", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                toastr.success('Se ha configurado correctamente', 'System notification!');
            }
        });

    });


    function down_configuracion() {
        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.arrays = [block.tokens[1]];
        block.obj = {"r": "downconfiguracion", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e && valor.d[1] !== null) {
                block.lista = JSON.parse(valor.d[1]);
                $("#count_refinansacion").val(block.lista[12]);
                $("#monto_num_prestamo").val(block.lista[1]);
                $("#monto_num_prestamo2").val(block.lista[2]);
				ValorToMonto(block.lista[2], function (salidax) {
					$("#prestamo_principal_ini2").text("$"+salidax);
				});
				ValorToMonto(block.lista[1], function (salidax) {
					$("#prestamo_principal_ini").text("$"+salidax);
				});
                $("#selector_demora option[value='" + block.lista[3] + "']").attr("selected", true);
                $("#mora_clientes_prestamo option[value='" + block.lista[11] + "']").attr("selected", true);
                $("#valor_lunes").css('background-color', block.lista[4]);
                $("#valor_martes").css('background-color', block.lista[5]);
                $("#valor_miercoles").css('background-color', block.lista[6]);
                $("#valor_jueves").css('background-color', block.lista[7]);
                $("#valor_viernes").css('background-color', block.lista[8]);
                $("#valor_sabado").css('background-color', block.lista[9]);
                $("#valor_domingo").css('background-color', block.lista[10]);
                $("#nit_empresa").val(block.lista[15]);
                $("#dire_empresa").val(block.lista[14]);
                $("#nom_empresa").val(block.lista[13]);
            }else{
				toastr.warning('Configure el perfil de su empresa', 'System notification!');
				asig_configuracion();
			}
        });
    }

    down_configuracion();


    $("#color_click").change(function () {
        block.color = $("#color_click").val();
        $("#valor_" + $("#dias_colores").val()).css("background-color", block.color);
    });

    $("#monto_num_prestamo").change(function () {
        block.numero = $("#monto_num_prestamo").val();
        if (block.numero > 50000) {
            block.numero = 50000;
            $("#monto_num_prestamo").val(block.numero);
            $("#prestamo_principal").val(block.numero);
            ValorToMonto(block.numero, function (salidax) {
                $("#prestamo_principal_ini").html("$" + salidax);
            });
        } else {
            $("#prestamo_principal").val(block.numero);
            ValorToMonto(block.numero, function (salidax) {
                $("#prestamo_principal_ini").html("$" + salidax);
            });
        }
    });

    function informe_completo(){
        $("#crear_contrato_form").css("display", "none");
        $("#crear_contrato_form_dos").css("display", "none");
        $("#lista_ayu").css("display", "none");
        $("#lista_sup").css("display", "none");
        $("#lista_ase").css("display", "none");
        $("#crear").css("display", "none");
        $("#asig_supervidor").css("display", "none");
        $("#lista_asi_ayu").css("display", "none");
        $("#lista_asi_sup").css("display", "none");
        $("#configuracion_general").css("display", "none");
        $("#busqueda_asignaciones").css("display", "none");
        $("#configuracion_general_cuotas").css("display", "none");
        $("#create_clientes_listo").css("display", "none");
        $("#liquidacion_page").css("display", "initial");
        $("#contratos_view").css("display", "none");
        $("#cliente_lista_admi").css("display", "none");
        $("#googleMap").css("display","none");
		$("#flotante2").css("display","none");
		$("#flotante3").css("display","none");
        $("#recaduos_ink").css("display", "block");
		$("#migrar_cion_div").css("display", "none");
		  $("#suplanter").css("display", "none");
    }



    function vers_contratos(){
        $("#crear_contrato_form").css("display", "none");
        $("#crear_contrato_form_dos").css("display", "none");
        $("#lista_ayu").css("display", "none");
        $("#lista_sup").css("display", "none");
        $("#lista_ase").css("display", "none");
        $("#crear").css("display", "none");
        $("#asig_supervidor").css("display", "none");
        $("#lista_asi_ayu").css("display", "none");
        $("#lista_asi_sup").css("display", "none");
        $("#configuracion_general").css("display", "none");
        $("#busqueda_asignaciones").css("display", "none");
        $("#configuracion_general_cuotas").css("display", "none");
        $("#liquidacion_page").css("display", "none");
        $("#create_clientes_listo").css("display", "none");
        $("#contratos_view").css("display", "initial");
        $("#cliente_lista_admi").css("display", "none");
        $("#googleMap").css("display","none");
		$("#flotante2").css("display","none");
		$("#flotante3").css("display","none");
        $("#recaduos_ink").css("display", "none");
		$("#migrar_cion_div").css("display", "none");
		  $("#suplanter").css("display", "none");
    }


    function crear_infor(){
        $("#contratos_view").css("display", "none");
        $("#crear_contrato_form").css("display", "none");
        $("#crear_contrato_form_dos").css("display", "none");
        $("#lista_ayu").css("display", "none");
        $("#lista_sup").css("display", "none");
        $("#lista_ase").css("display", "none");
        $("#crear").css("display", "none");
        $("#asig_supervidor").css("display", "none");
        $("#lista_asi_ayu").css("display", "none");
        $("#lista_asi_sup").css("display", "none");
        $("#configuracion_general").css("display", "none");
        $("#busqueda_asignaciones").css("display", "none");
        $("#configuracion_general_cuotas").css("display", "none");
        $("#liquidacion_page").css("display", "none");
        $("#create_clientes_listo").css("display", "initial");
        $("#cliente_lista_admi").css("display", "none");
        $("#googleMap").css("display","none");
		$("#flotante2").css("display","none");
		$("#flotante3").css("display","none");
        $("#recaduos_ink").css("display", "none");
		$("#migrar_cion_div").css("display", "none");
		  $("#suplanter").css("display", "none");
    }

    var actuesli = moment().format('DD/MM/YYYY');
    $("#result2").val(block.actuesli);


    function buscar_mapa(){
		$("#flotante2").css("display","block");
        $("#googleMap").css("display","initial");
        $("#crear_contrato_form").css("display", "none");
        $("#crear_contrato_form_dos").css("display", "none");
        $("#lista_ayu").css("display", "none");
        $("#lista_sup").css("display", "none");
        $("#lista_ase").css("display", "none");
        $("#crear").css("display", "none");
        $("#asig_supervidor").css("display", "none");
        $("#lista_asi_ayu").css("display", "none");
        $("#lista_asi_sup").css("display", "none");
        $("#configuracion_general").css("display", "none");
        $("#busqueda_asignaciones").css("display", "none");
        $("#configuracion_general_cuotas").css("display", "none");
        $("#liquidacion_page").css("display", "none");
        $("#create_clientes_listo").css("display", "none");
        $("#contratos_view").css("display", "none");
        $("#cliente_lista_admi").css("display", "none");
        $("#recaduos_ink").css("display", "none");
		$("#migrar_cion_div").css("display", "none");
		  $("#suplanter").css("display", "none");
    }

	var map;

    function myMap() {

        if (window.localStorage.getItem("Money-vars-token") !== null) {
            block.tokens = JSON.parse(window.localStorage.getItem("Money-vars-token"));
        } else {
            block.tokens = JSON.parse(window.sessionStorage.getItem("Money-vars-token"));
        }

        block.arrays = [block.tokens[1],block.tokens[4]];
        block.obj = {"r": "down_geo_admin", "d": block.arrays};
        backend.conexionEnvio(JSON.stringify(block.obj), function (salida) {
            var valor = JSON.parse(salida);
            if (!valor.e) {
                block.listao=valor.d[1];

                var bounds = new google.maps.LatLngBounds();
                var mapOptions = {
					center: {lat: 10.97, lng: -74.82},
                    mapTypeId: 'roadmap',
					zoom: 15,
					gestureHandling: 'greedy'
                };

                map = new google.maps.Map(document.getElementById("googleMap"), mapOptions);

                block.markesa=[];
                block.tarjetero ="";
                block.infoWindowContents=[];

                for(var q=0; q<block.listao.length; q++){
                    block.markesa.push([block.listao[q].user,parseFloat(block.listao[q].lat),parseFloat(block.listao[q].lon)]);
                    block.infoWindowContents.push(['<div class="info_content">Nombre: '+block.listao[q].user+' <br> Cedula: '+block.listao[q].cedula+'</div>']);
                }

                var infoWindow = new google.maps.InfoWindow(), marker, i;
                for( i = 0; i <  block.markesa.length; i++ ) {
                    marker = new google.maps.Marker({
                        position: new google.maps.LatLng(parseFloat(block.markesa[i][1]),parseFloat(block.markesa[i][2])),
                        map: map
                    });

                    google.maps.event.addListener(marker, 'click', (function(marker, i) {
                        return function() {
                            infoWindow.setContent(block.infoWindowContents[i][0]);
                            infoWindow.open(map, marker);
                        }
                    })(marker, i));
                }

            }else{
                toastr.warning('No posee contratos para generar ruta', 'System notification!');
            }
        });


    }

</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCMtw9w0lIUfU8TcuAdPdDgNZuc9p_J2-Y&callback=myMap"></script>
</body>
</html>
